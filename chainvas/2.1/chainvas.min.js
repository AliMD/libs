(function(){var e=window.Chainvas={chainable:function(e){return function(){var t=e.apply(this,arguments);return void 0===t?this:t}},chainablizeOne:function(t,n){try{e.utils.hasOwnProperty(t,n)&&e.utils.isFunction(t[n])&&(t[n]=e.chainable(t[n]))}catch(r){}return this},chainablize:function(t,n){var r=t.prototype;if(n)for(var i=n.length;i--;)e.chainablizeOne(r,n[i]);else for(i in r)e.chainablizeOne(r,i);return this},helpers:function(t,n){var r,i=t.prototype;for(r in e.methods)i&&!(r in i)&&(i[r]=e.methods[r]);return e.extend(i,n),this},extend:function(e,t){return Chainvas.methods.prop.call(e,t)},global:function(t,n,r){"string"==typeof t&&(t=[t]);for(var i=t.length;i--;){var o=window[t[i]];o&&e.chainablize(o,r).helpers(o,n)}},methods:{prop:function(){if(1===arguments.length){var e,t=arguments[0];for(e in t)this[e]=t[e]}else 2===arguments.length&&(this[arguments[0]]=arguments[1]);return this}},utils:{isFunction:function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object Object]"===t&&"call"in e&&"apply"in e&&/^\s*\bfunction\s+\w+\([\w,]*\) \{/.test(e+"")},hasOwnProperty:function(e,t){try{return e.hasOwnProperty(t)}catch(n){return t in e&&(!e.prototype||!(t in e.prototype)||e.prototype[t]!==e[t])}}}}})(),function(){var e=["CSSStyleDeclaration","DOMTokenList","Node","Element"];if(window.HTMLElement&&"addEventListener"in window.HTMLElement.prototype&&window.Components&&window.Components.interfaces)for(var t in Components.interfaces)if(t.match(/^nsIDOMHTML\w*Element$/)){var n=t.replace(/^nsIDOM/,"");window[n]&&e.push(n)}Chainvas.global(e)}(),Chainvas.global("CanvasRenderingContext2D",{circle:function(e,t,n){return this.beginPath().arc(e,t,n,0,2*Math.PI,!1).closePath()},roundRect:function(e,t,n,r,i){return this.beginPath().moveTo(e+i,t).lineTo(e+n-i,t).quadraticCurveTo(e+n,t,e+n,t+i).lineTo(e+n,t+r-i).quadraticCurveTo(e+n,t+r,e+n-i,t+r).lineTo(e+i,t+r).quadraticCurveTo(e,t+r,e,t+r-i).lineTo(e,t+i).quadraticCurveTo(e,t,e+i,t).closePath()}});