(function(t){var e="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js",n="http://www.jplayer.org/2.3.0/js/jquery.jplayer.min.js",r="http://www.jplayer.org/2.3.0/js/Jplayer.swf",a="html,flash",o=!1,i=!1,s=!1,l={mp3:{codec:'audio/mpeg; codecs="mp3"',flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis"',flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},u=function(t){return t&&"object"==typeof t&&t.hasOwnProperty?!0:!1},c=function(t){var e=!1;return/\.mp3$/i.test(t)?e="mp3":/\.mp4$/i.test(t)||/\.m4v$/i.test(t)?e="m4v":/\.m4a$/i.test(t)?e="m4a":/\.ogg$/i.test(t)||/\.oga$/i.test(t)?e="oga":/\.ogv$/i.test(t)?e="ogv":/\.webm$/i.test(t)&&(e="webmv"),e},d=function(t){var e="",n="";if(u(t))for(var r in t)t.hasOwnProperty(r)&&(e+=n+r,n=",");return o&&console.log('getSupplied(): Generated: supplied = "'+e+'"'),e};t.player("jplayer",{_canPlayType:function(t,e){var n,r=t.toLowerCase(),o={media:{},options:{}},i=!1;if("video"!==r&&"audio"!==r&&("string"==typeof e?/^http.*/i.test(e)&&(n=c(e),n&&(o.media[n]=e,o.options.solution=a,o.options.supplied=n)):o=e,u(o)&&u(o.media))){u(o.options)||(o.options={}),o.options.solution||(o.options.solution=a),o.options.supplied||(o.options.supplied=d(o.media));for(var s=o.options.solution.toLowerCase().split(","),p=o.options.supplied.toLowerCase().split(","),h=0;s.length>h;h++)for(var f,g=s[h].replace(/^\s+|\s+$/g,""),v="html"===g,y="flash"===g,m=0;p.length>m;m++)if(n=p[m].replace(/^\s+|\s+$/g,""),l[n]){!f&&v&&(f=document.createElement(l[n].media));var b=!!(f&&f.canPlayType&&f.canPlayType(l[n].codec)),S=b&&v,I=l[n].flashCanPlay&&y;(S||I)&&(i={html:S,type:n},h=s.length,m=p.length)}}return i},_setup:function(){var l,p,h=this,f="unknown",g={},v={},y=!1,m=0,b=null,S=!1,I=null,x=function(){y?(o&&console.log("Dispatched event : durationchange : "+m),h.dispatchEvent("durationchange")):(o&&console.log("DELAYED EVENT (!ready) : durationchange : "+m),clearTimeout(b),b=setTimeout(x,250))},T=function(){var t=function(t){t.jPlayer.status.duration!==m&&(m=t.jPlayer.status.duration,x())},e=function(t){S||100!==t.jPlayer.status.seekPercent||(S=!0,setTimeout(function(){o&&console.log("Trigger : canplaythrough"),p._trigger($.jPlayer.event.canplaythrough)},0))};l.bind($.jPlayer.event.loadstart,function(){setTimeout(function(){o&&console.log("Trigger : loadeddata"),p._trigger($.jPlayer.event.loadeddata)},0)}).bind($.jPlayer.event.progress,function(n){t(n),e(n)}).bind($.jPlayer.event.timeupdate,function(n){t(n),e(n)}).bind($.jPlayer.event.play,function(){setTimeout(function(){o&&console.log("Trigger : playing"),p._trigger($.jPlayer.event.playing)},0)}),o&&console.log("Created CUSTOM event handlers for FLASH")},H=function(){(function(e){l=e("#"+h.id),"string"==typeof h.src?(f=c(h.src),g[f]=h.src,v.supplied=f,v.solution=a):u(h.src)&&(g=u(h.src.media)?h.src.media:{},v=u(h.src.options)?h.src.options:{},v.solution=v.solution||a,v.supplied=v.supplied||d(h.src.media)),v.swfPath=v.swfPath||r,l.bind(e.jPlayer.event.ready,function(t){t.jPlayer.flash.used&&T(),e(this).jPlayer("setMedia",g).jPlayer("load")});var n=e.jPlayer.reservedEvent+" loadeddata durationchange",i=n.split(/\s+/g),s=function(t){l.bind(e.jPlayer.event[t],function(e){o&&console.log("Dispatched event: "+t+(e&&e.jPlayer?" ("+e.jPlayer.status.currentTime+"s)":"")),h.dispatchEvent(t)}),o&&console.log("Created event handler for: "+t)};for(var b in e.jPlayer.event)if(e.jPlayer.event.hasOwnProperty(b)){var S=!0;for(var H in i)if(i.hasOwnProperty(H)&&i[H]===b){S=!1;break}S?s(b):o&&console.log("Skipped auto event handler creation for: "+b)}l.bind(e.jPlayer.event.loadeddata,function(t){o&&console.log("Dispatched event: loadeddata"+(t&&t.jPlayer?" ("+t.jPlayer.status.currentTime+"s)":"")),h.dispatchEvent("loadeddata"),y=!0}),o&&console.log("Created CUSTOM event handler for: loadeddata"),l.bind(e.jPlayer.event.durationchange,function(t){m=t.jPlayer.status.duration,x()}),o&&console.log("Created CUSTOM event handler for: durationchange"),l.bind(e.jPlayer.event.error,function(t){I=t.jPlayer.error,I.code=I.type===e.jPlayer.error.URL?4:0,o&&console.log("Dispatched event: error"),o&&console.dir(I),h.dispatchEvent("error")}),o&&console.log("Created CUSTOM event handler for: error"),t.player.defineProperty(h,"error",{set:function(){return I},get:function(){return I}}),t.player.defineProperty(h,"currentTime",{set:function(t){return p.status.paused?l.jPlayer("pause",t):l.jPlayer("play",t),t},get:function(){return p.status.currentTime}}),t.player.defineProperty(h,"duration",{set:function(){return y?m:0/0},get:function(){return y?m:0/0}}),t.player.defineProperty(h,"muted",{set:function(t){return l.jPlayer("mute",t),p.options.muted},get:function(){return p.options.muted}}),t.player.defineProperty(h,"volume",{set:function(t){return l.jPlayer("volume",t),p.options.volume},get:function(){return p.options.volume}}),t.player.defineProperty(h,"paused",{set:function(){return p.status.paused},get:function(){return p.status.paused}}),h.play=function(){l.jPlayer("play")},h.pause=function(){l.jPlayer("pause")},l.jPlayer(v),p=l.data("jPlayer")})(jQuery)},C=function(){jQuery.jPlayer?H():s?setTimeout(C,250):(s=!0,t.getScript(n,function(){s=!1,H()}))},w=function(){window.jQuery?C():i?setTimeout(w,250):(i=!0,t.getScript(e,function(){i=!1,C()}))};w()},_teardown:function(){jQuery("#"+this.id).jPlayer("destroy")}})})(Popcorn);