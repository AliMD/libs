/*!
 *	Title: jQuery Super Labels Plugin - Give your forms a helping of awesome!
 *	Author: RÃ©my Bach
 *	Version: 2.0.3
 *	License: http://remybach.mit-license.org
 *	Url: http://github.com/remybach/jQuery.superLabels
 *	Description:
 *	This plugin allows you to display your form labels on top of your form fields, saving you space on your page.
 */
;(function(t){"use strict";var e,a,i,s,l,n,o,r,u={autoCharLimit:!1,baseZindex:0,duration:500,easingIn:t.easing&&t.easing.def?"easeInOutCubic":!1,easingOut:t.easing&&t.easing.def?"easeInOutCubic":!1,fadeDuration:250,labelLeft:0,labelTop:0,noAnimate:!1,opacity:.5,slide:!0,wrapSelector:!1},d=["text","search","url","tel","email","password","number"],h=["input","textarea","select"];t.fn.superLabels=function(n){var o,r=[];return 0===this.length?!1:(n&&n.labelLeft&&isNaN(n.labelLeft)&&(n.labelLeft=Number(n.labelLeft.replace(/\D+/,""))),n&&n.labelTop&&isNaN(n.labelTop)&&(n.labelTop=Number(n.labelTop.replace(/\D+/,""))),o=t.extend({},u),t(this).data("slDefaults",t.extend(o,n||{})).addClass("sl-defaults"),1===this.length&&/form/i.test(this[0].tagName)?r=t(h.join(","),this):this.length>1?this.each(function(){/form/i.test(this.tagName)?t.merge(r,t(h.join(","),this)):r.push(this)}):r=this,t(r).each(function(){var n,o,r=t(this),u=r.attr("placeholder");return-1===("input"===r[0].tagName.toLowerCase()&&t.inArray(r.attr("type"),d))&&-1!==t.inArray(r[0].tagName.toLowerCase(),h)?!0:(n=e(this),u&&(0===n.length?(o='<label for="'+(r.attr("id")||r.attr("name"))+'">'+u+"</label>",o+="</label>",o=t(o),n=o,r.before(n)):n.attr("title",u),r.removeAttr("placeholder")),0===n.length?!0:(a(r,n),this.tagName.match(/select/i)||(r.focus(i),r.blur(s),r.change(s),r.bind("input",l),r.bind("propertychange",s),r.keyup(l),n.click(function(){r.focus()})),void 0))}))},e=function(e){var a,i=t(e).closest(".sl-defaults").data("slDefaults"),s=t(e).siblings("label");return 0===s.length&&(i.wrapSelector?s=t(e).parents(i.wrapSelector).find("label"):(a=e.id||e.name,s=t('[for="'+a+'"]'))),s},a=function(e,a){var i,s=e.data("slCharLimit"),l=t(e).closest(".sl-defaults").data("slDefaults"),u=0;e[0].tagName.match(/select/i)?(i=0===e.find("[selected]").length?" selected":"",e.prepend('<option value="" disabled'+i+' rel="label">'+a.html()+"</option>"),a.css("display","none")):(("auto"===s||l.autoCharLimit&&isNaN(s))&&r(e,a),n(e)?u=1:o(e)&&(u=l._opacity),e.css({zIndex:l.baseZindex+1}).addClass("sl_field"),a.css({left:n(e)?l.labelLeft:t(e).width()-a.width(),opacity:u,position:"absolute",top:l.labelTop,zIndex:l.baseZindex+2}).addClass("sl_label"))},i=function(){var a,i=t(this).closest(".sl-defaults").data("slDefaults"),s=i.duration,l={opacity:0};if(n(this)){if(a=e(this),i.noAnimate)return a.hide(),!1;i.slide?(l.left=t(this).width()-a.width(),l.opacity=i.opacity):s=i.fadeDuration,a.stop(!0,!1).animate(l,s,i.easingOut)}},s=function(){var a,i=t(this).closest(".sl-defaults").data("slDefaults"),s=i.duration,o={opacity:1};if(n(this)){if(a=e(this),i.noAnimate)return a.show(),!1;i.slide?o.left=i.labelLeft:s=i.fadeDuration,a.stop(!0,!1).animate(o,s,i.easingOut)}else l.apply(this)},l=function(){var a,i=t(this).closest(".sl-defaults").data("slDefaults"),s=0;return i.noAnimate?!1:(a=e(this),n(this)&&a.css("opacity")>0||!n(this)&&0===a.css("opacity")?!1:((n(this)&&0!==a.css("opacity")||o(this))&&(s=i.opacity),a.stop(!0,!1).animate({opacity:s},i.fadeDuration,i.easingOut),void 0))},n=function(e){return""===t(e).val()},o=function(e){var a=t(e).data("slCharLimit");return a&&"number"==typeof a?(e=e.length?e[0]:e,a&&e.value&&a>=e.value.length):!1},r=function(e,a){var i,s,l="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=["font-family","font-size","font-weight","letter-spacing","line-height","text-shadow","text-transform"],o=t("<div>"+l+"</div>");t.each(n,function(t,a){o.css(a,e.css(a))}),o.css({position:"absolute",visibility:"hidden"}),e.parent().append(o),s=Math.round(o.width()/l.length),o.remove(),i=e.width()-a.width(),e.data("slCharLimit",Math.floor(i/s))}})(jQuery);