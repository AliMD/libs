var CookieJar=Class.create();CookieJar.prototype={appendString:"__CJ_",initialize:function(e){if(this.options={expires:3600,path:"",domain:"",secure:""},Object.extend(this.options,e||{}),""!=this.options.expires){var t=new Date;t=new Date(t.getTime()+1e3*this.options.expires),this.options.expires="; expires="+t.toGMTString()}""!=this.options.path&&(this.options.path="; path="+escape(this.options.path)),""!=this.options.domain&&(this.options.domain="; domain="+escape(this.options.domain)),this.options.secure="secure"==this.options.secure?"; secure":""},put:function(e,t){e=this.appendString+e,cookie=this.options;var n=typeof t;switch(n){case"undefined":case"function":case"unknown":return!1;case"boolean":case"string":case"number":t=""+t+""}var i=e+"="+escape(Object.toJSON(t));try{document.cookie=i+cookie.expires+cookie.path+cookie.domain+cookie.secure}catch(r){return!1}return!0},remove:function(e){e=this.appendString+e,cookie=this.options;try{var t=new Date;t.setTime(t.getTime()-36e5);var n="; expires="+t.toGMTString();document.cookie=e+"="+n+cookie.path+cookie.domain+cookie.secure}catch(i){return!1}return!0},get:function(e){e=this.appendString+e;var t=document.cookie.match(e+"=(.*?)(;|$)");return t?unescape(t[1]).evalJSON():null},empty:function(){for(keys=this.getKeys(),size=keys.size(),i=0;size>i;i++)this.remove(keys[i])},getPack:function(){for(pack={},keys=this.getKeys(),size=keys.size(),i=0;size>i;i++)pack[keys[i]]=this.get(keys[i]);return pack},getKeys:function(){for(keys=$A(),keyRe=/[^=; ]+(?=\=)/g,str=document.cookie,CJRe=RegExp("^"+this.appendString);void 0!=(match=keyRe.exec(str));)CJRe.test(match[0].strip())&&keys.push(match[0].strip().gsub("^"+this.appendString,""));return keys}};