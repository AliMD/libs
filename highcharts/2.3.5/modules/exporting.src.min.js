(function(e){function t(e){for(var t=e.length;t--;)"number"==typeof e[t]&&(e[t]=Math.round(e[t])-.5);return e}var n,i=e.Chart,r=e.addEvent,o=e.removeEvent,a=e.createElement,s=e.discardElement,l=e.css,c=e.merge,u=e.each,d=e.extend,h=Math,p=h.max,f=document,g=window,m=e.isTouchDevice,v="M",b="L",y="div",x="hidden",w="none",k="highcharts-",_="absolute",C="px",T=e.Renderer.prototype.symbols,E=e.getOptions();d(E.lang,{downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",exportButtonTitle:"Export to raster or vector image",printButtonTitle:"Print the chart"}),E.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF"},menuItemStyle:{padding:"0 5px",background:w,color:"#303030",fontSize:m?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{align:"right",backgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#F7F7F7"],[.6,"#E3E3E3"]]},borderColor:"#B0B0B0",borderRadius:3,borderWidth:1,height:20,hoverBorderColor:"#909090",hoverSymbolFill:"#81A7CF",hoverSymbolStroke:"#4572A5",symbolFill:"#E0E0E0",symbolStroke:"#A0A0A0",symbolX:11.5,symbolY:10.5,verticalAlign:"top",width:24,y:10}},E.exporting={type:"image/png",url:"http://export.highcharts.com/",width:800,buttons:{exportButton:{symbol:"exportIcon",x:-10,symbolFill:"#A8BF77",hoverSymbolFill:"#768F3E",_id:"exportButton",_titleKey:"exportButtonTitle",menuItems:[{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]},printButton:{symbol:"printIcon",x:-36,symbolFill:"#B5C9DF",hoverSymbolFill:"#779ABF",_id:"printButton",_titleKey:"printButtonTitle",onclick:function(){this.print()}}}},e.post=function(e,t){var n,i;i=a("form",{method:"post",action:e,enctype:"multipart/form-data"},{display:w},f.body);for(n in t)a("input",{type:x,name:n,value:t[n]},null,i);i.submit(),s(i)},d(i.prototype,{getSVG:function(t){var i,r,o,l,h=this,p=c(h.options,t);return f.createElementNS||(f.createElementNS=function(e,t){return f.createElement(t)}),r=a(y,null,{position:_,top:"-9999em",width:h.chartWidth+C,height:h.chartHeight+C},f.body),d(p.chart,{renderTo:r,forExport:!0}),p.exporting.enabled=!1,p.chart.plotBackgroundImage=null,p.series=[],u(h.series,function(e){l=c(e.options,{animation:!1,showCheckbox:!1,visible:e.visible}),l.isInternal||p.series.push(l)}),i=new e.Chart(p),u(["xAxis","yAxis"],function(e){u(h[e],function(t,r){var o=i[e][r],a=t.getExtremes(),s=a.userMin,l=a.userMax;(s!==n||l!==n)&&o.setExtremes(s,l,!0,!1)})}),o=i.container.innerHTML,p=null,i.destroy(),s(r),o=o.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/isTracker="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" ]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(e){return e.toLowerCase()}),o=o.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'"),2===o.match(/ xmlns="/g).length&&(o=o.replace(/xmlns="[^"]+"/,"")),o},exportChart:function(t,n){var i=this.options.exporting,r=this.getSVG(c(i.chartOptions,n));t=c(i,t),e.post(t.url,{filename:t.filename||"chart",type:t.type,width:t.width,scale:t.scale||2,svg:r})},print:function(){var e=this,t=e.container,n=[],i=t.parentNode,r=f.body,o=r.childNodes;e.isPrinting||(e.isPrinting=!0,u(o,function(e,t){1===e.nodeType&&(n[t]=e.style.display,e.style.display=w)}),r.appendChild(t),g.print(),setTimeout(function(){i.appendChild(t),u(o,function(e,t){1===e.nodeType&&(e.style.display=n[t])}),e.isPrinting=!1},1e3))},contextMenu:function(e,t,n,i,o,s){var c,h,f,g,m=this,v=m.options.navigation,b=v.menuItemStyle,x=m.chartWidth,T=m.chartHeight,E="cache-"+e,S=m[E],A=p(o,s),D="3px 3px 10px #888";S||(m[E]=S=a(y,{className:k+e},{position:_,zIndex:1e3,padding:A+C},m.container),c=a(y,null,d({MozBoxShadow:D,WebkitBoxShadow:D,boxShadow:D},v.menuStyle),S),h=function(){l(S,{display:w})},r(S,"mouseleave",function(){f=setTimeout(h,500)}),r(S,"mouseenter",function(){clearTimeout(f)}),u(t,function(e){if(e){var t=a(y,{onmouseover:function(){l(this,v.menuItemHoverStyle)},onmouseout:function(){l(this,b)},innerHTML:e.text||m.options.lang[e.textKey]},d({cursor:"pointer"},b),c);t.onclick=function(){h(),e.onclick.apply(m,arguments)},m.exportDivElements.push(t)}}),m.exportDivElements.push(c,S),m.exportMenuWidth=S.offsetWidth,m.exportMenuHeight=S.offsetHeight),g={display:"block"},n+m.exportMenuWidth>x?g.right=x-n-o-A+C:g.left=n-A+C,i+s+m.exportMenuHeight>T?g.bottom=T-i-A+C:g.top=i+s-A+C,l(S,g)},addButton:function(e){function t(){i.attr(v),n.attr(m)}var n,i,r,o,a=this,s=a.renderer,l=c(a.options.navigation.buttonOptions,e),u=l.onclick,h=l.menuItems,p=l.width,f=l.height,g=l.borderWidth,m={stroke:l.borderColor},v={stroke:l.symbolStroke,fill:l.symbolFill},b=l.symbolSize||12;a.btnCount||(a.btnCount=0),o=a.btnCount++,a.exportDivElements||(a.exportDivElements=[],a.exportSVGElements=[]),l.enabled!==!1&&(n=s.rect(0,0,p,f,l.borderRadius,g).align(l,!0).attr(d({fill:l.backgroundColor,"stroke-width":g,zIndex:19},m)).add(),r=s.rect(0,0,p,f,0).align(l).attr({id:l._id,fill:"rgba(255, 255, 255, 0.001)",title:a.options.lang[l._titleKey],zIndex:21}).css({cursor:"pointer"}).on("mouseover",function(){i.attr({stroke:l.hoverSymbolStroke,fill:l.hoverSymbolFill}),n.attr({stroke:l.hoverBorderColor})}).on("mouseout",t).on("click",t).add(),h&&(u=function(){t();var e=r.getBBox();a.contextMenu("menu"+o,h,e.x,e.y,p,f)}),r.on("click",function(){u.apply(a,arguments)}),i=s.symbol(l.symbol,l.symbolX-b/2,l.symbolY-b/2,b,b).align(l,!0).attr(d(v,{"stroke-width":l.symbolStrokeWidth||1,zIndex:20})).add(),a.exportSVGElements.push(n,r,i))},destroyExport:function(){var e,t,n=this;for(e=0;n.exportSVGElements.length>e;e++)t=n.exportSVGElements[e],t.onclick=t.ontouchstart=null,n.exportSVGElements[e]=t.destroy();for(e=0;n.exportDivElements.length>e;e++)t=n.exportDivElements[e],o(t,"mouseleave"),n.exportDivElements[e]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,s(t)}}),T.exportIcon=function(e,n,i,r){return t([v,e,n+i,b,e+i,n+r,e+i,n+.8*r,e,n+.8*r,"Z",v,e+.5*i,n+.8*r,b,e+.8*i,n+.4*r,e+.4*i,n+.4*r,e+.4*i,n,e+.6*i,n,e+.6*i,n+.4*r,e+.2*i,n+.4*r,"Z"])},T.printIcon=function(e,n,i,r){return t([v,e,n+.7*r,b,e+i,n+.7*r,e+i,n+.4*r,e,n+.4*r,"Z",v,e+.2*i,n+.4*r,b,e+.2*i,n,e+.8*i,n,e+.8*i,n+.4*r,"Z",v,e+.2*i,n+.7*r,b,e,n+r,e+i,n+r,e+.8*i,n+.7*r,"Z"])},i.prototype.callbacks.push(function(e){var t,n=e.options.exporting,i=n.buttons;if(n.enabled!==!1){for(t in i)e.addButton(i[t]);r(e,"destroy",e.destroyExport)}})})(Highcharts);