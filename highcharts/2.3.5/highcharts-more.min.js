(function(e,t){function n(e,t,n){this.init.call(this,e,t,n)}function i(e,t,n){e.call(this,t,n),this.chart.polar&&(this.closeSegment=function(e){var t=this.xAxis.center;e.push("L",t[0],t[1])},this.closedStacks=!0)}function r(e,n){var i=this.chart,r=this.options.animation,o=this.group,a=this.markerGroup,s=this.xAxis.center,l=i.plotLeft,c=i.plotTop;i.polar?i.renderer.isSVG&&(r===!0&&(r={}),n?(o.attrSetters.scaleX=o.attrSetters.scaleY=function(e,n){return this[n]=e,this.scaleX!==t&&this.scaleY!==t&&this.element.setAttribute("transform","translate("+this.translateX+","+this.translateY+") scale("+this.scaleX+","+this.scaleY+")"),!1},i={translateX:s[0]+l,translateY:s[1]+c,scaleX:0,scaleY:0},o.attr(i),a&&(a.attrSetters=o.attrSetters,a.attr(i))):(i={translateX:l,translateY:c,scaleX:1,scaleY:1},o.animate(i,r),a&&a.animate(i,r),this.animate=null)):e.call(this,n)}var o=e.each,a=e.extend,s=e.merge,l=e.map,c=e.pick,u=e.pInt,d=e.getOptions().plotOptions,h=e.seriesTypes,p=e.extendClass,f=e.splat,g=e.wrap,m=e.Axis,v=e.Tick,b=e.Series,y=h.column.prototype,x=function(){};a(n.prototype,{init:function(e,t,n){var i=this,r=i.defaultOptions;i.chart=t,t.angular&&(r.background={}),i.options=e=s(r,e),(e=e.background)&&o([].concat(f(e)).reverse(),function(e){var t=e.backgroundColor,e=s(i.defaultBackgroundOptions,e);t&&(e.backgroundColor=t),e.color=e.backgroundColor,n.options.plotBands.unshift(e)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:Number.MIN_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var k=m.prototype,m=v.prototype,w={getOffset:x,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:x,setCategories:x,setTitle:x},_={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,plotBands:[],tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,plotBands:[],showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},plotBands:[],showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(e){this.options=s(this.defaultOptions,this.defaultRadialOptions,e)},getOffset:function(){k.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=h.pie.prototype.getCenter.call(this.pane)},getLinePath:function(e,t){var n=this.center,t=c(t,n[2]/2-this.offset);return this.chart.renderer.symbols.arc(this.left+n[0],this.top+n[1],t,t,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){k.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.isXAxis)&&(this.minPixelPadding=this.transA*this.minPointOffset+(this.reversed?(this.endAngleRad-this.startAngleRad)/4:0))},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange)},setAxisSize:function(){k.setAxisSize.call(this),this.center&&(this.len=this.width=this.height=this.isCircular?this.center[2]*(this.endAngleRad-this.startAngleRad)/2:this.center[2]/2)},getPosition:function(e,t){return this.isCircular||(t=this.translate(e),e=this.min),this.postTranslate(this.translate(e),c(t,this.center[2]/2)-this.offset)},postTranslate:function(e,t){var n=this.chart,i=this.center,e=this.startAngleRad+e;return{x:n.plotLeft+i[0]+Math.cos(e)*t,y:n.plotTop+i[1]+Math.sin(e)*t}},getPlotBandPath:function(e,t,n){var i,r=this.center,o=this.startAngleRad,a=r[2]/2,s=[c(n.outerRadius,"100%"),n.innerRadius,c(n.thickness,10)],d=/%$/,h=this.isCircular;return"polygon"===this.options.gridLineInterpolation?r=this.getPlotLinePath(e).concat(this.getPlotLinePath(t,!0)):(h||(s[0]=this.translate(e),s[1]=this.translate(t)),s=l(s,function(e){return d.test(e)&&(e=u(e,10)*a/100),e}),"circle"!==n.shape&&h?(e=o+this.translate(e),t=o+this.translate(t)):(e=-Math.PI/2,t=1.5*Math.PI,i=!0),r=this.chart.renderer.symbols.arc(this.left+r[0],this.top+r[1],s[0],s[0],{start:e,end:t,innerR:c(s[1],s[0]-s[2]),open:i})),r},getPlotLinePath:function(e,t){var n,i,r,a=this.center,s=this.chart,l=this.getPosition(e);return this.isCircular?r=["M",a[0]+s.plotLeft,a[1]+s.plotTop,"L",l.x,l.y]:"circle"===this.options.gridLineInterpolation?(e=this.translate(e))&&(r=this.getLinePath(0,e)):(n=s.xAxis[0],r=[],e=this.translate(e),a=n.tickPositions,n.autoConnect&&(a=a.concat([a[0]])),t&&(a=[].concat(a).reverse()),o(a,function(t,o){i=n.getPosition(t,e),r.push(o?"L":"M",i.x,i.y)})),r},getTitlePosition:function(){var e=this.center,t=this.chart,n=this.options.title;return{x:t.plotLeft+e[0]+(n.x||0),y:t.plotTop+e[1]-{high:.5,middle:.25,low:0}[n.align]*e[2]+(n.y||0)}}};g(k,"init",function(e,i,r){var o,l,u=i.angular,d=i.polar,h=r.isX,p=u&&h;l=i.options;var g=r.pane||0;u?(a(this,p?w:_),(o=!h)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):d&&(a(this,_),this.defaultRadialOptions=(o=h)?this.defaultRadialXOptions:s(this.defaultYAxisOptions,this.defaultRadialYOptions)),e.call(this,i,r),p||!u&&!d||(e=this.options,i.panes||(i.panes=[]),this.pane=i.panes[g]=g=new n(f(l.pane)[g],i,this),g=g.options,i.inverted=!1,l.chart.zoomType=null,this.startAngleRad=i=(g.startAngle-90)*Math.PI/180,this.endAngleRad=l=(c(g.endAngle,g.startAngle+360)-90)*Math.PI/180,this.offset=e.offset||0,(this.isCircular=o)&&r.max===t&&l-i===2*Math.PI&&(this.autoConnect=!0))}),g(m,"getPosition",function(e,t,n,i,r){var o=this.axis;return o.getPosition?o.getPosition(n):e.call(this,t,n,i,r)}),g(m,"getLabelPosition",function(e,t,n,i,r,o,a,s,l){var d=this.axis,h=o.y,p=o.align,f=180*((d.translate(this.pos)+d.startAngleRad+Math.PI/2)/Math.PI);return d.isRadial?(e=d.getPosition(this.pos,d.center[2]/2+c(o.distance,-25)),"auto"===o.rotation?i.attr({rotation:f}):null===h&&(h=.9*u(i.styles.lineHeight)-i.getBBox().height/2),null===p&&(p=d.isCircular?f>20&&160>f?"left":f>200&&340>f?"right":"center":"center",i.attr({align:p})),e.x+=o.x,e.y+=h):e=e.call(this,t,n,i,r,o,a,s,l),e}),g(m,"getMarkPath",function(e,t,n,i,r,o,a){var s=this.axis;return s.isRadial?(e=s.getPosition(this.pos,s.center[2]/2+i),t=["M",t,n,"L",e.x,e.y]):t=e.call(this,t,n,i,r,o,a),t}),d.arearange=s(d.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},shadow:!1}),m=e.extendClass(e.Point,{applyOptions:function(e,n){var i=this.series,r=i.pointArrayMap,o=0,s=0,l=r.length;if("object"==typeof e&&"number"!=typeof e.length)a(this,e),this.options=e;else if(e.length)for(e.length>l&&("string"==typeof e[0]?this.name=e[0]:"number"==typeof e[0]&&(this.x=e[0]),o++);l>s;)this[r[s++]]=e[o++];return this.y=this[i.pointValKey],this.x===t&&i&&(this.x=n===t?i.autoIncrement():n),this},toYData:function(){return[this.low,this.high]}}),h.arearange=e.extendClass(h.area,{type:"arearange",pointArrayMap:["low","high"],pointClass:m,pointValKey:"low",translate:function(){var e=this.yAxis;h.area.prototype.translate.apply(this),o(this.points,function(t){null!==t.y&&(t.plotLow=t.plotY,t.plotHigh=e.translate(t.high,0,1,0,1))})},getSegmentPath:function(e){var t,n,i=[],r=e.length,o=b.prototype.getSegmentPath;n=this.options;for(var a=n.step;r--;)t=e[r],i.push({plotX:t.plotX,plotY:t.plotHigh});return e=o.call(this,e),a&&(a===!0&&(a="left"),n.step={left:"right",center:"center",right:"left"}[a]),i=o.call(this,i),n.step=a,n=[].concat(e,i),i[0]="L",this.areaPath=this.areaPath.concat(e,i),n},drawDataLabels:function(){var e,t,n=this.data,i=n.length,r=[],o=b.prototype,a=this.options.dataLabels,s=this.chart.inverted;if(a.enabled||this._hasPointLabels){for(e=i;e--;)t=n[e],t.y=t.high,t.plotY=t.plotHigh,r[e]=t.dataLabel,t.dataLabel=t.dataLabelUpper,t.below=!1,s?(a.align="left",a.x=a.xHigh):a.y=a.yHigh;for(o.drawDataLabels.apply(this,arguments),e=i;e--;)t=n[e],t.dataLabelUpper=t.dataLabel,t.dataLabel=r[e],t.y=t.low,t.plotY=t.plotLow,t.below=!0,s?(a.align="right",a.x=a.xLow):a.y=a.yLow;o.drawDataLabels.apply(this,arguments)}},alignDataLabel:h.column.prototype.alignDataLabel,getSymbol:h.column.prototype.getSymbol,drawPoints:x}),d.areasplinerange=s(d.arearange),h.areasplinerange=p(h.arearange,{type:"areasplinerange",getPointSpline:h.spline.prototype.getPointSpline}),d.columnrange=s(d.column,d.arearange,{lineWidth:1,pointRange:null}),h.columnrange=p(h.arearange,{type:"columnrange",translate:function(){var e,t=this.yAxis;y.translate.apply(this),o(this.points,function(n){var i=n.shapeArgs;n.plotHigh=e=t.translate(n.high,0,1,0,1),n.plotLow=n.plotY,i.y=e,i.height=n.plotY-e,n.trackerArgs=i})},drawGraph:x,pointAttrToOptions:y.pointAttrToOptions,drawPoints:y.drawPoints,drawTracker:y.drawTracker,animate:y.animate}),d.gauge=s(d.line,{dataLabels:{enabled:!0,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,style:{fontWeight:"bold"},verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1}),d={type:"gauge",pointClass:e.extendClass(e.Point,{setState:function(e){this.state=e}}),angular:!0,translate:function(){var e=this,t=e.yAxis,n=t.center;e.generatePoints(),o(e.points,function(i){var r=s(e.options.dial,i.dial),o=u(c(r.radius,80))*n[2]/200,a=u(c(r.baseLength,70))*o/100,l=u(c(r.rearLength,10))*o/100,d=r.baseWidth||3,h=r.topWidth||1;i.shapeType="path",i.shapeArgs={d:r.path||["M",-l,-d/2,"L",a,-d/2,o,-h/2,o,h/2,a,d/2,-l,d/2,"z"],translateX:n[0],translateY:n[1],rotation:180*(t.startAngleRad+t.translate(i.y,null,null,null,!0))/Math.PI},i.plotX=n[0],i.plotY=n[1]})},drawPoints:function(){var e=this,t=e.yAxis.center,n=e.pivot,i=e.options,r=i.pivot,a=e.chart.renderer;o(e.points,function(t){var n=t.graphic,r=t.shapeArgs,o=r.d,l=s(i.dial,t.dial);n?(n.animate(r),r.d=o):t.graphic=a[t.shapeType](r).attr({stroke:l.borderColor||"none","stroke-width":l.borderWidth||0,fill:l.backgroundColor||"black",rotation:r.rotation}).add(e.group)}),n?n.animate({translateX:t[0],translateY:t[1]}):e.pivot=a.circle(0,0,c(r.radius,5)).attr({"stroke-width":r.borderWidth||0,stroke:r.borderColor||"silver",fill:r.backgroundColor||"black"}).translate(t[0],t[1]).add(e.group)},animate:function(){var e=this;o(e.points,function(t){var n=t.graphic;n&&(n.attr({rotation:180*e.yAxis.startAngleRad/Math.PI}),n.animate({rotation:t.shapeArgs.rotation},e.options.animation))}),e.animate=null},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),h.pie.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:h.pie.prototype.setData,drawTracker:h.column.prototype.drawTracker},h.gauge=e.extendClass(h.line,d);var C=b.prototype,d=e.MouseTracker.prototype;C.toXY=function(e){var t,n=this.chart;t=e.plotX;var i=e.plotY;e.rectPlotX=t,e.rectPlotY=i,e.deg=180*(t/Math.PI),t=this.xAxis.postTranslate(e.plotX,this.yAxis.len-i),e.plotX=e.polarPlotX=t.x-n.plotLeft,e.plotY=e.polarPlotY=t.y-n.plotTop},g(h.area.prototype,"init",i),g(h.areaspline.prototype,"init",i),g(h.spline.prototype,"getPointSpline",function(e,t,n,i){var r,o,a,s,l,c,u;return this.chart.polar?(r=n.plotX,o=n.plotY,e=t[i-1],a=t[i+1],this.connectEnds&&(e||(e=t[t.length-2]),a||(a=t[1])),e&&a&&(s=e.plotX,l=e.plotY,t=a.plotX,c=a.plotY,s=(1.5*r+s)/2.5,l=(1.5*o+l)/2.5,a=(1.5*r+t)/2.5,u=(1.5*o+c)/2.5,t=Math.sqrt(Math.pow(s-r,2)+Math.pow(l-o,2)),c=Math.sqrt(Math.pow(a-r,2)+Math.pow(u-o,2)),s=Math.atan2(l-o,s-r),l=Math.atan2(u-o,a-r),u=Math.PI/2+(s+l)/2,Math.abs(s-u)>Math.PI/2&&(u-=Math.PI),s=r+Math.cos(u)*t,l=o+Math.sin(u)*t,a=r+Math.cos(Math.PI+u)*c,u=o+Math.sin(Math.PI+u)*c,n.rightContX=a,n.rightContY=u),i?(n=["C",e.rightContX||e.plotX,e.rightContY||e.plotY,s||r,l||o,r,o],e.rightContX=e.rightContY=null):n=["M",r,o]):n=e.call(this,t,n,i),n}),g(C,"translate",function(e){if(e.call(this),this.chart.polar&&!this.preventPostTranslate)for(var e=this.points,t=e.length;t--;)this.toXY(e[t])}),g(C,"getSegmentPath",function(e,t){var n=this.points;return this.chart.polar&&this.options.connectEnds!==!1&&t[t.length-1]===n[n.length-1]&&null!==n[0].y&&(this.connectEnds=!0,t=[].concat(t,[n[0]])),e.call(this,t)}),g(C,"animate",r),g(y,"animate",r),g(C,"setTooltipPoints",function(e,t){return this.chart.polar&&a(this.xAxis,{tooltipLen:360,tooltipPosName:"deg"}),e.call(this,t)}),g(y,"translate",function(e){var t,n,i=this.xAxis,r=this.yAxis.len,o=i.center,a=i.startAngleRad,s=this.chart.renderer;if(this.preventPostTranslate=!0,e.call(this),i.isRadial)for(i=this.points,n=i.length;n--;)t=i[n],e=t.barX+a,t.shapeType="path",t.shapeArgs={d:s.symbols.arc(o[0],o[1],r-t.plotY,null,{start:e,end:e+t.pointWidth,innerR:r-c(t.yBottom,r)})},this.toXY(t)}),g(y,"alignDataLabel",function(e,t,n,i,r,o){this.chart.polar?(e=180*(t.rectPlotX/Math.PI),null===i.align&&(i.align=e>20&&160>e?"left":e>200&&340>e?"right":"center"),null===i.verticalAlign&&(i.verticalAlign=45>e||e>315?"bottom":e>135&&225>e?"top":"middle"),C.alignDataLabel.call(this,t,n,i,r,o)):e.call(this,t,n,i,r,o)}),g(d,"getIndex",function(e,t){var n,i,r=this.chart;return r.polar?(i=r.xAxis[0].center,n=t.chartX-i[0]-r.plotLeft,r=t.chartY-i[1]-r.plotTop,n=180-Math.round(180*(Math.atan2(n,r)/Math.PI))):n=e.call(this,t),n}),g(d,"getMouseCoordinates",function(e,t){var n=this.chart,i={xAxis:[],yAxis:[]};return n.polar?o(n.axes,function(e){var r=e.isXAxis,o=e.center,a=t.chartX-o[0]-n.plotLeft,o=t.chartY-o[1]-n.plotTop;i[r?"xAxis":"yAxis"].push({axis:e,value:e.translate(r?Math.PI-Math.atan2(a,o):Math.sqrt(Math.pow(a,2)+Math.pow(o,2)),!0)})}):i=e.call(this,t),i})})(Highcharts);