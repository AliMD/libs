(function(e,t){function n(e,t,n){this.init.call(this,e,t,n)}function i(e,t,n){e.call(this,t,n),this.chart.polar&&(this.closeSegment=function(e){var t=this.xAxis.center;e.push("L",t[0],t[1])},this.closedStacks=!0)}function r(e,n){var i,r=this.chart,o=this.options.animation,a=this.group,s=this.markerGroup,l=this.xAxis.center,c=r.plotLeft,u=r.plotTop;r.polar?r.renderer.isSVG&&(o===!0&&(o={}),n?(a.attrSetters.scaleX=a.attrSetters.scaleY=function(e,n){return this[n]=e,this.scaleX!==t&&this.scaleY!==t&&this.element.setAttribute("transform","translate("+this.translateX+","+this.translateY+") scale("+this.scaleX+","+this.scaleY+")"),!1},i={translateX:l[0]+c,translateY:l[1]+u,scaleX:0,scaleY:0},a.attr(i),s&&(s.attrSetters=a.attrSetters,s.attr(i))):(i={translateX:c,translateY:u,scaleX:1,scaleY:1},a.animate(i,o),s&&s.animate(i,o),this.animate=null)):e.call(this,n)}var o=e.each,a=e.extend,s=e.merge,l=e.map,c=e.pick,u=e.pInt,d=e.getOptions().plotOptions,h=e.seriesTypes,p=e.extendClass,f=e.splat,g=e.wrap,m=e.Axis,v=e.Tick,b=e.Series,y=h.column.prototype,x=function(){};a(n.prototype,{init:function(e,t,n){var i,r=this,a=r.defaultOptions;r.chart=t,t.angular&&(a.background={}),r.options=e=s(a,e),i=e.background,i&&o([].concat(f(i)).reverse(),function(e){var t=e.backgroundColor;e=s(r.defaultBackgroundOptions,e),t&&(e.backgroundColor=t),e.color=e.backgroundColor,n.options.plotBands.unshift(e)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:Number.MIN_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var k=m.prototype,w=v.prototype,_={getOffset:x,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:x,setCategories:x,setTitle:x},C={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,plotBands:[],tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,plotBands:[],showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},plotBands:[],showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(e){this.options=s(this.defaultOptions,this.defaultRadialOptions,e)},getOffset:function(){k.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=h.pie.prototype.getCenter.call(this.pane)},getLinePath:function(e,t){var n=this.center;return t=c(t,n[2]/2-this.offset),this.chart.renderer.symbols.arc(this.left+n[0],this.top+n[1],t,t,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){k.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.isXAxis&&(this.minPixelPadding=this.transA*this.minPointOffset+(this.reversed?(this.endAngleRad-this.startAngleRad)/4:0)))},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange)},setAxisSize:function(){k.setAxisSize.call(this),this.center&&(this.len=this.width=this.height=this.isCircular?this.center[2]*(this.endAngleRad-this.startAngleRad)/2:this.center[2]/2)},getPosition:function(e,t){return this.isCircular||(t=this.translate(e),e=this.min),this.postTranslate(this.translate(e),c(t,this.center[2]/2)-this.offset)},postTranslate:function(e,t){var n=this.chart,i=this.center;return e=this.startAngleRad+e,{x:n.plotLeft+i[0]+Math.cos(e)*t,y:n.plotTop+i[1]+Math.sin(e)*t}},getPlotBandPath:function(e,t,n){var i,r,o,a,s=this.center,d=this.startAngleRad,h=s[2]/2,p=[c(n.outerRadius,"100%"),n.innerRadius,c(n.thickness,10)],f=/%$/,g=this.isCircular;return"polygon"===this.options.gridLineInterpolation?a=this.getPlotLinePath(e).concat(this.getPlotLinePath(t,!0)):(g||(p[0]=this.translate(e),p[1]=this.translate(t)),p=l(p,function(e){return f.test(e)&&(e=u(e,10)*h/100),e}),"circle"!==n.shape&&g?(i=d+this.translate(e),r=d+this.translate(t)):(i=-Math.PI/2,r=1.5*Math.PI,o=!0),a=this.chart.renderer.symbols.arc(this.left+s[0],this.top+s[1],p[0],p[0],{start:i,end:r,innerR:c(p[1],p[0]-p[2]),open:o})),a},getPlotLinePath:function(e,t){var n,i,r,a,s=this,l=s.center,c=s.chart,u=s.getPosition(e);return s.isCircular?a=["M",l[0]+c.plotLeft,l[1]+c.plotTop,"L",u.x,u.y]:"circle"===s.options.gridLineInterpolation?(e=s.translate(e),e&&(a=s.getLinePath(0,e))):(n=c.xAxis[0],a=[],e=s.translate(e),r=n.tickPositions,n.autoConnect&&(r=r.concat([r[0]])),t&&(r=[].concat(r).reverse()),o(r,function(t,r){i=n.getPosition(t,e),a.push(r?"L":"M",i.x,i.y)})),a},getTitlePosition:function(){var e=this.center,t=this.chart,n=this.options.title;return{x:t.plotLeft+e[0]+(n.x||0),y:t.plotTop+e[1]-{high:.5,middle:.25,low:0}[n.align]*e[2]+(n.y||0)}}};g(k,"init",function(e,i,r){var o,l,u,d,h,p,g=this,m=i.angular,v=i.polar,b=r.isX,y=m&&b,x=i.options,k=r.pane||0;m?(a(this,y?_:C),o=!b,o&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):v&&(a(this,C),o=b,this.defaultRadialOptions=b?this.defaultRadialXOptions:s(this.defaultYAxisOptions,this.defaultRadialYOptions)),e.call(this,i,r),y||!m&&!v||(d=this.options,i.panes||(i.panes=[]),this.pane=i.panes[k]=h=new n(f(x.pane)[k],i,g),p=h.options,i.inverted=!1,x.chart.zoomType=null,this.startAngleRad=l=(p.startAngle-90)*Math.PI/180,this.endAngleRad=u=(c(p.endAngle,p.startAngle+360)-90)*Math.PI/180,this.offset=d.offset||0,this.isCircular=o,o&&r.max===t&&u-l===2*Math.PI&&(this.autoConnect=!0))}),g(w,"getPosition",function(e,t,n,i,r){var o=this.axis;return o.getPosition?o.getPosition(n):e.call(this,t,n,i,r)}),g(w,"getLabelPosition",function(e,t,n,i,r,o,a,s,l){var d,h=this.axis,p=o.y,f=o.align,g=180*((h.translate(this.pos)+h.startAngleRad+Math.PI/2)/Math.PI);return h.isRadial?(d=h.getPosition(this.pos,h.center[2]/2+c(o.distance,-25)),"auto"===o.rotation?i.attr({rotation:g}):null===p&&(p=.9*u(i.styles.lineHeight)-i.getBBox().height/2),null===f&&(f=h.isCircular?g>20&&160>g?"left":g>200&&340>g?"right":"center":"center",i.attr({align:f})),d.x+=o.x,d.y+=p):d=e.call(this,t,n,i,r,o,a,s,l),d}),g(w,"getMarkPath",function(e,t,n,i,r,o,a){var s,l,c=this.axis;return c.isRadial?(s=c.getPosition(this.pos,c.center[2]/2+i),l=["M",t,n,"L",s.x,s.y]):l=e.call(this,t,n,i,r,o,a),l}),d.arearange=s(d.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},shadow:!1});var T=e.extendClass(e.Point,{applyOptions:function(e,n){var i=this,r=i.series,o=r.pointArrayMap,s=0,l=0,c=o.length;if("object"==typeof e&&"number"!=typeof e.length)a(i,e),i.options=e;else if(e.length)for(e.length>c&&("string"==typeof e[0]?i.name=e[0]:"number"==typeof e[0]&&(i.x=e[0]),s++);c>l;)i[o[l++]]=e[s++];return i.y=i[r.pointValKey],i.x===t&&r&&(i.x=n===t?r.autoIncrement():n),i},toYData:function(){return[this.low,this.high]}});h.arearange=e.extendClass(h.area,{type:"arearange",pointArrayMap:["low","high"],pointClass:T,pointValKey:"low",translate:function(){var e=this,t=e.yAxis;h.area.prototype.translate.apply(e),o(e.points,function(e){null!==e.y&&(e.plotLow=e.plotY,e.plotHigh=t.translate(e.high,0,1,0,1))})},getSegmentPath:function(e){for(var t,n,i,r,o=[],a=e.length,s=b.prototype.getSegmentPath,l=this.options,c=l.step;a--;)t=e[a],o.push({plotX:t.plotX,plotY:t.plotHigh});return i=s.call(this,e),c&&(c===!0&&(c="left"),l.step={left:"right",center:"center",right:"left"}[c]),r=s.call(this,o),l.step=c,n=[].concat(i,r),r[0]="L",this.areaPath=this.areaPath.concat(i,r),n},drawDataLabels:function(){var e,t,n=this.data,i=n.length,r=[],o=b.prototype,a=this.options.dataLabels,s=this.chart.inverted;if(a.enabled||this._hasPointLabels){for(e=i;e--;)t=n[e],t.y=t.high,t.plotY=t.plotHigh,r[e]=t.dataLabel,t.dataLabel=t.dataLabelUpper,t.below=!1,s?(a.align="left",a.x=a.xHigh):a.y=a.yHigh;for(o.drawDataLabels.apply(this,arguments),e=i;e--;)t=n[e],t.dataLabelUpper=t.dataLabel,t.dataLabel=r[e],t.y=t.low,t.plotY=t.plotLow,t.below=!0,s?(a.align="right",a.x=a.xLow):a.y=a.yLow;o.drawDataLabels.apply(this,arguments)}},alignDataLabel:h.column.prototype.alignDataLabel,getSymbol:h.column.prototype.getSymbol,drawPoints:x}),d.areasplinerange=s(d.arearange),h.areasplinerange=p(h.arearange,{type:"areasplinerange",getPointSpline:h.spline.prototype.getPointSpline}),d.columnrange=s(d.column,d.arearange,{lineWidth:1,pointRange:null}),h.columnrange=p(h.arearange,{type:"columnrange",translate:function(){var e,t=this,n=t.yAxis;y.translate.apply(t),o(t.points,function(t){var i=t.shapeArgs;t.plotHigh=e=n.translate(t.high,0,1,0,1),t.plotLow=t.plotY,i.y=e,i.height=t.plotY-e,t.trackerArgs=i})},drawGraph:x,pointAttrToOptions:y.pointAttrToOptions,drawPoints:y.drawPoints,drawTracker:y.drawTracker,animate:y.animate}),d.gauge=s(d.line,{dataLabels:{enabled:!0,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,style:{fontWeight:"bold"},verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1});var E=e.extendClass(e.Point,{setState:function(e){this.state=e}}),S={type:"gauge",pointClass:E,angular:!0,translate:function(){var e=this,t=e.yAxis,n=t.center;e.generatePoints(),o(e.points,function(i){var r=s(e.options.dial,i.dial),o=u(c(r.radius,80))*n[2]/200,a=u(c(r.baseLength,70))*o/100,l=u(c(r.rearLength,10))*o/100,d=r.baseWidth||3,h=r.topWidth||1;i.shapeType="path",i.shapeArgs={d:r.path||["M",-l,-d/2,"L",a,-d/2,o,-h/2,o,h/2,a,d/2,-l,d/2,"z"],translateX:n[0],translateY:n[1],rotation:180*(t.startAngleRad+t.translate(i.y,null,null,null,!0))/Math.PI},i.plotX=n[0],i.plotY=n[1]})},drawPoints:function(){var e=this,t=e.yAxis.center,n=e.pivot,i=e.options,r=i.pivot,a=e.chart.renderer;o(e.points,function(t){var n=t.graphic,r=t.shapeArgs,o=r.d,l=s(i.dial,t.dial);n?(n.animate(r),r.d=o):t.graphic=a[t.shapeType](r).attr({stroke:l.borderColor||"none","stroke-width":l.borderWidth||0,fill:l.backgroundColor||"black",rotation:r.rotation}).add(e.group)}),n?n.animate({translateX:t[0],translateY:t[1]}):e.pivot=a.circle(0,0,c(r.radius,5)).attr({"stroke-width":r.borderWidth||0,stroke:r.borderColor||"silver",fill:r.backgroundColor||"black"}).translate(t[0],t[1]).add(e.group)},animate:function(){var e=this;o(e.points,function(t){var n=t.graphic;n&&(n.attr({rotation:180*e.yAxis.startAngleRad/Math.PI}),n.animate({rotation:t.shapeArgs.rotation},e.options.animation))}),e.animate=null},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),h.pie.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:h.pie.prototype.setData,drawTracker:h.column.prototype.drawTracker};h.gauge=e.extendClass(h.line,S);var A=b.prototype,D=e.MouseTracker.prototype;A.toXY=function(e){var t,n=this.chart,i=e.plotX,r=e.plotY;e.rectPlotX=i,e.rectPlotY=r,e.deg=180*(i/Math.PI),t=this.xAxis.postTranslate(e.plotX,this.yAxis.len-r),e.plotX=e.polarPlotX=t.x-n.plotLeft,e.plotY=e.polarPlotY=t.y-n.plotTop},g(h.area.prototype,"init",i),g(h.areaspline.prototype,"init",i),g(h.spline.prototype,"getPointSpline",function(e,t,n,i){var r,o,a,s,l,c,u,d,h,p,f,g,m,v,b,y,x,k,w=1.5,_=w+1;return this.chart.polar?(o=n.plotX,a=n.plotY,s=t[i-1],l=t[i+1],this.connectEnds&&(s||(s=t[t.length-2]),l||(l=t[1])),s&&l&&(c=s.plotX,u=s.plotY,d=l.plotX,h=l.plotY,p=(w*o+c)/_,f=(w*a+u)/_,g=(w*o+d)/_,m=(w*a+h)/_,v=Math.sqrt(Math.pow(p-o,2)+Math.pow(f-a,2)),b=Math.sqrt(Math.pow(g-o,2)+Math.pow(m-a,2)),y=Math.atan2(f-a,p-o),x=Math.atan2(m-a,g-o),k=Math.PI/2+(y+x)/2,Math.abs(y-k)>Math.PI/2&&(k-=Math.PI),p=o+Math.cos(k)*v,f=a+Math.sin(k)*v,g=o+Math.cos(Math.PI+k)*b,m=a+Math.sin(Math.PI+k)*b,n.rightContX=g,n.rightContY=m),i?(r=["C",s.rightContX||s.plotX,s.rightContY||s.plotY,p||o,f||a,o,a],s.rightContX=s.rightContY=null):r=["M",o,a]):r=e.call(this,t,n,i),r}),g(A,"translate",function(e){if(e.call(this),this.chart.polar&&!this.preventPostTranslate)for(var t=this.points,n=t.length;n--;)this.toXY(t[n])}),g(A,"getSegmentPath",function(e,t){var n=this.points;return this.chart.polar&&this.options.connectEnds!==!1&&t[t.length-1]===n[n.length-1]&&null!==n[0].y&&(this.connectEnds=!0,t=[].concat(t,[n[0]])),e.call(this,t)}),g(A,"animate",r),g(y,"animate",r),g(A,"setTooltipPoints",function(e,t){return this.chart.polar&&a(this.xAxis,{tooltipLen:360,tooltipPosName:"deg"}),e.call(this,t)}),g(y,"translate",function(e){var t,n,i,r,o=this.xAxis,a=this.yAxis.len,s=o.center,l=o.startAngleRad,u=this.chart.renderer;if(this.preventPostTranslate=!0,e.call(this),o.isRadial)for(n=this.points,r=n.length;r--;)i=n[r],t=i.barX+l,i.shapeType="path",i.shapeArgs={d:u.symbols.arc(s[0],s[1],a-i.plotY,null,{start:t,end:t+i.pointWidth,innerR:a-c(i.yBottom,a)})},this.toXY(i)}),g(y,"alignDataLabel",function(e,t,n,i,r,o){if(this.chart.polar){var a,s,l=180*(t.rectPlotX/Math.PI);null===i.align&&(a=l>20&&160>l?"left":l>200&&340>l?"right":"center",i.align=a),null===i.verticalAlign&&(s=45>l||l>315?"bottom":l>135&&225>l?"top":"middle",i.verticalAlign=s),A.alignDataLabel.call(this,t,n,i,r,o)}else e.call(this,t,n,i,r,o)}),g(D,"getIndex",function(e,t){var n,i,r,o,a=this.chart;return a.polar?(i=a.xAxis[0].center,r=t.chartX-i[0]-a.plotLeft,o=t.chartY-i[1]-a.plotTop,n=180-Math.round(180*(Math.atan2(r,o)/Math.PI))):n=e.call(this,t),n}),g(D,"getMouseCoordinates",function(e,t){var n=this.chart,i={xAxis:[],yAxis:[]};return n.polar?o(n.axes,function(e){var r=e.isXAxis,o=e.center,a=t.chartX-o[0]-n.plotLeft,s=t.chartY-o[1]-n.plotTop;i[r?"xAxis":"yAxis"].push({axis:e,value:e.translate(r?Math.PI-Math.atan2(a,s):Math.sqrt(Math.pow(a,2)+Math.pow(s,2)),!0)})}):i=e.call(this,t),i})})(Highcharts);