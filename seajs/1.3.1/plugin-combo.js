define("seajs/plugin-combo",[],function(){function m(){var c=i.prototype,d=c._load;c._load=function(a,b){n(a);d.call(this,a,b)}}function n(c){var d=[],a=h.comboExcludes;e.forEach(c,function(b){var f=o[b];if((!f||f.status<i.STATUS.FETCHING)&&(!a||!a.test(b))){var b=e.parseMap(b),c=h.comboSyntax||["??",","],f=c[0],c=c[1];!(f&&0<b.indexOf(f)||c&&0<b.indexOf(c))&&d.push(b)}});1<d.length&&seajs.config({map:j(k(d))})}function k(c){return p(q(c))}function q(c){var d={__KEYS:[]};e.forEach(c,function(a){var a=
a.replace("://","__").split("/"),b=d;e.forEach(a,function(a){b[a]||(b[a]={__KEYS:[]},b.__KEYS.push(a));b=b[a]})});return d}function p(c){var d=[];e.forEach(c.__KEYS,function(a){for(var b=a,a=c[a],f=a.__KEYS;1===f.length;)b+="/"+f[0],a=a[f[0]],f=a.__KEYS;f.length&&d.push([b.replace("__","://"),l(a)])});return d}function l(c){var d=[];e.forEach(c.__KEYS,function(a){var b=l(c[a]);b.length?e.forEach(b,function(b){d.push(a+"/"+b)}):d.push(a)});return d}function j(c){var d=h.comboSyntax||["??",","],a=[];
e.forEach(c,function(b){var c=b[0]+"/",b=r(b[1]);e.forEach(b,function(b){var h={},g=c+d[0]+b.join(d[1]);if(2E3<g.length)throw Error("The combo url is too long: "+g);e.forEach(b,function(a){h[c+a]=g});a.push(function(a){return h[a]||a})})});return a}function r(c){var d=[],a={};e.forEach(c,function(b){var c;c=b.lastIndexOf(".");(c=0<=c?b.substring(c):"")&&(a[c]||(a[c]=[])).push(b)});for(var b in a)a.hasOwnProperty(b)&&d.push(a[b]);return d}var g=seajs.pluginSDK,e=g.util,h=g.config,i=g.Module,o=seajs.cache;
seajs.debug?seajs.log("Combo is turned off in debug mode"):m();e.toComboPaths=k;e.toComboMap=j});seajs.use("seajs/plugin-combo");
