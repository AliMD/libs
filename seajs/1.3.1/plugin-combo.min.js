define("seajs/plugin-combo",[],function(){function e(){var e=u.prototype,i=e._load;e._load=function(e,n){t(e),i.call(this,e,n)}}function t(e){var t=[],n=c.comboExcludes;h.forEach(e,function(e){var i=d[e];if(!(i&&!(i.status<u.STATUS.FETCHING)||n&&n.test(e))){var e=h.parseMap(e),r=c.comboSyntax||["??",","],i=r[0],r=r[1];!(i&&e.indexOf(i)>0||r&&e.indexOf(r)>0)&&t.push(e)}}),t.length>1&&seajs.config({map:o(i(t))})}function i(e){return r(n(e))}function n(e){var t={__KEYS:[]};return h.forEach(e,function(e){var e=e.replace("://","__").split("/"),i=t;h.forEach(e,function(e){i[e]||(i[e]={__KEYS:[]},i.__KEYS.push(e)),i=i[e]})}),t}function r(e){var t=[];return h.forEach(e.__KEYS,function(i){for(var n=i,i=e[i],r=i.__KEYS;1===r.length;)n+="/"+r[0],i=i[r[0]],r=i.__KEYS;r.length&&t.push([n.replace("__","://"),s(i)])}),t}function s(e){var t=[];return h.forEach(e.__KEYS,function(i){var n=s(e[i]);n.length?h.forEach(n,function(e){t.push(i+"/"+e)}):t.push(i)}),t}function o(e){var t=c.comboSyntax||["??",","],i=[];return h.forEach(e,function(e){var n=e[0]+"/",e=a(e[1]);h.forEach(e,function(e){var r={},s=n+t[0]+e.join(t[1]);if(s.length>2e3)throw Error("The combo url is too long: "+s);h.forEach(e,function(e){r[n+e]=s}),i.push(function(e){return r[e]||e})})}),i}function a(e){var t=[],i={};h.forEach(e,function(e){var t;t=e.lastIndexOf("."),(t=t>=0?e.substring(t):"")&&(i[t]||(i[t]=[])).push(e)});for(var n in i)i.hasOwnProperty(n)&&t.push(i[n]);return t}var l=seajs.pluginSDK,h=l.util,c=l.config,u=l.Module,d=seajs.cache;seajs.debug?seajs.log("Combo is turned off in debug mode"):e(),h.toComboPaths=i,h.toComboMap=o}),seajs.use("seajs/plugin-combo");