Proj4js.Proj.merc={init:function(){this.lat_ts&&(this.k0=this.sphere?Math.cos(this.lat_ts):Proj4js.common.msfnz(this.es,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(e){var t=e.x,i=e.y;if(i*Proj4js.common.R2D>90&&-90>i*Proj4js.common.R2D&&t*Proj4js.common.R2D>180&&-180>t*Proj4js.common.R2D)return Proj4js.reportError("merc:forward: llInputOutOfRange: "+t+" : "+i),null;var n,r;if(Math.abs(Math.abs(i)-Proj4js.common.HALF_PI)<=Proj4js.common.EPSLN)return Proj4js.reportError("merc:forward: ll2mAtPoles"),null;if(this.sphere)n=this.x0+this.a*this.k0*Proj4js.common.adjust_lon(t-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(Proj4js.common.FORTPI+.5*i));else{var s=Math.sin(i),o=Proj4js.common.tsfnz(this.e,i,s);n=this.x0+this.a*this.k0*Proj4js.common.adjust_lon(t-this.long0),r=this.y0-this.a*this.k0*Math.log(o)}return e.x=n,e.y=r,e},inverse:function(e){var t,i,n=e.x-this.x0,r=e.y-this.y0;if(this.sphere)i=Proj4js.common.HALF_PI-2*Math.atan(Math.exp(-r/this.a*this.k0));else{var s=Math.exp(-r/(this.a*this.k0));if(i=Proj4js.common.phi2z(this.e,s),-9999==i)return Proj4js.reportError("merc:inverse: lat = -9999"),null}return t=Proj4js.common.adjust_lon(this.long0+n/(this.a*this.k0)),e.x=t,e.y=i,e}};