Proj4js.Proj.eqdc={init:function(){this.mode||(this.mode=0),this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Proj4js.common.e0fn(this.es),this.e1=Proj4js.common.e1fn(this.es),this.e2=Proj4js.common.e2fn(this.es),this.e3=Proj4js.common.e3fn(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Proj4js.common.msfnz(this.e,this.sinphi,this.cosphi),this.ml1=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat1),0!=this.mode?(Math.abs(this.lat1+this.lat2)<Proj4js.common.EPSLN&&Proj4js.reportError("eqdc:Init:EqualLatitudes"),this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Proj4js.common.msfnz(this.e,this.sinphi,this.cosphi),this.ml2=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=Math.abs(this.lat1-this.lat2)>=Proj4js.common.EPSLN?(this.ms1-this.ms2)/(this.ml2-this.ml1):this.sinphi):this.ns=this.sinphi,this.g=this.ml1+this.ms1/this.ns,this.ml0=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0)},forward:function(e){var t=e.x,i=e.y,n=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,i),r=this.a*(this.g-n),s=this.ns*Proj4js.common.adjust_lon(t-this.long0),o=this.x0+r*Math.sin(s),a=this.y0+this.rh-r*Math.cos(s);return e.x=o,e.y=a,e},inverse:function(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,i;this.ns>=0?(i=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(i=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var n=0;0!=i&&(n=Math.atan2(t*e.x,t*e.y));var r=this.g-i/this.a,s=this.phi3z(r,this.e0,this.e1,this.e2,this.e3),o=Proj4js.common.adjust_lon(this.long0+n/this.ns);return e.x=o,e.y=s,e},phi3z:function(e,t,i,n,r){var s,o;s=e;for(var a=0;15>a;a++)if(o=(e+i*Math.sin(2*s)-n*Math.sin(4*s)+r*Math.sin(6*s))/t-s,s+=o,1e-10>=Math.abs(o))return s;return Proj4js.reportError("PHI3Z-CONV:Latitude failed to converge after 15 iterations"),null}};