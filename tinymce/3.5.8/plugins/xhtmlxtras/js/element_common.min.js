function initCommonAttributes(e){var t=document.forms[0],i=tinyMCEPopup.editor.dom;setFormValue("title",i.getAttrib(e,"title")),setFormValue("id",i.getAttrib(e,"id")),selectByValue(t,"class",i.getAttrib(e,"class"),!0),setFormValue("style",i.getAttrib(e,"style")),selectByValue(t,"dir",i.getAttrib(e,"dir")),setFormValue("lang",i.getAttrib(e,"lang")),setFormValue("onfocus",i.getAttrib(e,"onfocus")),setFormValue("onblur",i.getAttrib(e,"onblur")),setFormValue("onclick",i.getAttrib(e,"onclick")),setFormValue("ondblclick",i.getAttrib(e,"ondblclick")),setFormValue("onmousedown",i.getAttrib(e,"onmousedown")),setFormValue("onmouseup",i.getAttrib(e,"onmouseup")),setFormValue("onmouseover",i.getAttrib(e,"onmouseover")),setFormValue("onmousemove",i.getAttrib(e,"onmousemove")),setFormValue("onmouseout",i.getAttrib(e,"onmouseout")),setFormValue("onkeypress",i.getAttrib(e,"onkeypress")),setFormValue("onkeydown",i.getAttrib(e,"onkeydown")),setFormValue("onkeyup",i.getAttrib(e,"onkeyup"))}function setFormValue(e,t){document.forms[0].elements[e]&&(document.forms[0].elements[e].value=t)}function insertDateTime(e){document.getElementById(e).value=getDateTime(new Date,"%Y-%m-%dT%H:%M:%S")}function getDateTime(e,t){return t=t.replace("%D","%m/%d/%y"),t=t.replace("%r","%I:%M:%S %p"),t=t.replace("%Y",""+e.getFullYear()),t=t.replace("%y",""+e.getYear()),t=t.replace("%m",addZeros(e.getMonth()+1,2)),t=t.replace("%d",addZeros(e.getDate(),2)),t=t.replace("%H",""+addZeros(e.getHours(),2)),t=t.replace("%M",""+addZeros(e.getMinutes(),2)),t=t.replace("%S",""+addZeros(e.getSeconds(),2)),t=t.replace("%I",""+((e.getHours()+11)%12+1)),t=t.replace("%p",""+(12>e.getHours()?"AM":"PM")),t=t.replace("%%","%")}function addZeros(e,t){var i;if(e=""+e,t>e.length)for(i=0;t-e.length>i;i++)e="0"+e;return e}function selectByValue(e,t,i,n,r){if(e&&e.elements[t]){for(var s=e.elements[t],o=!1,a=0;s.options.length>a;a++){var l=s.options[a];l.value==i||r&&l.value.toLowerCase()==i.toLowerCase()?(l.selected=!0,o=!0):l.selected=!1}if(!o&&n&&""!=i){var l=new Option("Value: "+i,i);l.selected=!0,s.options[s.options.length]=l}return o}}function setAttrib(e,t,i){var n=document.forms[0],r=n.elements[t.toLowerCase()];tinyMCEPopup.editor.dom.setAttrib(e,t,i||r.value)}function setAllCommonAttribs(e){setAttrib(e,"title"),setAttrib(e,"id"),setAttrib(e,"class"),setAttrib(e,"style"),setAttrib(e,"dir"),setAttrib(e,"lang")}function insertInlineElement(e){var t=tinyMCEPopup.editor,i=t.dom;t.getDoc().execCommand("FontName",!1,"mceinline"),tinymce.each(i.select("span,font"),function(t){("mceinline"==t.style.fontFamily||"mceinline"==t.face)&&i.replace(i.create(e,{"data-mce-new":1}),t,1)})}tinyMCEPopup.requireLangPack(),SXE={currentAction:"insert",inst:tinyMCEPopup.editor,updateElement:null},SXE.focusElement=SXE.inst.selection.getNode(),SXE.initElementDialog=function(e){addClassesToList("class","xhtmlxtras_styles"),TinyMCE_EditableSelects.init(),e=e.toLowerCase();var t=SXE.inst.dom.getParent(SXE.focusElement,e.toUpperCase());null!=t&&t.nodeName.toUpperCase()==e.toUpperCase()&&(SXE.currentAction="update"),"update"==SXE.currentAction&&(initCommonAttributes(t),SXE.updateElement=t),document.forms[0].insert.value=tinyMCEPopup.getLang(SXE.currentAction,"Insert",!0)},SXE.insertElement=function(e){var t,i=SXE.inst.dom.getParent(SXE.focusElement,e.toUpperCase());if(null==i){var n=SXE.inst.selection.getContent();if(n.length>0){t=e,insertInlineElement(e);for(var r=tinymce.grep(SXE.inst.dom.select(e)),s=0;r.length>s;s++){var i=r[s];SXE.inst.dom.getAttrib(i,"data-mce-new")&&(i.id="",i.setAttribute("id",""),i.removeAttribute("id"),i.removeAttribute("data-mce-new"),setAllCommonAttribs(i))}}}else setAllCommonAttribs(i);SXE.inst.nodeChanged(),tinyMCEPopup.execCommand("mceEndUndoLevel")},SXE.removeElement=function(e){e=e.toLowerCase(),elm=SXE.inst.dom.getParent(SXE.focusElement,e.toUpperCase()),elm&&elm.nodeName.toUpperCase()==e.toUpperCase()&&(tinyMCE.execCommand("mceRemoveNode",!1,elm),SXE.inst.nodeChanged(),tinyMCEPopup.execCommand("mceEndUndoLevel"))},SXE.showRemoveButton=function(){document.getElementById("remove").style.display=""},SXE.containsClass=function(e,t){return e.className.indexOf(t)>-1?!0:!1},SXE.removeClass=function(e,t){if(null==e.className||""==e.className||!SXE.containsClass(e,t))return!0;for(var i=e.className.split(" "),n="",r=0,s=i.length;s>r;r++)i[r]!=t&&(n+=i[r]+" ");e.className=n.substring(0,n.length-1)},SXE.addClass=function(e,t){return SXE.containsClass(e,t)||(e.className?e.className+=" "+t:e.className=t),!0};