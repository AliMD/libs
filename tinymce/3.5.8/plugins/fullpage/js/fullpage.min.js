(function(){function e(e,t){var i=document.getElementById(e);i&&(t=t||"","SELECT"==i.nodeName?selectByValue(document.forms[0],e,t):"checkbox"==i.type?i.checked=!!t:i.value=t)}function t(e){var t=document.getElementById(e);return"SELECT"==t.nodeName?t.options[t.selectedIndex].value:"checkbox"==t.type?t.checked:t.value}function i(){var t,i,a,l=document.forms[0],h=tinyMCEPopup.editor;for(a=h.getParam("fullpage_doctypes",n).split(","),t=0;a.length>t;t++)i=a[t].split("="),i.length>1&&addSelectValue(l,"doctype",i[0],i[1]);for(a=h.getParam("fullpage_fonts",s).split(";"),t=0;a.length>t;t++)i=a[t].split("="),i.length>1&&addSelectValue(l,"fontface",i[0],i[1]);for(a=h.getParam("fullpage_fontsizes",o).split(","),t=0;a.length>t;t++)addSelectValue(l,"fontsize",a[t],a[t]);for(a=h.getParam("fullpage_encodings",r).split(","),t=0;a.length>t;t++)i=a[t].split("="),i.length>1&&addSelectValue(l,"docencoding",i[0],i[1]);document.getElementById("bgcolor_pickcontainer").innerHTML=getColorPickerHTML("bgcolor_pick","bgcolor"),document.getElementById("link_color_pickcontainer").innerHTML=getColorPickerHTML("link_color_pick","link_color"),document.getElementById("visited_color_pickcontainer").innerHTML=getColorPickerHTML("visited_color_pick","visited_color"),document.getElementById("active_color_pickcontainer").innerHTML=getColorPickerHTML("active_color_pick","active_color"),document.getElementById("textcolor_pickcontainer").innerHTML=getColorPickerHTML("textcolor_pick","textcolor"),document.getElementById("stylesheet_browsercontainer").innerHTML=getBrowserHTML("stylesheetbrowser","stylesheet","file","fullpage"),document.getElementById("bgimage_pickcontainer").innerHTML=getBrowserHTML("bgimage_browser","bgimage","image","fullpage"),isVisible("stylesheetbrowser")&&(document.getElementById("stylesheet").style.width="220px"),isVisible("link_href_browser")&&(document.getElementById("element_link_href").style.width="230px"),isVisible("bgimage_browser")&&(document.getElementById("bgimage").style.width="210px"),tinymce.each(tinyMCEPopup.getWindowArg("data"),function(t,i){e(i,t)}),FullPageDialog.changedStyle(),updateColor("textcolor_pick","textcolor"),updateColor("bgcolor_pick","bgcolor"),updateColor("visited_color_pick","visited_color"),updateColor("active_color_pick","active_color"),updateColor("link_color_pick","link_color")}tinyMCEPopup.requireLangPack();var n='XHTML 1.0 Transitional=<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">,XHTML 1.0 Frameset=<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">,XHTML 1.0 Strict=<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">,XHTML 1.1=<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">,HTML 4.01 Transitional=<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">,HTML 4.01 Strict=<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">,HTML 4.01 Frameset=<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN" "http://www.w3.org/TR/html4/frameset.dtd">',r="Western european (iso-8859-1)=iso-8859-1,Central European (iso-8859-2)=iso-8859-2,Unicode (UTF-8)=utf-8,Chinese traditional (Big5)=big5,Cyrillic (iso-8859-5)=iso-8859-5,Japanese (iso-2022-jp)=iso-2022-jp,Greek (iso-8859-7)=iso-8859-7,Korean (iso-2022-kr)=iso-2022-kr,ASCII (us-ascii)=us-ascii",s="Arial=arial,helvetica,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,times new roman,times,serif;Tahoma=tahoma,arial,helvetica,sans-serif;Times New Roman=times new roman,times,serif;Verdana=verdana,arial,helvetica,sans-serif;Impact=impact;WingDings=wingdings",o="10px,11px,12px,13px,14px,15px,16px";window.FullPageDialog={changedStyle:function(){var i,n=tinyMCEPopup.editor.dom.parseStyle(t("style"));e("fontface",n["font-face"]),e("fontsize",n["font-size"]),e("textcolor",n.color),(i=n["background-image"])?e("bgimage",i.replace(RegExp("url\\('?([^']*)'?\\)","gi"),"$1")):e("bgimage",""),e("bgcolor",n["background-color"]),e("topmargin",""),e("rightmargin",""),e("bottommargin",""),e("leftmargin",""),(i=n.margin)&&(i=i.split(" "),n["margin-top"]=i[0]||"",n["margin-right"]=i[1]||i[0]||"",n["margin-bottom"]=i[2]||i[0]||"",n["margin-left"]=i[3]||i[0]||""),(i=n["margin-top"])&&e("topmargin",i.replace(/px/,"")),(i=n["margin-right"])&&e("rightmargin",i.replace(/px/,"")),(i=n["margin-bottom"])&&e("bottommargin",i.replace(/px/,"")),(i=n["margin-left"])&&e("leftmargin",i.replace(/px/,"")),updateColor("bgcolor_pick","bgcolor"),updateColor("textcolor_pick","textcolor")},changedStyleProp:function(){var i,n=tinyMCEPopup.editor.dom,r=n.parseStyle(t("style"));r["font-face"]=t("fontface"),r["font-size"]=t("fontsize"),r.color=t("textcolor"),r["background-color"]=t("bgcolor"),r["background-image"]=(i=t("bgimage"))?"url('"+i+"')":"",delete r.margin,r["margin-top"]=(i=t("topmargin"))?i+"px":"",r["margin-right"]=(i=t("rightmargin"))?i+"px":"",r["margin-bottom"]=(i=t("bottommargin"))?i+"px":"",r["margin-left"]=(i=t("leftmargin"))?i+"px":"",e("style",n.serializeStyle(n.parseStyle(n.serializeStyle(r)))),this.changedStyle()},update:function(){var e={};tinymce.each(tinyMCEPopup.dom.select("select,input,textarea"),function(i){e[i.id]=t(i.id)}),tinyMCEPopup.editor.plugins.fullpage._dataToHtml(e),tinyMCEPopup.close()}},tinyMCEPopup.onInit.add(i)})();