function MCTabs(){this.settings=[],this.onChange=tinyMCEPopup.editor.windowManager.createInstance("tinymce.util.Dispatcher")}MCTabs.prototype.init=function(e){this.settings=e},MCTabs.prototype.getParam=function(e,t){var i=null;return i=this.settings[e]===void 0?t:this.settings[e],"true"==i||"false"==i?"true"==i:i},MCTabs.prototype.showTab=function(e){e.className="current",e.setAttribute("aria-selected",!0),e.setAttribute("aria-expanded",!0),e.tabIndex=0},MCTabs.prototype.hideTab=function(e){e.className="",e.setAttribute("aria-selected",!1),e.setAttribute("aria-expanded",!1),e.tabIndex=-1},MCTabs.prototype.showPanel=function(e){e.className="current",e.setAttribute("aria-hidden",!1)},MCTabs.prototype.hidePanel=function(e){e.className="panel",e.setAttribute("aria-hidden",!0)},MCTabs.prototype.getPanelForTab=function(e){return tinyMCEPopup.dom.getAttrib(e,"aria-controls")},MCTabs.prototype.displayTab=function(e,t,i){var n,r,o,s,a,l,c,h=this;if(o=document.getElementById(e),void 0===t&&(t=h.getPanelForTab(o)),n=document.getElementById(t),r=n?n.parentNode:null,s=o?o.parentNode:null,a=h.getParam("selection_class","current"),o&&s){for(l=s.childNodes,c=0;l.length>c;c++)"LI"==l[c].nodeName&&h.hideTab(l[c]);h.showTab(o)}if(n&&r){for(l=r.childNodes,c=0;l.length>c;c++)"DIV"==l[c].nodeName&&h.hidePanel(l[c]);i||o.focus(),h.showPanel(n)}},MCTabs.prototype.getAnchor=function(){var e,t=document.location.href;return-1!=(e=t.lastIndexOf("#"))?t.substring(e+1):""};var mcTabs=new MCTabs;tinyMCEPopup.onInit.add(function(){var e=tinyMCEPopup.getWin().tinymce,t=tinyMCEPopup.dom,i=e.each;i(t.select("div.tabs"),function(n){var r;t.setAttrib(n,"role","tablist");var o=tinyMCEPopup.dom.select("li",n),s=function(e){mcTabs.displayTab(e,mcTabs.getPanelForTab(e)),mcTabs.onChange.dispatch(e)};i(o,function(e){t.setAttrib(e,"role","tab"),t.bind(e,"click",function(){s(e.id)})}),t.bind(t.getRoot(),"keydown",function(t){9===t.keyCode&&t.ctrlKey&&!t.altKey&&(r.moveFocus(t.shiftKey?-1:1),e.dom.Event.cancel(t))}),i(t.select("a",n),function(e){t.setAttrib(e,"tabindex","-1")}),r=tinyMCEPopup.editor.windowManager.createInstance("tinymce.ui.KeyboardNavigation",{root:n,items:o,onAction:s,actOnFocus:!0,enableLeftRight:!0,enableUpDown:!0},tinyMCEPopup.dom)})});