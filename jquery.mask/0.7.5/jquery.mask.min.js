// jQuery Mask Plugin v0.7.5
// github.com/igorescobar/jQuery-Mask-Plugin
(function(a){var b;var c=function(h,d,e){var i=this,f=a(h),j={byPassKeys:[8,9,37,38,39,40],maskChars:{":":":","-":"-",".":"\\.","(":"\\(",")":"\\)","/":"/",",":",",_:"_"," ":"\\s","+":"\\+"},translationNumbers:{0:"\\d",1:"\\d",2:"\\d",3:"\\d",4:"\\d",5:"\\d",6:"\\d",7:"\\d",8:"\\d",9:"\\d"},translation:{A:"[a-zA-Z0-9]",S:"[a-zA-Z]"}};i.init=function(){i.settings={};e=e||{};j.translation=a.extend({},j.translation,j.translationNumbers);i.settings=a.extend(true,{},j,e);i.settings.specialChars=a.extend({},i.settings.maskChars,i.settings.translation);f.each(function(){d=g.resolveDynamicMask(d,a(this).val(),b,a(this),e);f.attr("maxlength",d.length);f.attr("autocomplete","off");g.destroyEvents();g.setOnKeyUp();g.setOnPaste()})};var g={resolveDynamicMask:function(k,m,o,n,l){return typeof k=="function"?k(m,o,n,l):k},onlyNonMaskChars:function(k){a.each(i.settings.maskChars,function(m,l){k=k.replace(new RegExp("("+i.settings.maskChars[m]+")?","g"),"")});return k},onPasteMethod:function(){setTimeout(function(){f.trigger("keyup")},100)},setOnPaste:function(){(g.hasOnSupport())?f.on("paste",g.onPasteMethod):f.onpaste=g.onPasteMethod},setOnKeyUp:function(){f.keyup(g.maskBehaviour).trigger("keyup")},hasOnSupport:function(){return a.isFunction(a.on)},destroyEvents:function(){f.unbind("keyup").unbind("onpaste")},maskBehaviour:function(q){q=q||window.event;var p=q.keyCode||q.which;if(a.inArray(p,i.settings.byPassKeys)>-1){return true}var m=g.onlyNonMaskChars(f.val()),l=f.val().length-1,o=f.val()[l],r=g.getMask(m,d);if(o===d[l]&&i.settings.maskChars[o]){var n=g.cleanBullShit(f.val(),d);if(n!==""){n+=o}f.val(n);return true}var k=g.applyMask(q,f,r,e);if(k!==f.val()){f.val(k).trigger("change")}return g.seekCallbacks(q,e,k,d,f)},applyMask:function(o,n,k,m){if(k===""){return}var l=g.cleanBullShit(g.onlyNonMaskChars(n.val()).substring(0,g.onlyNonMaskChars(k).length),k),p=new RegExp(g.maskToRegex(g.getMask(l,k)));return l.replace(p,function(){for(var r=1,q="";r<arguments.length-2;r++){if(typeof arguments[r]==="undefined"||arguments[r]===""){arguments[r]=k.charAt(r-1)}q+=arguments[r]}return q})},getMask:function(l,k){return(typeof e.reverse=="boolean"&&e.reverse===true)?g.getProportionalReverseMask(l,k):g.getProportionalMask(l,k)},getProportionalMask:function(n,l){var o=0,k=0;while(k<=n.length-1){while(i.settings.maskChars[l.charAt(o)]){o++}o++;k++}return l.substring(0,o)},getProportionalReverseMask:function(n,l){var q=0,p=0,k=0,o=l.length;q=(o>=1)?o:o-1;p=q;while(k<=n.length-1){while(i.settings.maskChars[l.charAt(p-1)]){p--}p--;k++}p=(l.length>=1)?p:p-1;return l.substring(q,p)},maskToRegex:function(k){for(var l=0,m="";l<k.length;l++){var n=i.settings.specialChars[k.charAt(l)];if(n){m+="("+n+")"}if(i.settings.maskChars[k.charAt(l)]){m+="?"}}return m},validDigit:function(k,m){var l="("+i.settings.specialChars[k]+")";if(i.settings.maskChars[k]){l+="?"}return new RegExp(l).test(m)},cleanBullShit:function(l,n,p){p=p||0;l=l.split("");for(var q=p,k=p,r=n.length,o=l.length;q<r;q++,k++){while(i.settings.maskChars[n.charAt(k)]){k++}if(!g.validDigit(n.charAt(k),l[q])&&typeof l[q]!=="undefined"){l[q]="";l=l.join("");return g.cleanBullShit(l,g.getMask(l,n),0)}}return l.join("")},seekCallbacks:function(o,m,k,l,n){if(m.onKeyPress&&o.isTrigger===undefined&&typeof m.onKeyPress=="function"){m.onKeyPress(k,o,n,m)}if(m.onComplete&&o.isTrigger===undefined&&k.length===l.length&&typeof m.onComplete=="function"){m.onComplete(k,o,n,m)}}};if(typeof QUNIT==="boolean"){i.__p=g}i.remove=function(){g.destroyEvents();f.val(g.onlyNonMaskChars(f.val()))};i.init()};a.fn.mask=function(d,e){return this.each(function(){a(this).data("mask",new c(this,d,e))})}})(jQuery);
