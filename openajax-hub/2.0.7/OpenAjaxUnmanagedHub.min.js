/*! OpenAjax Unmanaged Hub v2.0.7 | http://www.openajax.org/member/wiki/OpenAjax_Hub_Specification | Apache License 2.0 */
if(!window.OpenAjax){OpenAjax=new function(){var a=true;var e=false;var c=window;var i="org.openajax.hub.";var b={};this.hub=b;b.implementer="http://openajax.org";b.implVersion="2.0";b.specVersion="2.0";b.implExtraData={};var d={};b.libraries=d;b.registerLibrary=function(j,h,g,f){d[j]={prefix:j,namespaceURI:h,version:g,extraData:f};this.publish(i+"registerLibrary",d[j])};b.unregisterLibrary=function(f){this.publish(i+"unregisterLibrary",d[f]);delete d[f]};b._subscriptions={c:{},s:[]};b._cleanup=[];b._subIndex=0;b._pubDepth=0;b.subscribe=function(j,g,m,l,k){if(!m){m=window}var h=j+"."+this._subIndex;var f={scope:m,cb:g,fcb:k,data:l,sid:this._subIndex++,hdl:h};var n=j.split(".");this._subscribe(this._subscriptions,n,0,f);return h};b.publish=function(j,h){var g=j.split(".");this._pubDepth++;this._publish(this._subscriptions,g,0,j,h);this._pubDepth--;if((this._cleanup.length>0)&&(this._pubDepth==0)){for(var f=0;f<this._cleanup.length;f++){this.unsubscribe(this._cleanup[f].hdl)}delete (this._cleanup);this._cleanup=[]}};b.unsubscribe=function(g){var h=g.split(".");var f=h.pop();this._unsubscribe(this._subscriptions,h,0,f)};b._subscribe=function(k,j,g,h){var f=j[g];if(g==j.length){k.s.push(h)}else{if(typeof k.c=="undefined"){k.c={}}if(typeof k.c[f]=="undefined"){k.c[f]={c:{},s:[]};this._subscribe(k.c[f],j,g+1,h)}else{this._subscribe(k.c[f],j,g+1,h)}}};b._publish=function(g,f,n,m,h,q){if(typeof g!="undefined"){var l;if(n==f.length){l=g}else{this._publish(g.c[f[n]],f,n+1,m,h,q);this._publish(g.c["*"],f,n+1,m,h,q);l=g.c["**"]}if(typeof l!="undefined"){var j=l.s;var t=j.length;for(var o=0;o<t;o++){if(j[o].cb){var s=j[o].scope;var k=j[o].cb;var p=j[o].fcb;var r=j[o].data;if(typeof k=="string"){k=s[k]}if(typeof p=="string"){p=s[p]}if((!p)||(p.call(s,m,h,r))){k.call(s,m,h,r,q)}}}}}};b._unsubscribe=function(l,k,j,g){if(typeof l!="undefined"){if(j<k.length){var h=l.c[k[j]];this._unsubscribe(h,k,j+1,g);if(h.s.length==0){for(var o in h.c){return}delete l.c[k[j]]}return}else{var f=l.s;var n=f.length;for(var m=0;m<n;m++){if(g==f[m].sid){if(this._pubDepth>0){f[m].cb=null;this._cleanup.push(f[m])}else{f.splice(m,1)}return}}}}};b.reinit=function(){for(var f in OpenAjax.hub.libraries){delete OpenAjax.hub.libraries[f]}OpenAjax.hub.registerLibrary("OpenAjax","http://openajax.org/hub","1.0",{});delete OpenAjax._subscriptions;OpenAjax._subscriptions={c:{},s:[]};delete OpenAjax._cleanup;OpenAjax._cleanup=[];OpenAjax._subIndex=0;OpenAjax._pubDepth=0}};OpenAjax.hub.registerLibrary("OpenAjax","http://openajax.org/hub","1.0",{})};