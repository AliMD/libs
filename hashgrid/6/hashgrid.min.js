"undefined"==typeof jQuery&&alert("Hashgrid: jQuery not loaded. Make sure it's linked to your pages.");var hashgrid=function(e){function t(e){if(null==C.modifierKey)return!0;var t=!0;switch(C.modifierKey){case"ctrl":t=e.ctrlKey?e.ctrlKey:!1;break;case"alt":t=e.altKey?e.altKey:!1;break;case"shift":t=e.shiftKey?e.shiftKey:!1}return t}function n(e){var t=!1,n=e.keyCode?e.keyCode:e.which;return t=13==n?"enter":String.fromCharCode(n).toLowerCase()}function i(){s(C.cookiePrefix+C.id,(I?"1":"0")+","+S+","+T,1)}function r(){g.show(),y.css({width:g.width()}),y.children(".vert").each(function(){$(this).css("display","inline-block"),$(this).offset().top>0&&$(this).hide()})}function o(e){var o,a,s=e.target.tagName.toLowerCase();if("input"==s||"textarea"==s||"select"==s)return!0;if(a=t(e),!a)return!0;if(o=n(e),!o)return!0;switch(o){case C.showGridKey:E?I&&(g.hide(),E=!1,I=!1,i()):(r(),E=!0);break;case C.holdGridKey:E&&!I&&(I=!0,i());break;case C.foregroundKey:E&&(g.css("z-index")==D?(g.css("z-index",A),S="B"):(g.css("z-index",D),S="F"),i());break;case C.jumpGridsKey:E&&C.numberOfGrids>1&&(g.removeClass(C.classPrefix+T),T++,T>C.numberOfGrids&&(T=1),g.addClass(C.classPrefix+T),r(),/webkit/.test(navigator.userAgent.toLowerCase())&&c(),i())}return!0}function a(e){var i,r=t(e);return r?(i=n(e),i&&i==C.showGridKey&&!I&&(g.hide(),E=!1),!0):!0}function s(e,t,n){var i,r="";n&&(i=new Date,i.setTime(i.getTime()+1e3*60*60*24*n),r="; expires="+i.toGMTString()),document.cookie=e+"="+t+r+"; path=/"}function l(e){for(var t,n=document.cookie.split(";"),i=0,r=n.length,o=e+"=";r>i;i++){for(t=n[i];" "==t.charAt(0);)t=t.substring(1,t.length);if(0==t.indexOf(o))return t.substring(o.length,t.length)}return null}function c(){var e=document.styleSheets[0];try{e.addRule(".xxxxxx","position: relative"),e.removeRule(e.rules.length-1)}catch(t){}}var u,d,p,h,f,m,g,b,v,y,_,x,k,w,C={id:"grid",modifierKey:null,showGridKey:"g",holdGridKey:"h",foregroundKey:"f",jumpGridsKey:"j",numberOfGrids:1,classPrefix:"grid-",cookiePrefix:"hashgrid"},T=1,E=!1,S="B",A=-1,D=9999,I=!1;if("object"==typeof e)for(x in e)C[x]=e[x];else"string"==typeof e&&(C.id=e);if($("#"+C.id).length>0&&$("#"+C.id).remove(),v=$("<div></div>"),v.attr("id",C.id).css({display:"none","pointer-events":"none"}),$("body").prepend(v),g=$("#"+C.id),"auto"==g.css("z-index")&&g.css("z-index",A),_=parseFloat($(document).height()),g.height(_),g.append('<div id="'+C.id+'-horiz" class="horiz first-line">'),w=g.css("top"),g.css({top:"-999px",display:"block"}),h=$("#"+C.id+"-horiz"),f=h.outerHeight(),g.css({display:"none",top:w}),0>=f)return!1;for(m=Math.floor(_/f),u="",p=m-1;p>=1;p--)u+='<div class="horiz"></div>';for(g.append(u),g.append($('<div class="vert-container"></div>')),y=g.children(".vert-container"),d=g.width(),y.css({width:d,position:"absolute",top:0}),y.append('<div class="vert first-line">&nbsp;</div>'),u="",p=0;30>p;p++)u+='<div class="vert">&nbsp;</div>';return y.append(u),y.children().height(_).css({display:"inline-block"}),b=l(C.cookiePrefix+C.id),"string"==typeof b?(k=b.split(","),k[2]=Number(k[2]),"number"!=typeof k[2]||isNaN(k[2])||(T=k[2].toFixed(0),g.addClass(C.classPrefix+T)),"F"==k[1]&&(S="F",g.css("z-index",D)),"1"==k[0]&&(E=!0,I=!0,r())):g.addClass(C.classPrefix+T),$(document).bind("keydown",o),$(document).bind("keyup",a),{}};$(document).ready(function(){new hashgrid({numberOfGrids:2})});