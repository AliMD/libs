/*!
 * VERSION: beta 0.1.4
 * DATE: 2013-02-28
 * JavaScript
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for 
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var b,c,a=/(\d|\.)+/g,d=["redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset"],e={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},f=function(b){return""===b||null==b||"none"===b?e.transparent:e[b]?e[b]:"number"==typeof b?[b>>16,255&b>>8,255&b]:"#"===b.charAt(0)?(4===b.length&&(b="#"+b.charAt(1)+b.charAt(1)+b.charAt(2)+b.charAt(2)+b.charAt(3)+b.charAt(3)),b=parseInt(b.substr(1),16),[b>>16,255&b>>8,255&b]):b.match(a)||e.transparent},g=function(a,c,e){if(!b&&(b=window.ColorFilter||window.createjs.ColorFilter,!b))throw"EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.";for(var i,j,k,l,m,g=a.filters||[],h=g.length;--h>-1;)if(g[h]instanceof b){j=g[h];break}if(j||(j=new b,g.push(j),a.filters=g),k=j.clone(),null!=c.tint)i=f(c.tint),l=null!=c.tintAmount?Number(c.tintAmount):1,k.redOffset=Number(i[0])*l,k.greenOffset=Number(i[1])*l,k.blueOffset=Number(i[2])*l,k.redMultiplier=k.greenMultiplier=k.blueMultiplier=1-l;else for(m in c)"exposure"!==m&&"brightness"!==m&&(k[m]=Number(c[m]));for(null!=c.exposure?(k.redOffset=k.greenOffset=k.blueOffset=255*(Number(c.exposure)-1),k.redMultiplier=k.greenMultiplier=k.blueMultiplier=1):null!=c.brightness&&(l=Number(c.brightness)-1,k.redOffset=k.greenOffset=k.blueOffset=l>0?255*l:0,k.redMultiplier=k.greenMultiplier=k.blueMultiplier=1-Math.abs(l)),h=8;--h>-1;)m=d[h],j[m]!==k[m]&&e._addTween(j,m,j[m],k[m],"easel_colorFilter");if(e._overwriteProps.push("easel_colorFilter"),!a.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+a},h=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],i=.212671,j=.71516,k=.072169,l=function(a,b){if(!(a instanceof Array&&b instanceof Array))return b;var f,g,c=[],d=0,e=0;for(f=0;4>f;f++){for(g=0;5>g;g++)e=4===g?a[d+4]:0,c[d+g]=a[d]*b[g]+a[d+1]*b[g+5]+a[d+2]*b[g+10]+a[d+3]*b[g+15]+e;d+=5}return c},m=function(a,b){if(isNaN(b))return a;var c=1-b,d=c*i,e=c*j,f=c*k;return l([d+b,e,f,0,0,d,e+b,f,0,0,d,e,f+b,0,0,0,0,0,1,0],a)},n=function(a,b,c){isNaN(c)&&(c=1);var d=f(b),e=d[0]/255,g=d[1]/255,h=d[2]/255,m=1-c;return l([m+c*e*i,c*e*j,c*e*k,0,0,c*g*i,m+c*g*j,c*g*k,0,0,c*h*i,c*h*j,m+c*h*k,0,0,0,0,0,1,0],a)},o=function(a,b){if(isNaN(b))return a;b*=Math.PI/180;var c=Math.cos(b),d=Math.sin(b);return l([i+c*(1-i)+d*-i,j+c*-j+d*-j,k+c*-k+d*(1-k),0,0,i+c*-i+.143*d,j+c*(1-j)+.14*d,k+c*-k+d*-.283,0,0,i+c*-i+d*-(1-i),j+c*-j+d*j,k+c*(1-k)+d*k,0,0,0,0,0,1,0,0,0,0,0,1],a)},p=function(a,b){return isNaN(b)?a:(b+=.01,l([b,0,0,0,128*(1-b),0,b,0,0,128*(1-b),0,0,b,0,128*(1-b),0,0,0,1,0],a))},q=function(a,b,d){if(!c&&(c=window.ColorMatrixFilter||window.createjs.ColorMatrixFilter,!c))throw"EaselPlugin error: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.";for(var g,i,j,e=a.filters||[],f=e.length;--f>-1;)if(e[f]instanceof c){j=e[f];break}for(j||(j=new c(h.slice()),e.push(j),a.filters=e),i=j.matrix,g=h.slice(),null!=b.colorize&&(g=n(g,b.colorize,Number(b.colorizeAmount))),null!=b.contrast&&(g=p(g,Number(b.contrast))),null!=b.hue&&(g=o(g,Number(b.hue))),null!=b.saturation&&(g=m(g,Number(b.saturation))),f=g.length;--f>-1;)g[f]!==i[f]&&d._addTween(i,f,i[f],g[f],"easel_colorMatrixFilter");if(d._overwriteProps.push("easel_colorMatrixFilter"),!a.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+a;d._matrix=i};window._gsDefine.plugin({propName:"easel",priority:-1,API:2,init:function(a,b){this._target=a;var d,e,f,h;for(d in b)"colorFilter"===d||"tint"===d||"tintAmount"===d||"exposure"===d||"brightness"===d?f||(g(a,b.colorFilter||b,this),f=!0):"saturation"===d||"contrast"===d||"hue"===d||"colorize"===d||"colorizeAmount"===d?h||(q(a,b.colorMatrixFilter||b,this),h=!0):null!=a[d]&&(this._firstPT=e={_next:this._firstPT,t:a,p:d,f:"function"==typeof a[d],n:d,pr:0,type:0},e.s=e.f?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(a[d]),e.c="number"==typeof b[d]?b[d]-e.s:"string"==typeof b[d]?parseFloat(b[d].split("=").join("")):0,e._next&&(e._next._prev=e));return!0},set:function(a){for(var d,b=this._firstPT,c=1e-6;b;)d=b.c*a+b.s,b.r?d=d+(d>0?.5:-.5)>>0:c>d&&d>-c&&(d=0),b.f?b.t[b.p](d):b.t[b.p]=d,b=b._next;this._target.cacheID&&this._target.updateCache()}})}),window._gsDefine&&window._gsQueue.pop()();