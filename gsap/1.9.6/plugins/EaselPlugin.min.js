/*!
 * VERSION: beta 0.1.4
 * DATE: 2013-02-28
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var t,e,i=/(\d|\.)+/g,s=["redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset"],r={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},n=function(t){return""===t||null==t||"none"===t?r.transparent:r[t]?r[t]:"number"==typeof t?[t>>16,255&t>>8,255&t]:"#"===t.charAt(0)?(4===t.length&&(t="#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)),t=parseInt(t.substr(1),16),[t>>16,255&t>>8,255&t]):t.match(i)||r.transparent},a=function(e,i,r){if(!t&&(t=window.ColorFilter||window.createjs.ColorFilter,!t))throw"EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.";for(var a,o,h,l,u,_=e.filters||[],f=_.length;--f>-1;)if(_[f]instanceof t){o=_[f];break}if(o||(o=new t,_.push(o),e.filters=_),h=o.clone(),null!=i.tint)a=n(i.tint),l=null!=i.tintAmount?Number(i.tintAmount):1,h.redOffset=Number(a[0])*l,h.greenOffset=Number(a[1])*l,h.blueOffset=Number(a[2])*l,h.redMultiplier=h.greenMultiplier=h.blueMultiplier=1-l;else for(u in i)"exposure"!==u&&"brightness"!==u&&(h[u]=Number(i[u]));for(null!=i.exposure?(h.redOffset=h.greenOffset=h.blueOffset=255*(Number(i.exposure)-1),h.redMultiplier=h.greenMultiplier=h.blueMultiplier=1):null!=i.brightness&&(l=Number(i.brightness)-1,h.redOffset=h.greenOffset=h.blueOffset=l>0?255*l:0,h.redMultiplier=h.greenMultiplier=h.blueMultiplier=1-Math.abs(l)),f=8;--f>-1;)u=s[f],o[u]!==h[u]&&r._addTween(o,u,o[u],h[u],"easel_colorFilter");if(r._overwriteProps.push("easel_colorFilter"),!e.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+e},o=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],h=.212671,l=.71516,u=.072169,_=function(t,e){if(!(t instanceof Array&&e instanceof Array))return e;var i,s,r=[],n=0,a=0;for(i=0;4>i;i++){for(s=0;5>s;s++)a=4===s?t[n+4]:0,r[n+s]=t[n]*e[s]+t[n+1]*e[s+5]+t[n+2]*e[s+10]+t[n+3]*e[s+15]+a;n+=5}return r},f=function(t,e){if(isNaN(e))return t;var i=1-e,s=i*h,r=i*l,n=i*u;return _([s+e,r,n,0,0,s,r+e,n,0,0,s,r,n+e,0,0,0,0,0,1,0],t)},p=function(t,e,i){isNaN(i)&&(i=1);var s=n(e),r=s[0]/255,a=s[1]/255,o=s[2]/255,f=1-i;return _([f+i*r*h,i*r*l,i*r*u,0,0,i*a*h,f+i*a*l,i*a*u,0,0,i*o*h,i*o*l,f+i*o*u,0,0,0,0,0,1,0],t)},c=function(t,e){if(isNaN(e))return t;e*=Math.PI/180;var i=Math.cos(e),s=Math.sin(e);return _([h+i*(1-h)+s*-h,l+i*-l+s*-l,u+i*-u+s*(1-u),0,0,h+i*-h+.143*s,l+i*(1-l)+.14*s,u+i*-u+s*-.283,0,0,h+i*-h+s*-(1-h),l+i*-l+s*l,u+i*(1-u)+s*u,0,0,0,0,0,1,0,0,0,0,0,1],t)},m=function(t,e){return isNaN(e)?t:(e+=.01,_([e,0,0,0,128*(1-e),0,e,0,0,128*(1-e),0,0,e,0,128*(1-e),0,0,0,1,0],t))},d=function(t,i,s){if(!e&&(e=window.ColorMatrixFilter||window.createjs.ColorMatrixFilter,!e))throw"EaselPlugin error: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.";for(var r,n,a,h=t.filters||[],l=h.length;--l>-1;)if(h[l]instanceof e){a=h[l];break}for(a||(a=new e(o.slice()),h.push(a),t.filters=h),n=a.matrix,r=o.slice(),null!=i.colorize&&(r=p(r,i.colorize,Number(i.colorizeAmount))),null!=i.contrast&&(r=m(r,Number(i.contrast))),null!=i.hue&&(r=c(r,Number(i.hue))),null!=i.saturation&&(r=f(r,Number(i.saturation))),l=r.length;--l>-1;)r[l]!==n[l]&&s._addTween(n,l,n[l],r[l],"easel_colorMatrixFilter");if(s._overwriteProps.push("easel_colorMatrixFilter"),!t.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+t;s._matrix=n};window._gsDefine.plugin({propName:"easel",priority:-1,API:2,init:function(t,e){this._target=t;var i,s,r,n;for(i in e)"colorFilter"===i||"tint"===i||"tintAmount"===i||"exposure"===i||"brightness"===i?r||(a(t,e.colorFilter||e,this),r=!0):"saturation"===i||"contrast"===i||"hue"===i||"colorize"===i||"colorizeAmount"===i?n||(d(t,e.colorMatrixFilter||e,this),n=!0):null!=t[i]&&(this._firstPT=s={_next:this._firstPT,t:t,p:i,f:"function"==typeof t[i],n:i,pr:0,type:0},s.s=s.f?t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]():parseFloat(t[i]),s.c="number"==typeof e[i]?e[i]-s.s:"string"==typeof e[i]?parseFloat(e[i].split("=").join("")):0,s._next&&(s._next._prev=s));return!0},set:function(t){for(var e,i=this._firstPT,s=1e-6;i;)e=i.c*t+i.s,i.r?e=e+(e>0?.5:-.5)>>0:s>e&&e>-s&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next;this._target.cacheID&&this._target.updateCache()}})}),window._gsDefine&&window._gsQueue.pop()();