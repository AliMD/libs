define("dollar",["mo/lang/es5","mo/lang/mix","mo/lang/type"],function(M,f,I){function d(a,b){if(a){if(a.constructor===d)return a;if("string"!==typeof a){var c=new d;r[a.push===r?"apply":"call"](c,a);return c}return s.test(a)?y(a):b?d(b).find(a):m.find(a)}if(this===h)return new d}function k(a,b){return a&&a[J](b)}function z(a,b){return function(c){b&&(c=c[b]);k(c,a)&&this.push(c);return c}}function t(a){return function(b){return d(f.unique([void 0,l,null].concat(this._map(b?function(c){if((c=c[a])&&
k(c,b))return c}:function(b){return b[a]}))).slice(3))}}function n(a,b,c){return function(e,u){c||(u=e);var g=new d;this.forEach(function(g){var v,f=b?g.parentNode[b]:g;c&&(v=d(e,g.parentNode));do{if(v&&-1<v.indexOf(f))break;g!==f&&(!u||k(f,u))&&this.push(f)}while(f=f[a])},g);return f.unique(g)}}function i(a,b,c,e,d){var g=A(b);a.forEach(function(a,f){e.call(d,a,!g?b:b.call(this,f,c&&a[c]))},a);return a}function p(a,b,c){return function(e,d){if("object"===typeof e)if(c)c(this,e);else for(var g in e)this.forEach(function(b){a(b,
this,e[this])},g);else if(void 0!==d){var f=A(d);this.forEach(function(c,g){a(c,e,!f?d:d.call(this,g,b(c,e)))},this)}else return b(this[0],e);return this}}function B(a){function b(c,e){if("object"===typeof c)for(var d in c)b.call(this,[d,c[d]]);else e&&this.forEach(function(b){b[a+"EventListener"](c,this,!1)},e);return this}return b}function C(a,b){var c=!0,e=document.createEvent(K[a]||"Events");b&&("bubbles"in b&&(c=!!b.bubbles,delete b.bubbles),f.mix(e,b));e.initEvent(a,c,!0);return e}function q(a){return a.replace(/-+(.)?/g,
function(a,c){return c?c.toUpperCase():""})}function w(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function D(a){return function(){return this[0]===h?h["inner"+a]:this[0]===l?l.documentElement["offset"+a]:(this.offset()||{})[a.toLowerCase()]}}function y(a,b){var c=(s.exec(a)||[])[0]||a,e=E[c];e||(e=E[c]="tr"===c&&document.createElement("tbody")||("tbody"===c||"thead"===c||"tfoot"===c)&&document.createElement("table")||
("td"===c||"th"===c)&&document.createElement("tr")||document.createElement("div"));e.innerHTML=a;c=new d;r.apply(c,e.childNodes);c.forEach(function(a){this.removeChild(a)},e);if(b)for(var f in b)c.attr(f,b[f]);return c}function F(a,b,c){"SCRIPT"===b.nodeName.toUpperCase()&&(!b.type||"text/javascript"===b.type)&&h.eval.call(h,b.innerHTML);switch(c){case 1:a.appendChild(b);break;case 2:a.parentNode.insertBefore(b,a);break;case 3:a.insertBefore(b,a.firstChild);break;case 4:a.parentNode.insertBefore(b,
a.nextSibling)}}function j(a,b){var c=b?function(b){F(b,this,a)}:function(b){F(this,b,a)};return function(a){this.forEach(function(a){this.forEach(c,a)},d(a));return this}}var h=this,l=h.document,J=["webkitMatchesSelector","mozMatchesSelector","matchesSelector"].map(function(a){return this[a]&&a},l.body).filter(function(a){return a})[0],K={click:"MouseEvents",mousedown:"MouseEvents",mouseup:"MouseEvents",mousemove:"MouseEvents"},G={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,
"z-index":1,zoom:1},s=/^\s*<(\w+|!)[^>]*>/,A=I.isFunction,L=Array.prototype.map,r=Array.prototype.push,x=document.defaultView.getComputedStyle,H={},E={},m=d.fn=d.prototype=[];["map","filter","slice","reverse","sort"].forEach(function(a){var b=this["_"+a]=this[a];this[a]=function(){return d(b.apply(this,arguments))}},m);["splice","concat"].forEach(function(a){var b=this["_"+a]=this[a];this[a]=function(){return d(b.apply(this._slice(),L.call(arguments,function(a){return a._slice()})))}},m);f.mix(m,
{constructor:d,find:function(a){var b=new d,c;this===m?c=[l]:b.prevObject=c=this;if(/^#/.test(a))(c=(c[0]||l).getElementById(a.substr(1)))&&b.push(c);else{var e=/\W/.test(a)?"querySelectorAll":"getElementsByTagName";c[1]?c.forEach(function(b){this.push.apply(this,b[e](a))},b):c[0]&&b.push.apply(b,c[0][e](a))}return b},eq:function(a){return-1===a?this.slice(-1):this.slice(a,a+1)},not:function(a){return this.filter(function(b){return b&&!this(b,a)},k)},has:function(a){return this.filter(function(b){return this(b,
a)},k)},parent:t("parentNode"),parents:function(a){for(var b=new d,c=this,a=a?z(a,"parentNode"):function(a){return this[this.push(a.parentNode)-1]};c.length;)c=c.map(a,b);return b},closest:function(a){for(var b=new d,c=this,a=z(a,"parentNode");c.length&&!b.length;)c=c.map(a,b);return b.length&&b||this},siblings:n("nextElementSibling","firstElementChild"),next:t("nextElementSibling"),nextAll:n("nextElementSibling"),nextUntil:n("nextElementSibling",!1,!0),prev:t("prevElementSibling"),prevAll:n("prevElementSibling"),
prevUntil:n("prevElementSibling",!1,!0),children:function(){return f.merge.apply(f,this.map(function(a){return this(a.children)},d))},contents:function(){return f.merge.apply(f,this.map(function(a){return this(a.childNodes)},d))},is:function(a){return this.some(function(b){return k(b,a)})},hasClass:function(a){for(var b=0,c=this.length;b<c;b++)if(this[b].classList.contains(a))return!0;return!1},addClass:function(a){return i(this,a,"className",function(a,c){a.classList.add(c)})},removeClass:function(a){return i(this,
a,"className",function(a,c){a.classList.remove(c)})},toggleClass:function(a,b){return i(this,a,"className",function(a,b){a.classList["undefined"===typeof this&&"toggle"||this&&"add"||"remove"](b)},b)},attr:p(function(a,b,c){a.setAttribute(b,c)},function(a,b){return a&&a.getAttribute(b)}),removeAttr:function(a){this.forEach(function(a){a.removeAttribute(this)},a);return this},prop:p(function(a,b,c){a[b]=c},function(a,b){return(a||{})[b]}),removeProp:function(a){this.forEach(function(a){delete a[this]},
a);return this},data:p(function(a,b,c){a.dataset[q(b)]=c},function(a,b){return(a||{}).dataset[q(b)]}),removeData:function(a){this.forEach(function(a){delete a.dataset[this]},a);return this},val:function(a){var b=this[0];if(void 0===a){if(b)return b.multiple?d("option",this).filter(function(a){return a.selected}).map(function(a){return a.value}):b.value}else return i(this,a,"value",function(a,b){a.value=b})},empty:function(){this.forEach(function(a){a.innerHTML=""});return this},html:function(a){return void 0===
a?(this[0]||{}).innerHTML:i(this,a,"innerHTML",function(a,c){s.test(c)?this(a).empty().append(c):a.innerHTML=c},d)},text:function(a){return void 0===a?(this[0]||{}).textContent:i(this,a,"textContent",function(a,c){a.textContent=c})},clone:function(){return this.map(function(a){return a.cloneNode(!0)})},css:p(function(a,b,c){b=w(b);!c&&0!==c?a.style.removeProperty(b):a.style.cssText+=";"+b+":"+("number"==typeof c&&!G[b]&&c+"px"||c)},function(a,b){return a&&(a.style[q(b)]||x(a,"").getPropertyValue(b))},
function(a,b){var c,d,f="",g;for(g in b)d=b[g],c=w(g),!d&&0!==d?a.forEach(function(a){a.style.removeProperty(this)},c):f+=c+":"+("number"==typeof d&&!G[c]&&d+"px"||d)+";";a.forEach(function(a){a.style.cssText+=";"+this},f)}),hide:function(){return this.css("display","none")},show:function(){this.forEach(function(a){"none"===a.style.display&&(a.style.display=null);if("none"===this(a,"").getPropertyValue("display")){var b=a.style,a=a.nodeName,c=H[a];if(!c){var d=document.createElement(a);l.body.appendChild(d);
c=x(d,"").getPropertyValue("display");d.parentNode.removeChild(d);"none"===c&&(c="block");H[a]=c}b.display=c}},x);return this},offset:function(){var a=this[0].getBoundingClientRect();return{left:a.left+h.pageXOffset,top:a.top+h.pageYOffset,width:a.width,height:a.height}},width:D("Width"),height:D("Height"),appendTo:j(1,!0),append:j(1),prependTo:j(3,!0),prepend:j(3),insertBefore:j(2,!0),before:j(2),insertAfter:j(4,!0),after:j(4),replaceAll:function(a){a=d(a);this.insertBefore(a);a.remove();return this},
replaceWith:function(a){return d(a).replaceAll(this)},wrap:function(a){return i(this,a,!1,function(a,c){this(c).insertBefore(a).append(a)},d)},wrapAll:function(a){d(a).insertBefore(this.eq(0)).append(this);return this},wrapInner:function(a){return i(this,a,!1,function(a,c){this(a).contents().wrapAll(c)},d)},unwrap:function(){this.parent().forEach(function(a){this(a).children().replaceAll(a)},d);return this},remove:function(){this.forEach(function(a){var b=a.parentNode;b&&b.removeChild(a)});return this},
bind:B("add"),unbind:B("remove"),trigger:function(a,b){"string"===typeof a&&(a=C(a));f.mix(a,b);this.forEach("submit"==a.type&&!a.defaultPrevented?function(a){a.submit()}:function(a){"dispatchEvent"in a&&a.dispatchEvent(this)},a);return this},end:function(){return this.prevObject||new d},each:function(a){for(var b=0,c=this.length;b<c&&!1!==a.call(this[b],b);b++);return this}});d.find=d;d.matchesSelector=k;d.createNodes=y;d.camelize=q;d.dasherize=w;d.Event=C;d.VERSION="1.1.0";return d});
