define("mo/network",["mo/lang","mo/network/ajax"],function(e,t,i,n){var r=this,o=1;e.mix(n,t),n.getScript=function(t,i){var n=e.isWindow(this)?this.document:document,r=n.createElement("script");r.type="text/javascript",r.async="async",i?e.isFunction(i)&&(i={callback:i}):i={},i.charset&&(r.charset=i.charset),r.src=t;var o=n.getElementsByTagName("head")[0];r.onload=r.onreadystatechange=function(e,t){(t||!r.readyState||/loaded|complete/.test(r.readyState))&&(r.onload=r.onreadystatechange=null,o&&r.parentNode&&o.removeChild(r),r=void 0,!t&&i.callback&&i.callback())},o.insertBefore(r,o.firstChild)},n.getStyle=function(e){var t=this.document||document,i=t.createElement("link");i.setAttribute("type","text/css"),i.setAttribute("rel","stylesheet"),i.setAttribute("href",e);var n=t.getElementsByTagName("head")[0];n.appendChild(i)};var a=/https?\:\/\/(.+?)\//;n.getJSON=function(t,i,s,l){var c=t.match(a);if((!i||e.isFunction(i))&&(l=s,s=i,i={}),s&&!(l&&l.isScript||c&&c[1]!==r.location.host))return n.ajax({url:t,data:i,success:s,error:l&&l.error,dataType:"json"}),!0;l=e.mix({charset:"utf-8",callback:"__oz_jsonp"+ ++o},l||{}),l.random&&(i[l.random]=+new Date);var h=l.callbackName||"jsoncallback";i[h]=l.callback,t=[t,/\?/.test(t)?"&":"?",n.httpParam(i)].join(""),s&&e.ns(l.callback,s),delete l.callback,n.getScript(t,l)},n.getRequest=function(e,t){var i=new Image;i.onload=function(){i=null},i.src=t?[e,/\?/.test(e)?"&":"?","string"==typeof t?t:n.httpParam(t)].join(""):e}});