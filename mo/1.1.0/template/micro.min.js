define("mo/template/micro",["mo/lang","mo/template/string"],function(e,t,i,n){function r(e,t,i){var a,s=n.tplSettings,l=i?"#"+i:"";if(/[\t\r\n% ]/.test(e))a=Function(i||"obj","api","var __p=[];"+(i?"":"with(obj){")+"var mix=api.mix,escapeHTML=api.escapeHTML,substr=api.substr,include=api.include,has=api._has("+(i||"obj")+");"+"__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(s.interpolate,function(e,t){return"',"+t.replace(/\\'/g,"'")+",'"}).replace(s.evaluate||null,function(e,t){return"');"+t.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');"+(i?"":"}")+"return __p.join('');");else if(a=s._cache[e+l],!a){var c=o.getElementById(e);c&&(a=s._cache[e+l]=r(c.innerHTML,!1,i))}return a?t?a(t,n.tplHelpers):a:""}var o=this.document;n.tplSettings={_cache:{},evaluate:/\{%([\s\S]+?)%\}/g,interpolate:/\{%=([\s\S]+?)%\}/g},n.tplHelpers={mix:e.mix,escapeHTML:t.escapeHTML,substr:t.substr,include:r,_has:function(t){return function(i){return e.ns(i,void 0,t)}}},n.convertTpl=r,n.reloadTpl=function(e){delete n.tplSettings._cache[e]}});