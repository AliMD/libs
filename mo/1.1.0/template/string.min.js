define("mo/template/string",[],function(e,t){t.format=function(e,t){return e.replace(/\{\{(\w+)\}\}/g,function(e,i){return null!=t[i]?t[i]:""})},t.escapeHTML=function(e){e=e||"";var t={"<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;","{":"&#123;","}":"&#125;","@":"&#64;"};return e.replace(/[<>'"\{\}@]/g,function(e){return t[e]})},t.substr=function(e,t,i){if(!e||"string"!=typeof e)return"";var n=e.substr(0,t).replace(/([^\x00-\xff])/g,"$1 ").substr(0,t).replace(/([^\x00-\xff])\s/g,"$1");return i?i.call(n,n):e.length>n.length?n+"...":n},t.strsize=function(e){return e.replace(/([^\x00-\xff]|[A-Z])/g,"$1 ").length}});