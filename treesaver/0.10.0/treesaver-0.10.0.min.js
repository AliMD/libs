var Mustache=function(){var e=function(){};return e.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(e,t,i,n){return n||(this.context=t,this.buffer=[]),this.includes("",e)?(e=this.render_pragmas(e),e=this.render_section(e,t,i),n?this.render_tags(e,t,i,n):(this.render_tags(e,t,i,n),void 0)):n?e:(this.send(e),void 0)},send:function(e){""!==e&&this.buffer.push(e)},render_pragmas:function(e){if(!this.includes("%",e))return e;var t=this;return e.replace(RegExp(this.otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+this.ctag,"g"),function(e,i,n){if(!t.pragmas_implemented[i])throw{message:"This implementation of mustache doesn't understand the '"+i+"' pragma"};return t.pragmas[i]={},n&&(e=n.split("="),t.pragmas[i][e[0]]=e[1]),""})},render_partial:function(e,t,i){if(e=this.trim(e),!i||void 0===i[e])throw{message:"unknown_partial '"+e+"'"};return"object"!=typeof t[e]?this.render(i[e],t,i,!0):this.render(i[e],t[e],i,!0)},render_section:function(e,t,i){if(!this.includes("#",e)&&!this.includes("^",e))return e;var n=this;return e.replace(RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg"),function(e,r,o,s){return e=n.find(o,t),"^"==r?!e||n.is_array(e)&&0===e.length?n.render(s,t,i,!0):"":"#"==r?n.is_array(e)?n.map(e,function(e){return n.render(s,n.create_context(e),i,!0)}).join(""):n.is_object(e)?n.render(s,n.create_context(e),i,!0):"function"==typeof e?e.call(t,s,function(e){return n.render(e,t,i,!0)}):e?n.render(s,t,i,!0):"":void 0})},render_tags:function(e,t,i,n){for(var r=this,o=function(){return RegExp(r.otag+"(=|!|>|\\{|%|\\$)?([^\\/#\\^]+?)\\1?"+r.ctag+"+","g")},s=o(),a=function(e,n,a){switch(n){case"!":return"";case"=":return r.set_delimiters(a),s=o(),"";case">":return r.render_partial(a,t,i);case"{":return r.find(a,t);case"$":return encodeURIComponent(r.find(a,t));default:return r.escape(r.find(a,t))}},e=e.split("\n"),l=0;e.length>l;l++)e[l]=e[l].replace(s,a,this),n||this.send(e[l]);return n?e.join("\n"):void 0},set_delimiters:function(e){e=e.split(" "),this.otag=this.escape_regex(e[0]),this.ctag=this.escape_regex(e[1])},escape_regex:function(e){return arguments.callee.sRE||(arguments.callee.sRE=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g")),e.replace(arguments.callee.sRE,"\\$1")},find:function(e,t){var i,e=this.trim(e);return t[e]===!1||0===t[e]||t[e]?i=t[e]:(this.context[e]===!1||0===this.context[e]||this.context[e])&&(i=this.context[e]),"function"==typeof i?i.apply(t):void 0!==i?i:""},includes:function(e,t){return-1!=t.indexOf(this.otag+e)},escape:function(e){return((null===e?"":e)+"").replace(/&(?!\w+;)|["'<>\\]/g,function(e){switch(e){case"&":return"&amp;";case"\\":return"\\\\";case'"':return"&quot;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";default:return e}})},create_context:function(e){if(this.is_object(e))return e;var t=".";this.pragmas["IMPLICIT-ITERATOR"]&&(t=this.pragmas["IMPLICIT-ITERATOR"].iterator);var i={};return i[t]=e,i},is_object:function(e){return e&&"object"==typeof e},is_array:function(e){return"[object Array]"===Object.prototype.toString.call(e)},trim:function(e){return e.replace(/^\s*|\s*$/g,"")},map:function(e,t){if("function"==typeof e.map)return e.map(t);for(var i=[],n=e.length,r=0;n>r;r++)i.push(t(e[r]));return i}},{name:"mustache.js",version:"0.3.1-dev",to_html:function(t,i,n,r){var o=new e;return r&&(o.send=r),o.render(t,i,n),r?void 0:o.buffer.join("\n")}}}();(function(){"use strict";function e(e,t){var i=e.split("."),n=yn;!(i[0]in n)&&n.execScript&&n.execScript("var "+i[0]);for(var r;i.length&&(r=i.shift());)i.length||t===ln?n=n[r]?n[r]:n[r]={}:n[r]=t}function t(e){return Array.prototype.slice.call(e,0)}function i(e,t){var i=e.slice(t+1||e.length);e.length=0>t?e.length+t:t,e.push.apply(e,i)}function n(e,t,i){var n=document.documentElement.style,t=t&&Pn?Pn+e[0].toUpperCase()+e.substr(1):un;return!i&&n[e]!==void 0||!!t&&n[t]!==void 0}function r(e){return e?"":"no-"}function o(){xn||(xn=[],xn.push("js",r(In)+"canvas",r(Hn)+"localstorage",r(Xn)+"video",r(Un)+"applicationcache",r(Rn)+"fontface",r(Mn)+"touch",r(Vn)+"csstransforms",r(Qn)+"csstransforms3d",r(er)+"csstransitions",r(Dn)+"svg",r(Gn)+"inlinesvg",r(Fn)+"smil",r(Bn)+"svgclippaths",r(Cn)+"treesaver",r(Nn)+"flash",r(An)+"orientation",r(Jn)+"fullscreen",r(_n)+"mobile",r(En)+"smallscreen",r(Nr.qc())+"cached",r(Sn)+"nativeapp",r(Zn)+"subpixels","browser-"+On,"os-"+Tn)),Ln=[r(!Nr.fb())+"offline"],An&&Ln.push("orientation-"+(window.orientation?"horizontal":"vertical"));var e=document.documentElement.className;ir||(ir=cn,e=e?e.replace(/no-js|no-treesaver/g,""):"",e+=" "+xn.join(" ")),rr.lastIndex=0,e=e.replace(rr,""),e+=" "+Ln.join(" "),document.documentElement.className=e.split(/\s+/).join(" ")}function s(e,t){return e.length?e.every(function(e){var i="no-"===e.substr(0,3),e=i?e.substr(3):e,n=xn.concat(t?Ln:[]);return i?-1===n.indexOf(e):-1!==n.indexOf(e)?cn:t||-1===nr.indexOf(e)?un:cn}):cn}function a(){var e=vn();or.forEach(function(t,n){if(!(-1===lr||t.Sb||ar&&(!t.name||-1===ar.indexOf(t.name))||e-t.gb<=t.nc)){if(t.gb=e,t.rb-=1,0>=t.rb&&(!t.Gb||0>t.rb)&&(i(or,n),delete sr[t.name],t.Gb))return;t.jc.apply(t.rc,t.dc)}}),lr=-1,or.length&&-1===lr&&(lr=hr.call(window,a,document.body))}function l(e,t,i,n,r,o,s){var l=vn(),c=o?sr[o]:hn;o&&o in sr?c=sr[o]:(c={jc:e,name:o,rc:s,gb:r?-1/0:l},or.push(c),o&&(sr[o]=c)),c.dc=n||[],c.rb=i,c.nc=t,c.Gb=r,c.Sb=un,-1===lr&&(lr=hr.call(window,a,document.body))}function c(e,t,i,n,r){l(e,t,1,i,un,n,r)}function h(e,t,i){l(e,0,1,[],un,t,i)}function u(e){ar=e,-1!==cr&&window.clearTimeout(cr)}function d(){ar=hn,-1!==cr&&(window.clearTimeout(cr),cr=-1)}function p(e){delete sr[e],or.forEach(function(t,n){t.name===e&&(i(or,n),t.Sb=cn)})}function f(e,i){return i||(i=document),t(i.querySelectorAll(e))}function m(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function g(e){if("outerHTML"in e)return e.outerHTML;var t,e=e.cloneNode(cn);return yr.appendChild(e),t=yr.innerHTML,yr.removeChild(e),t}function y(e){return yr.innerHTML=e,e=yr.firstChild,m(yr),e&&1===e.nodeType?e:hn}function v(e,t){for(var i=e,n=t.toUpperCase();(i=i.parentNode)!==hn&&1===i.nodeType;)if(i.nodeName===n)return i;return hn}function b(e){gr.push(e),e.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=");var e=x,t=[];sr.clearImgCache||l(e,3e3,1,t,cn,"clearImgCache",ln)}function x(){gr=[]}function L(e,t,i){var n,r=document.createEvent("UIEvents");if(r.initEvent(t,un,cn),i)for(n in i)r[n]=i[n];e.dispatchEvent(r)}function w(e,t,i){e.addEventListener(t,i,un)}function C(e,t,i){e.removeEventListener(t,i,un)}function S(e){var t=window.treesaverFonts;xr=e,Lr={},wr=un,Cr=setTimeout(O,4e3),function(){var e=document.createElement("script");e.src="//ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",e.type="text/javascript",e.async="true",e.onload=function(){window.WebFont.load(_(t))};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}()}function _(e){var t,i=Object.F(Tr);for(t=0;Or.length>t;t++)e.hasOwnProperty(Or[t])&&(i[Or[t]]=e[Or[t]]);return i}function E(){var e=Lr;clearTimeout(Cr),wr||(wr=cn,xr(e))}function O(){E()}function T(){S(function(e){var t,i,n=[];for(i in e)e.hasOwnProperty(i)&&(t="ts-"+i.toLowerCase().replace(/[^a-z]+/g,"-")+("active"==e[i]?"-active":"-inactive"),n.push(t));dr(document.documentElement,n.join(" ")),k()})}function k(){vr=kr;var e=br.slice(0);br=[],e.forEach(function(e){e()})}function P(e,t,i){i=i?window.localStorage:window.sessionStorage,i.removeItem(e);try{i.setItem(e,window.JSON.stringify(t))}catch(n){}}function A(e){return(e=window.sessionStorage.getItem(e)||window.localStorage.getItem(e))?window.JSON.parse(e):hn}function M(){var e=document.location.href.indexOf("#");return-1===e?"":document.location.href.substr(e+1)}function N(e){return(e=Fr.exec(e))&&e[1]?e[1]:hn}function R(e){if(Dr=document.createElement("div"),e&&(e=N(e))){var i=document.createElement("div");i.style.display="none",i.innerHTML=e,t(i.childNodes).forEach(function(e){/^div$/i.test(e.nodeName)&&Dr.appendChild(e)}),m(i)}I()}function I(){Rr=Br;var e=Ir.slice(0);Ir=[],e.forEach(function(e){e()})}function D(e){return Dr?f("."+e,Dr):[]}function F(e,t){if(!e)return un;var i=e.m||0===e.m?e.m:e.b;return t.d>=(e.K||0===e.K?e.K:e.d)&&t.b>=i&&t.d<=e.Ia&&t.b<=e.V}function B(e){return e&&jr.test(e)?parseFloat(e)||0:hn}function G(e){return e&&e.offsetHeight||0}function j(e){return e&&Math.round(1e3*e.getBoundingClientRect().width)/1e3||0}function z(e,t,i){return e.style[t]=i+"px",i}function X(e,t){"transformProperty"in e.style?e.style.transformProperty=t:e.style[Pn+"Transform"]=t}function H(e,t,i){X(e,"translate("+t+"px,"+i+"px)")}function U(e,t){return Math.ceil(e)+t-Math.ceil(e%t)}function J(e){if(e){var t=document.defaultView.getComputedStyle(e,hn);e.getAttribute("style"),this.display=t.display,this.position=t.position,this.marginTop=B(t.marginTop)||0,this.marginBottom=B(t.marginBottom)||0,this.marginLeft=B(t.marginLeft)||0,this.marginRight=B(t.marginRight)||0,this.marginHeight=this.marginTop+this.marginBottom,this.marginWidth=this.marginLeft+this.marginRight,this.borderTop=B(t.borderTopWidth),this.borderBottom=B(t.borderBottomWidth),this.borderLeft=B(t.borderLeftWidth),this.borderRight=B(t.borderRightWidth),this.paddingTop=B(t.paddingTop),this.paddingBottom=B(t.paddingBottom),this.paddingLeft=B(t.paddingLeft),this.paddingRight=B(t.paddingRight),this.G=this.borderTop+this.paddingTop,this.ga=this.borderBottom+this.paddingBottom,this.P=this.G+this.ga,this.ec=this.borderLeft+this.paddingLeft,this.fc=this.borderRight+this.paddingRight,this.Da=this.ec+this.fc,this.L=j(e),this.n=G(e),this.d=this.L-this.Da,this.b=this.n-this.P,this.K=B(t.minWidth)||0,this.m=B(t.minHeight)||0,e=B(t.maxWidth),this.Ia=e&&-1!==e?e:1/0,e=B(t.maxHeight),this.V=e&&-1!==e?e:1/0,this.lineHeight=B(t.lineHeight)||hn}}function V(e,t,i){this.X=e,this.s=t,this.g=i}function W(e,t){return e.X!==t.X?t.X-e.X:e.g!==t.g?e.g-t.g:t.s-e.s}function $(){this.g=this.f=this.index=0,this.u=[],this.la=[],this.wa=0}function q(e,t){if(e.g)return un;for(var i,n=e.index,r=t.i.length;r>n;){if(n=t.i[n],i=at(n),!n.ta)return un;if(!Z(e,n.s.f)&&!n.s.ca)return un;n=i?i.index:r}if(!e.u.length&&e.f===t.o.length)return cn;for(r=e.u.slice(0);r.length;)if(i=t.o[r.pop()],!i.ca)return un;for(n=e.f,r=t.o.length;r>n;n+=1)if(i=t.o[n],!i.ca)return un;return cn}function Y(e,t){var n;if(e.f>t)-1!==(n=e.u.indexOf(t))?i(e.u,n):-1!==(n=e.la.indexOf(t))&&i(e.la,n);else{if(t>e.f)for(;t>e.f;e.f+=1)e.u.push(e.f);e.f=t+1}}function K(e,t){-1===e.u.indexOf(t)&&(Y(e,t),e.u.push(t))}function Z(e,t){return t>=e.f?un:-1!==e.u.indexOf(t)?un:-1!==e.la.indexOf(t)?un:cn}function Q(e,t,i,n){this.l=e,this.K=parseInt(t||0,10),this.m=parseInt(i||0,10),this.r=n}function et(e,t,i){i&&dr(t,i),t.innerHTML=e.l,f("img[data-src], iframe[data-src], video[data-src], source[data-src], audio[data-src]",t).forEach(function(e){e.setAttribute("src",e.getAttribute("data-src"))})}function tt(e,i,n){this.Gc=n.index,this.f=n.f,n.f+=1,this.ma=hn,this.q={},this.ca=!fr(e,"required"),this.$b=fr(e,"zoomable"),this.La=fr(e,"scroll"),t(e.childNodes).forEach(function(e){if(1!==e.nodeType)e.data&&e.data.trim();else{var t=e.getAttribute("data-sizes"),i=parseInt(e.getAttribute(e.hasAttribute("width")?"width":"data-minwidth"),10),n=parseInt(e.getAttribute(e.hasAttribute("height")?"height":"data-minheight"),10),r=e.hasAttribute("data-requires")?e.getAttribute("data-requires").split(" "):hn;(!r||s(r))&&(e.removeAttribute("hidden"),pr(e,"hidden"),_t(e),e=g(e),t=t?t.split(" "):["fallback"],rt(this,t,e,i,n,r))}},this),this.q.fallback&&(it(this,this.q.fallback[0].l,e,i,n),delete this.q.fallback)}function it(e,t,i,n,r){var o=i.parentNode,s=document.createElement("div");s.innerHTML=t,t=1===s.childNodes.length?s.firstChild:s,o.insertBefore(t,i),e.$b&&(dr(t,"zoomable"),t.setAttribute("data-figureindex",e.f),(Sn||Mn)&&t.setAttribute("onclick","void(0)")),mt(t,n),e.ma=new st(t,n,r,cn),e.ma.s=e,e.ma.i&&e.ma.i.forEach(function(e){e.s=this,e.Dc=cn},e),o.removeChild(t)}function nt(e,t){var i,n,r,o=-1/0,s=1/0,a=e.q;e.q.lightbox&&(a={lightbox:e.q.lightbox});for(r in a)e.q[r].forEach(function(e){if(e.ba()){var a=e.K*e.m;e.K&&e.K>t.d||e.m&&e.m>t.b?!n&&this.La&&s>=a&&(s=a,i={name:r,qa:e}):a>=o&&(o=a,n={name:r,qa:e})}},e);return n||i}function rt(e,t,i,n,r,o){var s=new Q(i,n,r,o);t.forEach(function(e){this.q[e]?this.q[e].push(s):this.q[e]=[s]},e)}function ot(e){var t=e.nodeName.toLowerCase();return 1===e.nodeType&&"figure"===t}function st(e,t,i,n){var r,o=dt(e),s="";1!==e.nodeType?this.sa=cn:G(e)?(this.index=i.index,i.index+=1,this.$=!o&&ut(e),this.i=[],this.o=[],r=un,this.$&&!fr(e,"keeptogether")&&(lt(this,e,t,i,n),r=!!this.o.length,this.$=!!this.i.length),this.Pa=this.Pa||!o,this.oc=fr(e,"keepwithnext"),this.gc=fr(e,"columnbreak"),this.na=this.na||!this.Pa||fr(e,"keeptogether"),this.e=new J(e),this.e.lineHeight||(this.e.lineHeight=t),this.na||(this.na=this.e.P+this.e.lineHeight===this.e.n),this.ra=this.na?this.e.n:this.$?this.ka?this.e.G+this.i[0].ra:this.e.G+this.i[0].ra+(this.e.G?this.i[0].e.marginTop:0):this.e.G+this.e.lineHeight,this.l=g(e),this.Ob=this.$?this.l.substr(0,this.l.indexOf(">")+1):hn,this.Qa=this.$?this.l.slice(this.l.lastIndexOf("<")):hn,r&&(this.l=this.Ob,this.i.forEach(function(e){this.l+=e.l},this),this.l+=this.Qa),this.$&&(e=e.cloneNode(cn),this.e.marginTop&&z(e,"marginTop",0),this.e.borderTop&&z(e,"borderTopWidth",0),this.e.paddingTop&&z(e,"paddingTop",0),s=g(e)),this.sc=this.$?s.substr(0,s.indexOf(">")+1):hn):this.sa=cn}function at(e){return e.nextSibling?e.nextSibling:e.parent?at(e.parent):hn}function lt(e,i,n,r,o){var s,a=e instanceof st,l="ol"===i.nodeName.toLowerCase()&&"start"in i,c=l?i.start:hn;-1===c&&(c=1),t(i.childNodes).forEach(function(t){if(l&&"li"===t.nodeName.toLowerCase()&&(t.value&&-1!==t.value&&(c=t.value),t.setAttribute("value",c),c+=1),ot(t)){if(o)return;t=new tt(t,n,r),e.o.push(t),(t=t.ma)&&(t.ta=cn,a&&(e.ka=cn))}else t=new st(t,n,r,!!o),a&&!e.ka&&(e.ka=t.ka);t&&!t.sa&&(e.i=e.i.concat(t,t.i||[]),t.o.length&&(e.o=e.o.concat(t.o),delete t.o),t.parent=a?e:hn,s&&(s.nextSibling=t),s=t)})}function ct(e){for(var e=e.parent,t=[];e;)t.unshift(e.sc),e=e.parent;return t.join("")}function ht(e){for(var e=e.parent,t=[];e;)t.push(e.Qa),e=e.parent;return t.join("")}function ut(e){if(pt(e))return un;if(ft(e))return cn;var t,i,n,r=un;for(t=0,i=e.childNodes.length;i>t;t+=1){if(n=e.childNodes[t],3===n.nodeType&&/[^\s]/.test(n.data))return un;if(1===n.nodeType){if(pt(n)||ft(n))return cn;if(r=cn,n=document.defaultView.getComputedStyle(n,hn),/inline/.test(n.display))return un;if(/block/.test(n.display))return cn}}return r}function dt(e){var t=e.nodeName.toLowerCase();return 1===e.nodeType&&-1!==Xr.indexOf(t)}function pt(e){var t=e.nodeName.toLowerCase();return 1===e.nodeType&&-1!==Hr.indexOf(t)}function ft(e){var t=e.nodeName.toLowerCase();return 1===e.nodeType&&-1!==Ur.indexOf(t)}function mt(e,t){if(1===e.nodeType){var i,n;if(e.removeAttribute("id"),!ot(e)){if(ut(e)&&!fr(e,"keeptogether"))for(i=e.childNodes.length-1;i>=0;i-=1)n=e.childNodes[i],1!==n.nodeType?e.removeChild(n):mt(n,t);window.TS_NO_AUTOMETRICS||(i=new J(e),i.marginTop%t&&z(e,"marginTop",U(i.marginTop,t)),i.marginBottom%t&&z(e,"marginBottom",U(i.marginBottom,t)),dt(e)||fr(e,"keeptogether")?i.n%t&&z(e,"paddingBottom",i.paddingBottom+t-i.n%t):(i.lineHeight?i.lineHeight%t&&z(e,"lineHeight",U(i.lineHeight,t)):(i.lineHeight=t,z(e,"lineHeight",t)),i.G%t&&z(e,"paddingTop",U(i.G,t)-i.borderTop),i.ga%t&&(i.paddingBottom=z(e,"paddingBottom",U(i.ga,t)-i.borderBottom)),i.n=G(e),i.n%t&&(i.paddingBottom+=t-i.n%t,z(e,"paddingBottom",i.paddingBottom))))}}}function gt(e,t){this.lineHeight=Math.ceil(B(document.defaultView.getComputedStyle(e,hn).lineHeight)||1),this.Y=j(e),f("figure",e).forEach(function(e){e.style.display="none"}),mt(e,this.lineHeight),this.o=[],this.i=[],this.Wa=t,lt(this,e,this.lineHeight,{index:0,f:0})}function yt(e,t){var i=new J(e);this.z=!fr(e,"fixed"),(this.m=i.m)&&z(e,"minHeight",0),this.b=i.n,this.d=i.L,this.Ea=Math.max(0,t-this.b)}function vt(e,t){var i=new J(e);this.z=!fr(e,"fixed"),(this.m=i.m)&&z(e,"minHeight",0),this.b=i.n,this.Ea=Math.max(0,t-this.b),this.q=(i=e.getAttribute("data-sizes"))?i.split(" "):[]}function bt(e){document.body.appendChild(e),this.r=e.hasAttribute("data-requires")?e.getAttribute("data-requires").split(" "):hn,this.Bb=mr(e).map(function(e){return e.toLowerCase()}),this.z=!fr(e,"fixed"),xt(this),this.ya=this.size=new J(e),this.z?this.size.K=Math.max(this.size.K||0,this.size.d):(this.size.m=this.size.b,this.size.K=this.size.d),this.lineHeight=Math.ceil(this.size.lineHeight||1),this.Y=this.aa=this.W=0,this.cols=[],f(".column",e).forEach(function(e){e=new yt(e,this.size.b),this.cols.push(e),this.W+=e.b,this.aa=Math.max(this.aa,e.b),this.Y?this.Y!==e.d&&(this.error=cn):this.Y=e.d},this),this.I=[],f(".container",e).forEach(function(e){this.I.push(new vt(e,this.size.b))},this),this.l=g(e),this.yb=e.hasAttribute("data-ts-bonus")?parseInt(e.getAttribute("data-ts-bonus"),10):0,document.body.removeChild(e)}function xt(e){var t,i,n=un;e.M={},e.Ja={},e.Pb={},e.Bb.forEach(function(e){e in Jr?this.M[e]=cn:(t=Vr.exec(e))&&(i=parseInt(t[2],10),isNaN(i)||("no-"===e.substr(0,3)?this.Pb[i]=cn:(n=cn,this.Ja[i]=cn)))},e),n||(e.Ja=hn)}function Lt(e,t){return t.size.d+20*t.I.length-(e.size.d+20*e.I.length)}function wt(e,t,i){var n,r,o,s,a,l,c,h,u,d,p,f,m,g,y,v=hn,b=-1/0,x=e.i.length;for(a=0,l=t.length;l>a;a+=1){c=t[a],g=0,y=un,n=i.F(),u=n.g,d=c.W-u,u&&c.W&&(y=cn),h=0,r=n.wa+1,h+=50*c.cols.length,c.lineHeight!==e.lineHeight&&(h-=2e3),c.Y&&c.Y!==e.Y&&(h-=1/0),c.M.onlypage&&(h+=n.wa?-1/0:4e3),c.Ja&&(c.Ja[r]?h+=3e3:h-=1/0),c.Pb[r]&&(h-=1/0),h+=r%2?c.M.odd?2e3:c.M.even?-1/0:0:c.M.even?2e3:c.M.odd?-1/0:0,c.yb&&h>=0&&(h+=c.yb),r=c,o=e,s=n;var L=m=f=p=ln,w=ln,C=ln,S=ln,_=ln,E=ln,O=ln,T=ln,k=[];for(p=0,f=r.I.length;f>p;p+=1){m=r.I[p],k[p]=hn,C=s.f,O=s.u.slice(0);e:for(;O.length||o.o.length>C;){S=(T=!!O.length)?O.shift():C,_=o.o[S],L=m.q.length-1;t:for(;L>=0;L-=1){w=m.q[L];i:{var E=_,P=w,A=ln,M=ln;if(E.q[P])for(A=0,M=E.q[P].length;M>A;A+=1)if(E.q[P][A].ba()){E=E.q[P][A];break i}E=hn}if(E){if(m.z&&E.m&&E.m>m.b)continue t;k[p]={f:S,qa:E,size:w,z:m.z},Y(s,S);break e}}if(!_.ca)break;T||(C+=1)}}for(r=k,s=0,p=r.length;p>s;s+=1)f=c.I[s],(m=r[s])?(o=e.o[m.f],h+=2e3+5*m.qa.m,o.ca||(h+=4e3),f.z||(h+=5e3),g+=1):f.z||(h-=5e3);e:for(;c.W&&x>n.index&&c.W>=u&&(o=e.i[n.index],s=o.e.n+o.e.marginTop,!o.na||!(s>c.aa||s>d));){if(s>d){if(o.na)break e;if(o.children){n.index+=1;continue e}u+=s}u+=s,h+=s,d-=s,y=cn,n.index=o.nextSibling?o.nextSibling.index:n.index+1}y?d>0&&(n=d/c.W,n-=.2*g,n>.5&&(h-=d,h-=2e3*n*n)):g?(o=e.i[n.index])&&o.s&&!o.s.ca&&(n.g||o.Dc)&&(h=-1/0):h=-1/0,h>b&&(b=h,v={Q:c,I:r})}return v}function Ct(e,t,i){e.innerHTML=Mustache.to_html(t,i,ln,ln),f("img[data-src], iframe[data-src], video[data-src]",e).forEach(function(e){e.setAttribute("src",e.getAttribute("data-src"))}),f("a[data-href]",e).forEach(function(e){e.setAttribute("href",e.getAttribute("data-href"))})}function St(e){Mn&&e.setAttribute("onclick","void(0)")}function _t(e){var t=f(".scroll",e);fr(e,"scroll")&&t.unshift(e),t.forEach(St)}function Et(e,t,i,n){var r=wt(e,t,i),t=document.createElement("div"),o=i.F(),s=un;r&&r.Q?(this.size=r.Q.ya.F(),this.xb=new V(i.index,i.f,i.g),dr(t,"offscreen"),document.body.appendChild(t),t.innerHTML=r.Q.l,t.firstChild.className+=" "+n.join(" "),this.a=t.firstChild,z(this.a,"width",this.size.d),z(this.a,"height",this.size.b),f("[data-ts-template=document]",this.a).forEach(function(t){Ct(t,t.innerHTML,e.Wa.j)}),f(".container",this.a).forEach(function(t,n){var o,a,l,c=r.I[n];if(c){a=c.f,o=e.o[a];e:{var h,u,d,p=e.lineHeight;if(l=cn,h=c.size,u=c.qa,d=G(t),et(u,t,h),c.z){if(fr(t,"bottom")?(l=un,t.style.top="auto"):t.style.bottom="auto",u=new J(t),c=u.n,c>d){if(!o.La){pr(t,h),m(t),l=un;break e}c=d,z(t,"height",c-u.P)}else p&&c%p&&(c=U(c,p));for(o.La&&(dr(t,"scroll"),St(t)),p=t;p=p.nextSibling;)1===p.nodeType&&!fr(p,"fixed")&&(fr(p,"column")||fr(p,"container")||fr(p,"group"))&&(dr(p,"flexed"),c>=G(p)?z(p,"height",0):l?z(p,"top",(p&&p.offsetTop||0)+c):z(p,"bottom",G(p.offsetParent)-((p&&p.offsetTop||0)+G(p))+c))}l=cn}l?(Y(i,a),s=cn,o.$b&&(dr(t,"zoomable"),t.setAttribute("data-figureindex",a),(Sn||Mn)&&t.setAttribute("onclick","void(0)")),0===n&&r.Q.M.sizetocontainer&&(this.size.b=G(t)+r.Q.I[0].Ea,this.size.n=this.size.b+this.size.P,z(this.a,"height",this.size.b))):(!o.ca&&o.ma?K(i,o.f):fr(t,"flexed")||(Y(i,a),i.la.push(a)),t.parentNode.removeChild(t))}else t.parentNode.removeChild(t)},this),f(".column",this.a).forEach(function(t,n){var o,s,a,l,c,h,u=G(t),d=0,p=cn,f=0,g=0,y=0,v=0,b=[],x=e.i.length,L=e.i[i.index];a=[];var w,g=un,C=r.Q.aa/u>1.5;if(L&&(u%e.lineHeight&&(u-=u%e.lineHeight),u&&!(r.Q.cols[n].m>u))){L.parent&&b.push(ct(L)),f=i.g?L.e.n-i.g:0;e:for(;x>i.index&&u>d;){if(L=e.i[i.index],l=(a=L.nextSibling)||at(L),v=a)t:{for(h=v=ln,v=a.index;x>v;v++)if(h=e.i[v],!h.ta||!Z(i,h.s.f)){v=h;break t}v=hn}if(c=v,!L.ta||!Z(i,L.s.f)||p&&i.g){if(h=L.parent,o=u-d,p&&!y?(y=-f,g=i.overflow?L.e.lineHeight:L.ra):(y=Math.max(y,L.e.marginTop),g=y+L.ra),v=Math.max(L.e.marginBottom,c?c.e.marginTop:0),w=L.e.n+y,g=g>o,g||!L.oc||!c||i.g||p&&!C||(g=o>=w&&w+v+c.ra>o),g&&(g=!p||C),g&&(g=!L.ka),L.gc&&!p&&(g=cn),g){if(h){for(;h&&h.index===L.index-1;)b.pop(),i.index=h.index,h.ta&&K(i,h.s.f),L=h,h=L.parent;h&&b.push(ht(L))}break e}if(L.ta&&Y(i,L.s.f),L.ka||L.i.length&&w>o)L.e.G&&(d+=p?0:y,y=0,d+=L.e.G),b.push(L.Ob),i.index+=1;else{if(d+=w,b.push(L.l),p=un,s=s||L,i.g=0,!(u>d+v)){h&&b.push(ht(L)),L.Pa?u>=d&&(i.index=l?l.index:x,d=u):(d=u,i.index=l?l.index:x);break e}if(i.index=l?l.index:x,!a&&h){a=[];do a.push(h.Qa),h.e.ga?(d+=v+h.e.ga,v=h.e.marginBottom):v=Math.max(v,h.e.marginBottom);while(!h.nextSibling&&(h=h.parent));if(!(u>d+v)){h&&b.push(ht(L)),d=u;break e}b.push(a.join(""))}y=v}}else i.index=l?l.index:x}if(p=L,u>=d||!p?i.g=0:(i.g=d-u,d=i.g-p.e.ga,0>=d?(i.g=0,i.index=p.index+1):(d=(p.e.b-d)%p.e.lineHeight)&&(u-=d,i.g+=d)),z(t,"height",u),t.innerHTML=b.join(""),s&&t.firstChild){if(t.firstChild.style.marginTop=-f+"px",s.parent&&!f){for(h=s.parent;h;)h.e.G&&(s=h),h=h.parent;if(h!==s)for(h=s.parent,L=t.firstChild;h;)L=L.firstChild,h=h.parent,L&&(L.style.marginTop=0)}else if(s.i.length&&!f)for(L=t.firstChild;s;)s.i.length&&L.firstChild?(s=s.i[0],L=L.firstChild,L.style.marginTop=0):s=hn}else m(t)}}),o.Z(i)?this.error=cn:!s&&r.Q.M.sizetocontainer?this.sa=cn:(z(this.a,"marginTop",-this.size.n/2),z(this.a,"marginLeft",-this.size.L/2),i.J=r.Q.M.onlypage||q(i,e),i.J&&dr(this.a,"last-page"),this.l=t.innerHTML,this.end=new V(i.index,i.f,i.g),i.wa+=1),this.v(),document.body.removeChild(t)):(i.J=q(i,e)||i.f===e.o.length,i.J?this.sa=cn:this.error=cn)}function Ot(e,t,i){if(this.k=[],this.Za=[],this.cb=e,this.Wa=i,t)if("ARTICLE"!==t.nodeName)this.error=cn;else{for(this.loaded=cn,e=document.createElement("div"),i=document.createElement("div"),e.style.display="none",dr(e,"offscreen grid"),dr(i,"column"),t.removeAttribute("id"),m(e),(this.za=t.getAttribute("data-theme")||t.getAttribute("data-grids")||hn)&&(dr(e,this.za),dr(i,this.za),Tt(this,this.cb)),this.ic=mr(t);t.firstChild;)i.appendChild(t.firstChild);e.appendChild(i),i.style.display="block",e.style.display="block",document.body.appendChild(e),this.content=new gt(i,this.Wa),document.body.removeChild(e),e.removeChild(i),m(i),At(this)}}function Tt(e,t){e.cb=e.za?t.filter(function(e){return-1!==e.Bb.indexOf(this.za)},e):t.slice(0)}function kt(e,t){e.Za=e.cb.filter(function(e){return e.ia()&&F(e.size,{d:t.d-e.size.Da,b:t.b-e.size.P-e.size.marginHeight})}).map(function(e){return e.xa(t.b)}),e.Za.sort(Lt)}function Pt(e,t){return e.va&&e.va.d===t.d&&e.va.b===t.b||(e.va=t,e.Ka=F(e.pa,t)),!e.Ka}function At(e){p("paginate"),e.k=[],e.B=0,e.va&&kt(e,e.va),e.ha=new $,e.pa=hn,e.Ka=cn,e.R=un}function Mt(e,t){c(Ot.prototype.uc,200,t,"paginate",e)}function Nt(e,t,i){e.Ka||At(e);var n=[],r=t>=0?t+i-1:1/0;if(!e.R&&r>e.k.length-1&&Mt(e,[cn,r]),e.R)i=Math.min(i,e.B-(t>=0?t:t-1));else if(n.length=i,0>t)return n;if(0>t)for(r=-t;i>=r;r+=1)n[r+t]=e.k[e.B-r];else for(r=t;t+i>r;r+=1)n[r-t]=e.k[r];return n}function Rt(){var e=no.c[io.index],t=oo;if(!e.content)return-1;var i,n;if(!t||t.wb())return 0;if(e.Ka||At(e),!(e.R||t!==zr&&e.B&&W(t,e.k[e.B-1].end)>=0))return Mt(e,[cn,hn,t]),-1;if(t===zr)return e.R?e.B-1:-1;for(i=0,n=e.B;n>i;i+=1)if(0>W(e.k[i].end,t))return i;return e.R?e.B-1:-1}function It(e,t){this.index=e,this.anchor=t}function Dt(){this.h=[],this.parent=hn}function Ft(e){for(var t=Yr.length,e=qr.exec(e),i={};t--;)i[Yr[t]]=e[t]||hn;return i}function Bt(e){var t="";return e.scheme&&(t+=e.scheme+":"),e.source&&/^(?:[^:\/?#]+:)?\/\//.test(e.source)&&(t+="//"),e.authority&&(e.userInfo&&(t+=e.user||"",-1!==e.userInfo.indexOf(":")&&(t+=":"),t+=e.password||"",t+="@"),t+=e.host||"",e.port!==hn&&(t+=":"+e.port)),e.relative&&(e.path&&(t+=e.directory||"",t+=e.file||""),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor)),t}function Gt(e){return e=Ft(e),e.file?/^(index|default)\.(html?|php|asp|aspx)$/i.test(e.file)||Zr&&Zr.get("DirectoryIndex","index.html")===e.file:un}function jt(e){return e=Ft(e),e.anchor=hn,Bt(e)}function zt(e){return e=Ft(e),e.file=hn,Bt(e)}function Xt(e,t){e&&(this.url=e,this.path=Ft(e).relative,this.j=t||{},this.c=[],this.Oa={},this.ub=[],this.h=[])}function Ht(e){return(e=Kr.exec(e))&&e[1]?e[1]:hn}function Ut(e){this.url=e,this.D={},this.j={}}function Jt(e,t){var i=hn,n=hn,r={},o=hn,s=hn;return"string"==typeof t?i=t:(i=t.url,n=t.contents,Object.keys(t).forEach(function(e){r[e]=t[e]}),t.requires&&("string"==typeof t.requires?o=t.requires.split(/\s|,\s/g):Array.isArray(t.requires)&&(o=t.requires.map(function(e){return""+e})),o=o.filter(function(e){return""!==e.trim()}))),i?(i=jt(Nr.oa(i)),s=new Xt(i,r),n&&Array.isArray(n)&&n.forEach(function(e){s.appendChild(Jt(this,e))},e),o&&(s.r=o),s):hn}function Vt(e,t,i,n){return t.every(function(e){return i.call(n,e)!==un&&Vt(this,e.h,i,n)},e)}function Wt(e,t){var i=-1,n=0;return Vt(e,e.h,function(e){e.Z(t)&&(i=n),n+=1},e),i}function $t(){var e=gn;return to=eo=-1,io=$r,(Qr=Kt())?(ao=new Xt(jt(document.location.href),{}),e&&(ao.c=ao.parse(e),ao.title=document.title,ao.loaded=cn),w(document,"treesaver.index.loaded",Yt),Zr=new Ut(ti()),Zr.appendChild(ao),Zr.update(),Zr.load(),bi(ao,$r,hn,hn,cn),Zt(),Qt(),po.forEach(function(e){w(document,e,ei)}),w(window,"popstate",ei),cn):un}function qt(){oo=ro=no=hn,to=eo=-1,co=lo=io=hn,C(document,"treesaver.index.loaded",Yt),po.forEach(function(e){C(document,e,ei)}),C(window,"popstate",ei)}function Yt(e){var e=e.index,t=e.ab(ao.url),i=f("meta[name]");t.length&&(t.forEach(function(e){ao.j=e.j,ao.h=e.h,ao.r=e.r,i.forEach(function(t){var i=t.getAttribute("name"),t=t.getAttribute("content");i&&t&&(e.j[i]=t)}),e.parent.replaceChild(ao,e)}),to=Wt(e,ao),document.title=ao.j.title||ao.title)}function Kt(){var e=[];return D("grid").forEach(function(t){var i=t.getAttribute("data-requires");(!i||s(i.split(" ")))&&(t=new bt(t),t.error||e.push(t))}),e}function Zt(){var e=D("loading")[0];e||(e=document.createElement("div")),document.body.appendChild(e),e.style.top="50%",e.style.left="50%",z(e,"margin-top",-G(e)/2),z(e,"margin-left",-j(e)/2),document.body.removeChild(e),lo=g(e),e=e.cloneNode(cn),document.body.appendChild(e),co=new J(e),document.body.removeChild(e)}function Qt(){var e=D("error")[0];e||(e=document.createElement("div")),document.body.appendChild(e),e.style.top="50%",e.style.left="50%",z(e,"margin-top",-G(e)/2),z(e,"margin-left",-j(e)/2),document.body.removeChild(e),ho=g(e),e=e.cloneNode(cn),document.body.appendChild(e),uo=new J(e),document.body.removeChild(e)}function ei(e){if("treesaver.paginationprogress"===e.type)L(document,"treesaver.pageschanged");else if("treesaver.loaded"===e.type)document.title=no.j.title||no.title,L(document,"treesaver.pageschanged");else if("treesaver.loadfailed"!==e.type||e.document!==no||Sn){if("popstate"===e.type){var t,i=-1,n=hn;e.state?(t=(i=e.state.index)||0===i?Zr.w[i]:hn)?(n=e.state.position,bi(t,$r,n?new V(n.X,n.s,n.g):hn,i,cn)):di(e.state.url):(i=Wt(Zr,ao),bi(ao,$r,hn,i))}}else Nr.fb()&&(document.location=no.url)}function ti(){var e=f("link[rel~=index]")[0];return e?Nr.oa(e.href):hn}function ii(){return-1!==eo?eo>=1?cn:ni():!oo&&ni()}function ni(){return io.index>0||ri()}function ri(){for(var e=to-1;e>=0;e-=1)if(Zr.w[e].ia())return cn;return un}function oi(e,t){if(!ni())return hn;if(io.index>0){var i=new It(io.index-1),n=to,r=no;return t?r:bi(r,i,e?zr:hn,n)}if(ri()){for(i=to-1,r=n=hn;i>=0&&(n=Zr.w[i],!n.ia());i-=1);n?(r=n.loaded?new It(n.c.length-1):Wr,i=t?n:bi(n,r,e?zr:hn,i)):i=hn}else i=hn;return i}function si(){if(-1===eo)return!oo&&oi(cn)?cn:un;var e=eo-1;return 0>e?oi(cn)?cn:un:(eo=e,oo=hn,L(document,"treesaver.pageschanged"),cn)}function ai(){return-1!==eo?no.c[io.index].B-1>eo?cn:no.c[io.index].R&&li():oo===zr?li():un}function li(){return io.index<no.c.length-1||ci()}function ci(){for(var e=to+1,t=Zr.w.length;t>e;e+=1)if(Zr.w[e].ia())return cn;return un}function hi(e){if(!li())return hn;if(io.index<no.c.length-1){var t=new It(io.index+1),i=to,n=no;return e?n:bi(n,t,hn,i)}if(ci()){for(t=to+1,i=hn,n=Zr.w.length;n>t&&(i=Zr.w[t],!i.ia());t+=1);e=i?e?i:bi(i,$r,hn,t):hn}else e=hn;return e}function ui(){if(-1===eo)return oo===zr?hi():un;var e=eo+1;return e>=no.c[io.index].B?no.c[io.index].R?hi():un:(eo=e,oo=hn,L(document,"treesaver.pageschanged"),cn)}function di(e){var t=Ft(e).anchor,i=Zr.ab(jt(e)),e=-1,n=hn;return 0!==i.length&&(i=i[0],e=Wt(Zr,i),n=i.loaded&&t?new It(i.Oa[t]||0):new It(0,t),-1!==e)?bi(i,n,hn,e):un}function pi(e){1/0===io.index&&no.loaded?io=new It(no.c.length-1):io.anchor&&no.loaded&&(io=new It(no.Oa[io.anchor]||0)),no.c[io.index]&&Pt(no.c[io.index],e)&&(eo=-1,so=0);var t,i,n,r=[];if(no.c[io.index]&&-1===eo&&(eo=Rt(),-1===eo))return r.length=3,r[1]=xi(),r;if(t=eo-1,0>t){if((i=oi(un,cn))&&i.loaded&&i===no)Pt(i.c[io.index-1],e),r=Nt(i.c[io.index-1],t,-t);else if(i&&i.loaded&&i.c[i.c.length-1].R)r=Nt(i.c[i.c.length-1],t,-t);else for(i=0,n=-t;n>i;i+=1)r[i]=hn;i=3+t,t=0}else i=3;for(no.c[io.index]&&(r=r.concat(Nt(no.c[io.index],t,i))),(i=3-r.length)&&((t=hi(cn))&&t===no?(Pt(t.c[io.index+1],e),r=r.concat(Nt(t.c[io.index+1],0,i))):t&&(t.loaded?(Pt(t.c[0],e),r=r.concat(Nt(t.c[0],0,i))):(t.load(),r.length=3))),i=1,n=r.length;n>i;i+=1)r[i]||(r[i]=no.error?{O:Et.prototype.O,v:Et.prototype.v,l:ho,size:uo}:xi());for(oo&&oo!==zr||!r[1]||!r[1].xb||(oo=r[1].xb),no.c[io.index]&&!so&&(e=no.c[io.index],so=e.pa?e.pa.d:0),i=0;r.length>i;i+=1)for(e=i+1;r.length>e;e+=1)r[i]&&r[i]===r[e]&&(r[e]=r[i].F());return r}function fi(){return no.url}function mi(){return eo+1||1}function gi(){return no.c[io.index]&&io!==Wr?no.c[io.index].B||1:1}function yi(){return to+1||1}function vi(){return Zr.w.length}function bi(e,t,i,n,r){var o,s=hn,a=hn,s=hn;return e?(s=e.ub[t&&t.index||0]||hn||!!t.anchor&&t.anchor,a=e.url+(s?"#"+s:""),s=e.path+(s?"#"+s:""),e.Z(no)&&n!==to&&!io.Z(t)?(ro=o=no.$a(t.index),io=t,oo!==i&&(oo=i,eo=-1),eo=-1,r?Sr({index:n,url:a,position:i},e.j.title,s):_r({index:n,url:a,position:i},e.j.title,s),L(document,"treesaver.pageschanged"),L(document,"treesaver.articlechanged",{article:o}),cn):(document.title=e.j.title||e.title,no=e,oo!==i&&(oo=i,eo=-1),eo=-1,io=t,ro=no.$a(t&&t.index||0),e.loaded?e.error&&!Sn&&Nr.fb()&&(document.location=e.url):e.load(),to=n||0===n?n:Wt(Zr,e),r?Sr({index:n,url:a,position:i},e.j.title||"",s):_r({index:n,url:a,position:i},e.j.title||"",s),L(document,"treesaver.pageschanged"),L(document,"treesaver.documentchanged",{document:e,url:a,path:s}),L(document,"treesaver.articlechanged",{article:ro}),cn)):un}function xi(){return{O:Et.prototype.O,v:Et.prototype.v,l:lo,size:co}}function Li(e){this.r=e.hasAttribute("data-requires")?e.getAttribute("data-requires").split(" "):hn,_t(e),this.l=e.parentNode.innerHTML,this.size=new J(e),delete this.size.d,delete this.size.b}function wi(){p("selectPages"),p("animatePages")
}function Ci(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey}function Si(e){return e?1!==e.nodeType&&e.parentNode&&(e=e.parentNode||dn):e=dn,e}function _i(e){h(d,"resumeTasks"),e.Aa=hn}function Ei(e){for(;e&&e!=document.documentElement;){if(fr(e,"scroll"))return e;e=e.parentNode}return hn}function Oi(e){return ii()?($i(e,-1),c(si,50,[],"prevPage"),cn):void 0}function Ti(e){return ai()?($i(e,1),c(ui,50,[],"nextPage"),cn):void 0}function ki(e){e.Ba||(e.Ba=cn,dr(e.a,"active"),L(document,"treesaver.active"));var t=e.S,i=sr.idletimer;i?i.gb=vn():l(t,5e3,1,hn,un,"idletimer",e)}function Pi(e){L(document,"treesaver.sidebaractive",{sidebar:e}),dr(e,"sidebar-active")}function Ai(e){fr(e,"sidebar-active")&&L(document,"treesaver.sidebarinactive",{sidebar:e}),pr(e,"sidebar-active")}function Mi(e){fr(e,"sidebar-active")?Ai(e):Pi(e)}function Ni(e){if(fr(e,"sidebar"))return e;for(;(e=e.parentNode)!==hn&&1===e.nodeType;)if(fr(e,"sidebar"))return e;return hn}function Ri(e,t){var i;if(i=parseInt(t.getAttribute("data-figureindex"),10),i=isNaN(i)?hn:no.c[io.index].content.o[i],!i)return un;if(e.S(),!e.U){var n,r,o,s=Qi(),a=yo,l=hn;for(n=0,r=a.length;r>n;n+=1)if(o=a[n],o.ba()&&o.Fa(s)){l=o;break}if(e.A=l,!e.A)return un;e.U=cn,e.A.O(),e.a.parentNode.appendChild(e.A.a)}e.A.a=e.A.a,z(e.A.a,"width",j(e.a)),z(e.A.a,"height",G(e.a)),s=e.A,s.p=s.p,a=new J(s.p),a={d:a.d,b:a.b},o=nt(i,a),n=j(s.p.offsetParent),r=G(s.p.offsetParent);var c;return s.p=s.p,s.t&&o?(et(o.qa,s.p,o.name),s.p.style.bottom="auto",s.p.style.right="auto",c=new J(s.p),o=c.d,l=c.b,i.La&&(o=Math.min(a.d,o),l=Math.min(a.b,l),z(s.p,"width",o),z(s.p,"height",l),dr(s.p,"scroll"),St(s.p)),z(s.p,"left",(n-o-c.Da)/2),z(s.p,"top",(r-l-c.P)/2),i=cn):i=un,i?cn:(Ii(e),un)}function Ii(e){e.U&&(e.U=un,e.a.parentNode.removeChild(e.A.a),e.A.v(),e.A=hn)}function Di(e){var i=fi();e.Ga.forEach(function(e){var n=f("a[href]",e).filter(function(e){return Nr.oa(e.href)===i}),r=[];n.length&&(r=t(e.children),r.forEach(function(e){n.some(function(t){return e.contains(t)})?dr(e,"current"):pr(e,"current")}))})}function Fi(e){e.kb.forEach(function(e,t){Ct(e,this.lb[t],{pagenumber:mi(),pagecount:gi(),url:fi(),documentnumber:yi(),documentcount:vi()})},e)}function Bi(e){e.ob.forEach(function(e,t){Ct(e,this.pb[t],Zr.j)},e)}function Gi(e){e.Ra.forEach(function(e,t){Ct(e,this.Sa[t],no.j)},e)}function ji(e){var t=so;t&&e.Rb.forEach(function(e){z(e,"width",t)},e)}function zi(e,t){"BUTTON"===e.nodeName?e.disabled=!t:t?pr(e,"disabled"):dr(e,"disabled")}function Xi(e){if(e.nextPage){var t=ai();e.nextPage.forEach(function(e){zi(e,t)},e)}}function Hi(e){if(e.ib){var t=li();e.ib.forEach(function(e){zi(e,t)},e)}}function Ui(e){if(e.nb){var t=ii();e.nb.forEach(function(e){zi(e,t)},e)}}function Ji(e){if(e.mb){var t=ni();e.mb.forEach(function(e){zi(e,t)},e)}}function Vi(e){h(e.xc,"selectPages",e)}function Wi(e){var t=e.k;e.k=pi(e.jb),t.forEach(function(e){if(e){var t=e.a;-1===this.k.indexOf(e)&&(e.v(),t&&t.parentNode===this.T&&this.T.removeChild(t))}},e),e.k.forEach(function(e,t){if(e){var i=e.a||e.O();i.parentNode||this.T.appendChild(i),i.setAttribute("id",0===t?"previousPage":1===t?"currentPage":"nextPage")}},e)}function $i(e,t){var i,n=e.k[0],r=e.k[1],o=e.k[2],s=r.size.L/2;e.Qb&&t===e.Qb||(e.Qb=t,e.da=[0,0,0],n&&(i=Math.max(r.size.marginLeft,n.size.marginRight),e.da[0]=-(s+i+n.size.L/2)),o&&(i=Math.max(r.size.marginRight,o.size.marginLeft),e.da[2]=s+i+o.size.L/2),t?(t>0?(r.a.setAttribute("id","nextPage"),o?(t=-e.da[2],o.a.setAttribute("id","currentPage")):t=-(r.size.L+r.size.marginRight)):(r.a.setAttribute("id","previousPage"),n?(t=-e.da[0],n.a.setAttribute("id","currentPage")):t=r.size.L+r.size.marginLeft),e.da=e.da.map(function(e){return e+t}),e.Na=vn(),e.C-=t):e.C=e.C||0,e.Ca())}function qi(e){f(".container",e),this.r=e.hasAttribute("data-requires")?e.getAttribute("data-requires").split(" "):hn,this.l=e.parentNode.innerHTML,this.size=new J(e),delete this.size.d,delete this.size.b}function Yi(){var e=[];return D("chrome").forEach(function(t){var i;i=t.getAttribute("data-requires"),(!i||s(i.split(" ")))&&(mo.ja.appendChild(t),i=new Li(t),e.push(i),mo.ja.removeChild(t))}),e}function Ki(){var e=[];return D("lightbox").forEach(function(t){var i;i=t.getAttribute("data-requires"),(!i||s(i.split(" ")))&&(mo.ja.appendChild(t),i=new qi(t),e.push(i),mo.ja.removeChild(t))}),e}function Zi(){mo.orientation!==window.orientation&&(o(),mo.orientation=window.orientation,mo.orientation%180?mo.viewport.setAttribute("content","width=device-height, height=device-width"):mo.viewport.setAttribute("content","width=device-width, height=device-height"),An&&!pn&&!Jn&&window.scrollTo(0,0))}function Qi(){if(Sn||!pn)return(window.pageYOffset||window.pageXOffset)&&window.scrollTo(0,0),{d:window.innerWidth,b:window.innerHeight};var e=dn;return{d:j(e),b:G(e)}}function en(){var e,t=Qi();if(t.b!==mo.size.b||t.d!==mo.size.d){if(mo.size=t,!mo.H||!mo.H.ba()||!mo.H.Fa(t)){e=go;var i,n,r,o=hn;for(i=0,n=e.length;n>i;i+=1)if(r=e[i],r.ba()&&r.Fa(t)){o=r;break}if(e=o,!e)return;m(mo.ja),mo.H&&mo.H.v(),mo.ja.appendChild(e.O()),mo.H=e,L(document,"treesaver.chromechanged",{node:e.a})}e=mo.H,z(e.a,"width",t.d),z(e.a,"height",t.b),e.jb=hn,e.jb={d:j(e.T),b:G(e.T)},no&&(Vi(e),h(e.Xb,"updateTOC",e))}}function tn(){pn?dn.innerHTML=mn:gn&&(dn.innerHTML=gn),nn(),lr&&ur.call(window,lr),d(),lr=-1,or=[],sr={},Dr=hn,Rr=0,Ir=[],Nr.Cc(),vr=0,br=[],document.documentElement.className="js no-treesaver",document.documentElement.style.display="block"}function nn(){p("unboot"),C(document,"DOMContentLoaded",rn),delete bn.Tb,delete bn.Eb}function rn(){bn.Eb=cn,(dn=document.getElementById("ts_container"))?(pn=cn,mn=dn.innerHTML):(pn=un,dn=document.body),gn=document.body.innerHTML,m(dn),dn.innerHTML='<div id="loading">Loading '+document.title+"...</div>",document.documentElement.style.display="block",L(document,"treesaver.loader_shown"),on()}function on(){if(bn.Tb&&fn&&bn.Eb&&document.body){nn(),w(window,"unload",sn);var e;mo={orientation:0,size:{d:0,b:0}},m(dn),e=mo;var t;pn?t=dn:(t=document.createElement("div"),t.setAttribute("id","chromeContainer"),dn.appendChild(t)),e.ja=t,e=mo,t=f("meta[name=viewport]")[0],t||(t=document.createElement("meta"),t.setAttribute("name","viewport"),f("head")[0].appendChild(t)),e.viewport=t,go=Yi(),yo=Ki(),go.length?(en(),l(en,100,1/0,[],un,"checkState",ln),An&&!pn&&!Jn&&(w(window,"orientationchange",Zi),c(window.scrollTo,100,[0,0])),e=cn):e=un,(!e||!$t())&&sn()}}function sn(){C(window,"unload",sn),qt(),An&&!pn&&C(window,"orientationchange",Zi),mo.H&&mo.H.v(),yo=go=mo=hn,tn()}var an,ln=void 0,cn=!0,hn=null,un=!1;window.Fc=cn;var dn,pn,fn,mn,gn,yn=this,vn=Date.now||function(){return+new Date},bn={};un in Array&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)}),e("treesaver.VERSION","0.10.0-0-g73c799f");var xn,Ln,wn=window.navigator.userAgent.toLowerCase(),Cn="BackCompat"!==document.compatMode&&"XMLHttpRequest"in window&&"addEventListener"in document&&"getComputedStyle"in window&&"querySelectorAll"in document&&"localStorage"in window&&"JSON"in window,Sn=!!window.TS_WITHIN_NATIVE_IOS_APP,_n=Sn||"android"===Tn||/mobile/.test(wn),En=600>=window.screen.width,On=Sn?"safari":/webkit/.test(wn)?/chrome|safari/.test(wn)?/(chrome|safari)/.exec(wn)[0]:"webkit":/opera/.test(wn)?"opera":/msie/.test(wn)?"msie":!/compatible/.test(wn)&&/mozilla/.test(wn)?"mozilla":"unknown",Tn=(/(android|ipad|iphone|ipod|win|mac|linux)/.exec(window.navigator.platform?window.navigator.platform.toLowerCase():/android/.test(wn)?"android":"unknown")||["unknown"])[0],kn=function(){switch(On){case"chrome":case"safari":case"webkit":return"-webkit-";case"mozilla":return"-moz-";case"msie":return"-ms-";case"opera":return"-o-";default:return""}}(),Pn=function(){switch(On){case"chrome":case"safari":case"webkit":return"Webkit";case"mozilla":return"Moz";case"msie":return"ms";case"opera":return"O";default:return""}}(),An=Sn||"orientation"in window,Mn=Sn||"createTouch"in document||/android/.test(wn),Nn=!Sn&&function(){if(window.navigator.plugins&&window.navigator.plugins.length)return!!window.navigator.plugins["Shockwave Flash"];if("ActiveXObject"in window)try{return!!new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(e){}return un}(),Rn="CSSFontFaceRule"in window,In="getContext"in document.createElement("canvas");if("createElementNS"in document)var Dn="createElementNS"in document&&"createSVGRect"in document.createElementNS("http://www.w3.org/2000/svg","svg"),Fn=Dn&&/SVG/.test(""+document.createElementNS("http://www.w3.org/2000/svg","animate")),Bn=Dn&&/SVG/.test(""+document.createElementNS("http://www.w3.org/2000/svg","clipPath"));var Gn,jn=document.createElement("div");jn.innerHTML="<svg/>",Gn="http://www.w3.org/2000/svg"==(jn.firstChild&&jn.firstChild.namespaceURI);var zn,Xn="canPlayType"in document.createElement("video"),Hn="localStorage"in window,Un=!Sn&&"applicationCache"in window,Jn=Sn||window.navigator.standalone,Vn=Sn||n("transformProperty")||n("transform",cn,cn);if(!(zn=Sn)){var Wn=n("perspectiveProperty")||n("perspective",cn,cn);if(Wn&&"WebkitPerspective"in document.documentElement.style&&"safari"!==On){var $n,qn=document.createElement("style"),Yn=document.createElement("div"),Kn="@media (perspective)";Kn+=",("+kn+"perspective)",qn.textContent=Kn+"{#ts-test {height:3px}}",Yn.setAttribute("id","ts-test"),document.documentElement.appendChild(qn),document.documentElement.appendChild(Yn),$n=3===Yn.offsetHeight,document.documentElement.removeChild(qn),document.documentElement.removeChild(Yn),Wn=$n}zn=Wn}var Zn,Qn=zn,er=Sn||n("transitionProperty",cn),tr=document.createElement("div");tr.style.visibility="hidden",tr.style.fontSize="13px",tr.style.height="1.5em",document.documentElement.appendChild(tr),Zn=tr.getBoundingClientRect().height%1,document.documentElement.removeChild(tr);var ir=un,nr=["offline","orientation-vertical","orientation-horizontal"],rr=function(){var e=nr.map(function(e){return"((no-)?"+e+")"});return RegExp(e.join("|"),"g")}();vn();var or=[],sr={},ar=hn,lr=-1,cr=-1,hr=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,17)},ur=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.clearTimeout;if("Node"in window&&Node.prototype&&!("contains"in Node.prototype)&&(Node.prototype.contains=function(e){return!!(16&this.compareDocumentPosition(e))}),"classList"in document.documentElement)var dr=function(e,t){t.split(/\s+/).forEach(function(t){e.classList.add(t)})},pr=function(e,t){return e.classList.remove(t)},fr=function(e,t){return e.classList.contains(t)},mr=function(e){return t(e.classList)};else dr=function(e,t){e.className?fr(e,t)||(e.className+=" "+t):e.className=t},pr=function(e,t){e.className=e.className.replace(RegExp("(^|\\s)"+t+"(\\s|$)"),"$2")},fr=function(e,t){return!(!e.className||!RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className))},mr=function(e){return e.className?e.className.split(/\s+/):[]};var gr=[],yr=document.createElement("div");yr.style.display="none",e("treesaver.addListener",w),e("treesaver.removeListener",C);var vr,br,xr,Lr,wr,Cr,Sr,_r,Er,Or=["ascender","custom","google","monotype","typekit"],Tr={active:function(){E()},fontactive:function(e){Lr[e]="active"},fontinactive:function(e){Lr[e]="inactive"},fontloading:function(e){Lr[e]="loading"},inactive:function(){E()},loading:function(){}},kr=2,Pr="pushState"in window.history;if(document.location.hash){var Ar=M();"-"===Ar[0]&&Ar.length>=2&&document.location.replace(Ar.substr(1))}if(_r=function(e,t,i){window.history.pushState(e,t,i)},Sr=function(e,t,i){window.history.replaceState(e,t,i)},!Pr){_r=function(e,t,i){Mr(e,t,i,un)},Sr=function(e,t,i){Mr(e,t,i,cn)};var Mr=function(e,t,i,n){var r="-"+window.escape(i);P("history:"+r,{state:e,title:t}),i===document.location.pathname&&(r=""),Er=r,n?document.location.replace("#"+r):document.location.hash="#"+r};window.onhashchange=function(){var e=M();e!==Er&&(e=(Er=e)?A("history:"+e):{},L(window,"popstate",{state:e?e.state:hn}))}}var Nr={ac:1e4,Fb:{cc:"treesaver.online",bc:"treesaver.offline"},Zb:["offline","online"],Yb:"uncached,idle,checking,downloading,updateready,obsolete".split(","),Ha:un};Nr.load=function(){Nr.Ha||(Nr.Ha=cn,Nr.Zb.forEach(function(e){w(document,e,Nr)}),Un&&Nr.hb&&Nr.Yb.forEach(function(e){w(window.applicationCache,e,Nr)}))},Nr.Cc=function(){Nr.Ha&&(Nr.Ha=un,Nr.Zb.forEach(function(e){C(window,e,Nr)}),Un&&Nr.hb&&Nr.Yb.forEach(function(e){C(window.applicationCache,e,Nr)}))},Nr.Nb="onLine"in window.navigator?window.navigator.onLine:cn,Nr.fb=function(){return Nr.Nb},Nr.Vb=function(e){Nr.Nb=e,o(),L(window,e?Nr.Fb.cc:Nr.Fb.bc)},Nr.hb=Un&&!!window.applicationCache.status,Nr.qc=function(){return Nr.hb},Nr.handleEvent=function(e){switch(e.type){case"online":Nr.Vb(cn);break;case"offline":Nr.Vb(un);break;case"updateready":window.applicationCache.swapCache()}},Nr.vc=/^https?:\/\//i,Nr.oa=function(e){if(e&&"/"===e[0]||Nr.vc.test(e))return e;var t=document.createElement("a");return t.href=e,t.href},Nr.get=function(e,t,i){var n={N:new XMLHttpRequest,url:e,zb:t};c(function(){Nr.wc(n)},i||Nr.ac,[],Nr.Lb(n)),n.N.onreadystatechange=Nr.hc(n);try{n.N.open("GET",n.url,cn),n.N.send(hn)}catch(r){Nr.qb(n)}},Nr.Lb=function(e){return"fetch:"+e.url},Nr.hc=function(e){return function(){4===e.N.readyState&&(0===e.N.status||200===e.N.status||304===e.N.status?(e.zb(e.N.responseText,e.url),Nr.Cb(e)):Nr.qb(e))}},Nr.Cb=function(e){p(Nr.Lb(e)),e.N.onreadystatechange=hn},Nr.qb=function(e){e.zb(hn,e.url),Nr.Cb(e)},Nr.wc=function(e){e.N.abort(),Nr.qb(e)};var Rr,Ir,Dr,Fr=/<body>\s*([\s\S]+?)\s*<\/body>/i,Br=2,Gr=document.createElement("style");Gr.setAttribute("type","text/css"),f("head").length&&(f("head")[0].appendChild(Gr),Gr=document.styleSheets[document.styleSheets.length-1],Gr.insertRule(".offscreen{position:absolute;top:-200%;right:-200%;visibility:hidden;}",0),Gr.insertRule(".viewer .grid{top:50%;left:50%;margin:0}",0));var jr=/^-?\d+(:?\.\d+)?(?:px)?$/i;Qn&&(H=function(e,t,i){X(e,"translate3d("+t+"px,"+i+"px,0)")}),J.prototype.F=function(){var e,t=new J;for(e in this)t[e]!==this[e]&&(t[e]=this[e]);return t};var zr=new V(1/0,1/0,1/0);V.prototype.wb=function(){return!this.X&&!this.s&&!this.g},V.prototype.F=function(){return new this.constructor(this.X,this.s,this.g)},$.prototype.F=function(){var e=new this.constructor;return e.index=this.index,e.f=this.f,e.g=this.g,e.J=this.J,e.u=this.u.slice(0),e.la=this.la.slice(0),e.wa=this.wa,e},$.prototype.Z=function(e){return!!e&&e.index===this.index&&e.f===this.f&&e.g===this.g&&e.u.length===this.u.length},Q.prototype.ba=function(){return this.r?s(this.r,cn):cn},un in String.prototype&&(String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")});var Xr="img,video,object,embed,iframe,audio,canvas,svg,table".split(","),Hr="p,h1,h2,h3,h4,h5,h6".split(","),Ur="div,article,ul,ol,figure,aside".split(",");yt.prototype.xa=function(e){return this.z?(this.b=Math.max(0,e-this.Ea),this):this},vt.prototype.xa=function(e){return this.z?(this.b=Math.max(0,e-this.Ea),this):this};var Jr={onlypage:cn,odd:cn,even:cn,sizetocontainer:cn},Vr=/^(no-)?page-(\d+)$/;bt.prototype.xa=function(e){if(!this.z)return this;var t=Math.min(this.size.V,Math.max(e-(this.size.marginHeight+this.size.P),this.size.m));return t-=(t-this.size.m||0)%this.lineHeight,this.W=this.aa=0,this.cols.forEach(function(e){this.W+=e.xa(t).b,this.aa=Math.max(this.aa,e.b)},this),this.I.forEach(function(e){e.xa(t)},this),this.ya=this.size.F(),this.ya.b=t,this.ya.n=t+this.size.P,this.ya.V=this.M.sizetocontainer?this.size.V:Math.min(this.size.V,t+3*this.lineHeight),this},bt.prototype.ia=function(){return this.r?s(this.r,cn):cn},Et.prototype.O=function(){return this.t?this.a:(this.a=y(this.l),this.t=cn,this.a)},Et.prototype.v=function(){this.t=un,X(this.a,"none"),f("img",this.a).forEach(b),this.a=hn},Et.prototype.F=function(){var e=Object.F(this);return e.a=this.a&&this.a.cloneNode(cn)||hn,e.t=this.t,e},Ot.prototype.uc=function(e,i,n){p("paginate");for(var r,i=i||0;!this.ha.J;)if(r=new Et(this.content,this.Za,this.ha,this.ic),r.sa){if(this.ha.J)break}else{if(r.error){if(this.ha.J)break;this.error=cn,L(document,"treesaver.paginationerror",{vb:this}),this.ha.J=cn;break}this.k.push(r),this.B+=1,this.error=un;var o=this.pa||{},s=r.size||{},a=s.P||(s.n?s.n-s.b:0),l=s.Da||(s.L?s.L-s.d:0);if(this.pa={d:Math.max(o.d||0,s.d+l||0),b:Math.max(o.b||0,s.b+a||0),Ia:Math.min(o.Ia||1/0,s.Ia+l||1/0),V:Math.min(o.V||1/0,s.V+a||1/0)},!(i&&i>=this.B||n&&!(n!==zr&&W(n,r.end)>=0)||this.ha.J))return e&&(L(document,"treesaver.paginationprogress",{vb:this}),Mt(this,t(arguments))),void 0}this.R=cn,L(document,"treesaver.paginationprogress",{vb:this,Hc:cn})};var Wr=new It(1/0),$r=new It(0);It.prototype.wb=function(){return 0===this.index},It.prototype.Z=function(e){return this.index===e.index},Dt.prototype.appendChild=function(e){return e.parent=this,this.h.push(e),e},Dt.prototype.replaceChild=function(e,t){var i=this.h.indexOf(t);return-1!==i?(e.parent=t.parent,t.parent=hn,this.h.splice(i,1,e)[0]):hn},Dt.prototype.insertBefore=function(e,t){var i=this.h.indexOf(t);return e.parent=this,0===i?this.h.unshift(e):i>1&&this.h.splice(i,0,e),e},Dt.prototype.removeChild=function(e){var e=this.h.indexOf(e),t=hn;return-1!==e&&(t=this.h.splice(e,1)[0],t.parent=hn),t},Object.keys||(Object.keys=function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i}),Object.F=function(e){function t(){}return t.prototype=e,new t};var qr=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,Yr="source,scheme,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),Kr=/<title>\s*(.+?)\s*<\/title>/i;Xt.prototype=new Dt,an=Xt.prototype,an.parse=function(e){var t=document.createElement("div"),i=[];return e&&"string"==typeof e&&""!==e.trim()?(t.innerHTML=e,f("meta[name]",t).forEach(function(e){var t=e.getAttribute("name"),e=e.getAttribute("content");t&&e&&(this.j[t]=e)},this),i=f("article",t).filter(function(e){return v(e,"article")===hn}),0===i.length&&(i.push(document.createElement("article")),i[0].innerHTML=t.innerHTML),i.map(function(e,t){var i=e.getAttribute("id")||(0===t?hn:"_"+t),n=new Ot(Qr,e,this);return i&&(this.Oa[i]=t,this.ub[t]=i),n},this)):[]},an.Z=function(e){var t=e;return t?("string"!=typeof e&&e.url&&(t=e.url),Gt(t)&&Gt(this.url)?t===this.url:Gt(t)?zt(t)===this.url:Gt(this.url)?t===zt(this.url):t===this.url):un},an.ia=function(){return this.r?s(this.r,cn):cn},an.$a=function(e){return this.c[e]||hn},an.yc=function(e){this.c=e},an.bb=function(){return this.j},an.mc=function(){return this.url},an.zc=function(e){this.url=e},an.kc=function(){return this.c.length},an.load=function(){var e=this,t=hn;this.ua||(this.ua=cn,!Sn&&(t=A("cache:"+this.url))&&(this.c=this.parse(t),this.title=Ht(t),this.loaded=cn,L(document,"treesaver.loaded",{document:this})),Nr.get(this.url,function(i){e.ua=un,i?(Sn||t!==i)&&(Sn||P("cache:"+e.url,i,cn),e.c=e.parse(i),e.title=Ht(i),e.loaded=cn,L(document,"treesaver.loaded",{document:e})):(Sn||!t)&&(e.pc=cn,e.loaded=un,L(document,"treesaver.loadfailed",{document:e}))}))},e("treesaver.Document",Xt),e("treesaver.Document.prototype.setArticles",Xt.prototype.yc),e("treesaver.Document.prototype.getNumberOfArticles",Xt.prototype.kc),e("treesaver.Document.prototype.getArticle",Xt.prototype.$a),e("treesaver.Document.prototype.parse",Xt.prototype.parse),e("treesaver.Document.prototype.getUrl",Xt.prototype.mc),e("treesaver.Document.prototype.setUrl",Xt.prototype.zc),e("treesaver.Document.prototype.getMeta",Xt.prototype.bb),Ut.prototype=new Dt,an=Ut.prototype,an.w=[],an.update=function(){var e=0;this.w=[],this.Xa={},this.Ya={},Vt(this,this.h,function(t){this.Xa[t.url]?this.Xa[t.url].push(t):this.Xa[t.url]=[t],this.w.push(t),this.Ya[t.url]?this.Ya[t.url].push(e):this.Ya[t.url]=[e],e+=1},this),L(document,"treesaver.index.updated",{index:this})},an.lc=function(){return this.w.length},an.ab=function(e){var t=[];return e?(Vt(this,this.h,function(i){i.Z(e)&&t.push(i)},this),t):this.w},an.parse=function(e){var t={h:[],D:{},j:{}};if(!e)return t;if("string"==typeof e)try{e=window.JSON.parse(e)}catch(i){return t}return"[object Object]"!==Object.prototype.toString.apply(e)?t:e.contents&&Array.isArray(e.contents)?(t.h=e.contents.map(function(e){return Jt(this,e)},this),t.h=t.h.filter(function(e){return e!==hn}),t.h=t.h.map(function(e){return this.appendChild(e)},this),e.settings&&(t.D={},Object.keys(e.D).forEach(function(i){t.D[i]=e.D[i]})),Object.keys(e).forEach(function(i){"settings"!==i&&(t.j[i]=e[i])}),t):t},an.set=function(e,t){return this.D[e]=t},an.get=function(e,t){return this.D.hasOwnProperty(e)?this.D[e]:t},an.bb=function(){return this.j},an.load=function(){var e=this,t=hn,i=hn;this.ua||(this.url?(this.ua=cn,!Sn&&(t=A("cache:"+this.url))&&(i=this.parse(t),this.h=i.h,this.j=i.j,this.D=i.D,this.loaded=cn,L(document,"treesaver.index.loaded",{index:this}),this.update()),Nr.get(this.url,function(n){e.ua=un,n?(Sn||t!==n)&&(Sn||P("cache:"+e.url,n,cn),i=e.parse(n),e.h=i.h,e.j=i.j,e.D=i.D,e.loaded=cn,L(document,"treesaver.index.loaded",{index:e}),e.update()):(Sn||!t)&&(e.pc=cn,e.loaded=un,L(document,"treesaver.index.loadfailed",{index:e}))})):L(document,"treesaver.index.loadfailed",{index:this}))},e("treesaver.Index",Ut),e("treesaver.Index.prototype.get",Ut.prototype.get),e("treesaver.Index.prototype.set",Ut.prototype.set),e("treesaver.Index.prototype.update",Ut.prototype.update),e("treesaver.Index.prototype.getDocuments",Ut.prototype.ab),e("treesaver.Index.prototype.getNumberOfDocuments",Ut.prototype.lc),e("treesaver.Index.prototype.getMeta",Ut.prototype.bb);var Zr,Qr,eo,to,io,no,ro,oo,so,ao,lo,co,ho,uo,po=["treesaver.loaded","treesaver.loadfailed","treesaver.paginationprogress"];e("treesaver.canGoToNextPage",ai),e("treesaver.canGoToPreviousPage",ii),e("treesaver.canGoToNextDocument",ci),e("treesaver.canGoToPreviousDocument",ri),e("treesaver.getCurrentUrl",fi),e("treesaver.getCurrentPageNumber",mi),e("treesaver.getCurrentPageCount",gi),e("treesaver.getCurrentDocumentNumber",yi),e("treesaver.getCurrentDocument",function(){return no}),e("treesaver.getDocumentCount",vi),e("treesaver.goToDocumentByURL",di),Li.prototype.O=function(){return this.t||(this.t=cn,this.a=y(this.l),this.T=f(".viewer",this.a)[0],this.Rb=f(".pagewidth",this.a),this.nextPage=f(".next",this.a),this.ib=f(".nextArticle",this.a),this.nb=f(".prev",this.a),this.mb=f(".prevArticle",this.a),this.kb=[],this.lb=[],this.Ga=[],this.eb=[],this.Ra=[],this.Sa=[],this.ob=[],this.pb=[],f("[data-ts-template]",this.a).forEach(function(e){var t,i;switch(e.getAttribute("data-ts-template")){case"position":t=this.kb,i=this.lb;break;case"index":t=this.Ga,i=this.eb;break;case"currentdocument":t=this.Ra,i=this.Sa;break;case"publication":t=this.ob,i=this.pb;break;default:return}i.push(e.innerHTML),"script"===e.nodeName.toLowerCase()&&(i=document.createElement("div"),e.parentNode.replaceChild(i,e),e=i),t.push(e)},this),this.Mb=f(".menu",this.a),this.Ma=f(".sidebar",this.a),this.k=[],fo.forEach(function(e){w(document,e,this)},this),this.Ba=un,ki(this)),this.a},Li.prototype.v=function(){this.t&&(wi(),this.t=un,fo.forEach(function(e){C(document,e,this)},this),this.pb=this.ob=this.Sa=this.Ra=this.eb=this.Ga=this.lb=this.kb=this.mb=this.nb=this.ib=this.nextPage=this.Ma=this.Mb=this.Rb=this.T=this.a=hn,this.k.forEach(function(e){e&&e.v()}),this.jb=this.k=hn,p("idletimer"),p("updateTOC"),wi())};var fo="treesaver.index.updated,treesaver.pageschanged,treesaver.documentchanged,keydown,click,mousewheel,DOMMouseScroll".split(",");Mn?fo.push("touchstart","touchmove","touchend","touchcancel"):fo.push("mouseover"),Li.prototype.handleEvent=function(e){switch(e.type){case"treesaver.pageschanged":return Vi(this);case"treesaver.index.updated":return h(this.Xb,"updateTOC",this),Vi(this);case"treesaver.documentchanged":Di(this),Fi(this);break;case"mouseover":e.touches||ki(this);break;case"touchstart":var t,i,n,r=Si(e.target),o=Ei(r);if(dn.contains(Si(e.target)))if(e.stopPropagation(),e.preventDefault(),this.U&&!o)Ii(this);else{if(o)for(t=o;t;){if(i=t.id,"prevPage"===i||"nextPage"===i){o=hn;break}t=t.parentNode}r=this.T.contains(r),t=e.touches[0].pageX,i=e.touches[0].pageY,n=vn(),this.Aa={Jc:t,Kc:i,startTime:n,Jb:t,Kb:i,Ic:n,Ta:0,Ua:0,Db:0,ea:0,tb:0,Bc:0,fa:e.touches.length,Ec:r,tc:this.C,Ub:o,Ab:o&&o.scrollWidth!==o.clientWidth},2===this.Aa.fa&&(this.Aa.Ac=e.touches[1].pageX),u(["resumeTasks"])}break;case"touchmove":(o=this.Aa)&&(e.stopPropagation(),e.preventDefault(),r=vn(),t=e.touches[0].pageX,i=e.touches[0].pageY,o.Db=o.Ib-r,o.Ta=t-o.Jb,o.Ua=i-o.Kb,o.Ib=r,o.Jb=e.touches[0].pageX,o.Kb=e.touches[0].pageY,o.Bc+=o.Db,o.ea+=o.Ta,o.tb+=o.Ua,o.fa=Math.min(e.touches.length,o.fa),o.Wb=1===o.fa&&Math.abs(o.ea)>=30&&2*Math.abs(o.ea)>Math.abs(o.tb),o.Ub&&(o.Va||o.Ab||!o.Wb)?(o.Va=o.Va||o.Ab||Math.abs(o.tb)>=30,e=o.Ub,r=-o.Ua,e.scrollLeft+=-o.Ta,e.scrollTop+=r,o.Ec||ki(this)):2===o.fa?o.sb=e.touches[1].pageX-o.Ac:(this.C=o.tc+o.ea,this.Ca(cn)));break;case"touchend":t=this.Aa,i=un,o=Si(e.target),r=this.U||this.T.contains(o),_i(this),t&&(e.stopPropagation(),e.preventDefault(),t.Va?r?this.S():ki(this):1===t.fa?t.Ib?t.Wb&&((i=t.ea>0?Oi(this):Ti(this))?this.S():ki(this)):(t=document.createEvent("MouseEvents"),t.initMouseEvent("click",cn,cn,e.view,1,e.changedTouches[0].screenX,e.changedTouches[0].screenY,e.changedTouches[0].clientX,e.changedTouches[0].clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,hn),o.dispatchEvent(t)&&r?this.Ba?this.S():ki(this):r?this.S():ki(this),i=cn):2===t.fa&&Math.abs(t.sb)>=30&&(0>t.ea&&0>t.sb?i=hi():t.ea>0&&t.sb>0&&(i=oi()),i?this.S():ki(this)),!i)&&(this.Na=vn(),this.C=0,this.Ca());break;case"touchcancel":return _i(this);case"keydown":e:if(this.U)Ii(this),e.preventDefault();else if(!/input|select|textarea/i.test(e.target.tagName)&&!Ci(e)){switch(e.keyCode){case 34:case 39:case 40:case 74:case 32:Ti(this);break;case 33:case 37:case 38:case 75:Oi(this);break;case 72:oi();break;case 76:hi();break;default:r=ln;break e}this.S(),e.preventDefault()}return r;case"click":return this.click(e);case"mousewheel":case"DOMMouseScroll":return Ci(e)?o=cn:Ei(Si(e.target))?o=cn:this.U?(Ii(this),e.preventDefault()):(r=vn(),this.Hb&&400>r-this.Hb||(this.Hb=r,r=e.wheelDelta?e.wheelDelta:e.detail?-e.detail:0,t=this.T.contains(Si(e.target)),r&&t&&(e.preventDefault(),e.stopPropagation(),r>0?Oi(this):Ti(this),this.S()))),o}},an=Li.prototype,an.click=function(e){if(Ci(e))return cn;if(!("which"in e&&1!==e.which||e.button)){var t,i,n=Si(e.target),r=un,o=r=t=un,s=hn;if(i=hn,this.U){if(this.A.a.contains(n)&&(t="A"===n.nodeName?n:v(n,"A"))&&t.href&&(i=Nr.oa(t.href),!di(i)))return;Ii(this),e.stopPropagation(),e.preventDefault()}else{if(this.Mb.forEach(function(e){fr(e,"menu-active")&&(o=e.contains(n),pr(e,"menu-active"))},this),(r=this.Ma.some(function(e){return e.contains(n)}))?(i=Ni(n))&&fr(i,"sidebar")&&fr(i,"close-on-click")&&this.Ma.forEach(function(e){Ai(e)},this):this.Ma.forEach(function(e){Ai(e)},this),this.k[0]&&this.k[0].a.contains(n))Oi(this),t=cn;else if(this.k[2]&&this.k[2].a.contains(n))Ti(this),t=cn;else for(r=this.k[1]&&this.k[1].a.contains(n);!t&&n&&n!==dn;){if(r?fr(n,"zoomable")&&(t=Ri(this,n)):fr(n,"prev")?(Oi(this),t=cn):fr(n,"next")?(Ti(this),t=cn):fr(n,"prevArticle")?(oi(),t=cn):fr(n,"nextArticle")?(hi(),t=cn):fr(n,"menu")?(o||dr(n,"menu-active"),t=cn):(fr(n,"sidebar")||fr(n,"open-sidebar")||fr(n,"toggle-sidebar")||fr(n,"close-sidebar"))&&(i=Ni(n))&&(fr(n,"sidebar")||fr(n,"open-sidebar")?Pi(i):fr(n,"toggle-sidebar")?Mi(i):Ai(i),t=cn),!t&&n.href){if(s=n.getAttribute("target"),i=Nr.oa(n.href),"_blank"===s)return;if("ts-lightbox"===s){n=n.parentNode;continue}di(i)?t=cn:"ts-treesaver"===s&&(Zr.appendChild(new Xt(i)),Zr.update(),di(i)&&(t=cn))}n=n.parentNode}t&&(e.stopPropagation(),e.preventDefault())}}},an.S=function(){this.Ba&&(this.Ba=un,pr(this.a,"active"),L(document,"treesaver.idle")),p("idletimer")},an.ba=function(){return this.r?s(this.r,cn):cn},an.Fa=function(e){return F(this.size,e)},an.xc=function(){wi(),Wi(this),$i(this),Fi(this),Gi(this),Bi(this),ji(this),Xi(this),Hi(this),Ui(this),Ji(this)},an.Xb=function(){p("updateTOC");var e={contents:Zr.h.map(function(e){return e.j})};this.Ga.forEach(function(t,i){Ct(t,this.eb[i],e)},this),Di(this)},an.Ca=function(e){!e&&this.C?this.Na?(u(["animatePages","resumeTasks"]),e=1-(vn()-this.Na)/200,e=Math.max(0,Math.min(1,e)),(this.C=Math.round(this.C*e))?h(this.Ca,"animatePages",this):(this.C=0,h(d,"resumeTasks"))):this.C=0:p("animatePages"),this.k.forEach(function(e,t){e&&e.a&&H(e.a,this.da[t]+this.C,0)},this)},qi.prototype.O=function(){return this.t||(this.t=cn,this.a=y(this.l),this.p=f(".container",this.a)[0]),this.a},qi.prototype.v=function(){this.t&&(this.t=un,this.a=hn)},qi.prototype.Fa=function(e){return F(this.size,e)},qi.prototype.ba=function(){return this.r?s(this.r,cn):cn};var mo,go,yo;if(Sn){var vo=function(e){return function(){mo.H&&ki(mo.H),e()}};e("treesaver.nextPage",vo(ui)),e("treesaver.previousPage",vo(si)),e("treesaver.nextArticle",vo(hi)),e("treesaver.previousArticle",vo(oi))}if(Cn){document.documentElement.style.display="none",Nr.load(),o();var bo,xo=function(){bn.Tb=cn,on()},Lo=document.querySelectorAll("link[rel~=resources]");(bo=Lo.length?Lo[0].getAttribute("href"):hn)?Rr?Rr===Br?xo():Ir.push(xo):(Rr=1,Ir=[xo],Nr.get(bo,R)):xo();var wo=function(){fn=cn,on()};window.treesaverFonts?vr?vr===kr?wo():br.push(wo):(vr=1,br=[wo],w(document,"treesaver.loader_shown",T)):wo(),/complete|loaded/.test(document.readyState)?rn():w(document,"DOMContentLoaded",rn),c(tn,5e3,[],"unboot")}}).call(window);