(function(){var x,p,m,h,k,t,z,c,e,s,A,F,H,D,o,B,C;function l(){var I=+new Date()+"",J=Math.floor(Math.random()*(999999-1+1))+1;return I+"_"+J}function n(I){var K,J;if(Object.keys){K=Object.keys(I).length}else{K=0;for(J in I){if(y(I,J)){K++}}}return K}if(typeof Object.create!=="function"){Object.create=function(I){function J(){}J.prototype=I;return new J()}}B=typeof exports==="object"&&typeof module==="object"&&typeof module.exports==="object"&&typeof require==="function";p="undefined";C=Object.prototype;x=this;k=null;z=false;m={};c="3.1.2";A=z;t=z;function w(I){return C.toString.call(I)}function b(I){return w(I)==="[object Function]"}function r(I){return w(I)==="[object Array]"}function a(I){A=I}function u(I){t=I}function v(J,I){return[].slice.call(J,I||0)}function y(I,J){return I.hasOwnProperty(J)}function G(O,K,J,N,M){var L,I;L=m[K];if(M&&O.isModuleStarted(K,J)){O.stop(K,J)}if(typeof L!==p){I=q(K);L.instances[J]=I;I.__instance_id__=J;if(typeof N!==p){I.init(N)}else{I.init()}}return I}function d(J,I){var K;for(K in I){if(y(I,K)){J[K]=I[K]}}return J}function g(J,L,K,I){J[L]=(function(N,M){return function(){var P=v(arguments,0);try{return M.apply(this,P)}catch(O){F.log(K,N,O);return false}}}(L,I))}o={global:{}};function j(J,K){var I=[],L;if(typeof J!=="undefined"){for(L in J){if(y(J,L)&&L===K){I=J[L]}}}return I}D={subscribers:function(I,J){return j(o[I],J)},_getChannelEvents:function(I,J){if(typeof o[I]==="undefined"){o[I]={}}if(typeof o[I][J]==="undefined"){o[I][J]=[]}return o[I][J]},_addSubscribers:function(J,I,K){var L;for(L in J){if(y(J,L)){this.subscribeTo(I,L,J[L],K)}}},unsubscribeFrom:function(K,O,M){var I=this._getChannelEvents(K,O),N,J,L=I.length;for(J=0;J<L;J++){N=I[J];if(N.subscriber===M){I.splice(J,1)}}},subscribeTo:function(K,M,J,L){var I=this._getChannelEvents(K,M);I.push({subscriber:L,handler:J})},subscribe:function(K){var I,J=K.events;if(!K||typeof J==="undefined"){return false}for(I in J){if(y(J,I)){if(typeof o[I]==="undefined"){o[I]={}}this._addSubscribers(J[I],I,K)}}return true},_removeSubscribers:function(K,L){var M,I=0,J=0;if(typeof K!==p){M=K.length;for(;I<M;I++){if(K[I].subscriber===L){J++;K.splice(I,1)}}}return J},_removeSubscribersPerEvent:function(L,J,M){var P,O,K,N,I=0;for(P in L){if(y(L,P)){O=P.split(":");K=J;N=P;if(O[0]==="global"){K=O[0];N=O[1]}I+=this._removeSubscribers(o[K][N],M)}}return I},unsubscribe:function(L){var I=0,J,K=L.events;if(!L||typeof K==="undefined"){return false}for(J in K){if(y(K,J)){if(typeof o[J]==="undefined"){o[J]={}}I=this._removeSubscribersPerEvent(K[J],J,L)}}return I>0},_avoidBlockUI:function(K,O,J,N){var M,I=K.concat();setTimeout(function L(){var P=+new Date();do{M=I.shift();M.handler.call(M.subscriber,O);if(A){F.log(J,N,M)}}while(I.length>0&&(+new Date()-P<50));if(I.length>0){setTimeout(L,25)}},25)},publish:function(K,N,O){var J=this.subscribers(K,N),M=J.length,I,L;if(M===0){return false}if(t){this._avoidBlockUI(J,O,K,N)}else{for(I=0;I<M;I++){L=J[I];L.handler.call(L.subscriber,O);if(A){F.log(K,N,L)}}}return true},reset:function(){o={global:{}}}};function i(J,L){var K,I;K=m[J].creator(L);K.__module_id__=J;I=K.init||function(){};K.__action__=L;K.events=K.events||{};K.init=function(){var M=v(arguments,0).concat(h);L.subscribe(K);I.apply(this,M)};K.handleAction=function(N){var M=this.events[N.type];if(typeof M===p){return}M.call(this,N)};K.onDestroy=K.onDestroy||function(){};K.destroy=function(){this.onDestroy();L.unsubscribe(K)};return K}function q(J){var I,K;if(typeof m[J]===p){throw new Error("The module "+J+" is not registered!")}I=i(J,D);if(!A){for(K in I){if(y(I,K)&&b(I[K])){g(I,K,J,I[K])}}}return I}F=x.console||{log:function(){}};H=function(){};H.prototype={type:"Module",getInstance:q,register:function(K,I){var J=this;m[K]=new e(K,I);return m[K]},_setSuper:function(I,J){I.__super__={};I.__super__.__instance__=J;I.__super__.__call__=function(L,M){var K=this;while(y(K,L)===z){K=K.__instance__.__super__}K[L].apply(I,M)}},_callInSuper:function(I){return function(){var J=v(arguments,0);I.apply(this,J)}},_mergeModuleExtended:function(J,I){var K;for(K in I){if(y(I,K)){if(typeof J.__super__!==p&&b(J[K])){J.__super__[K]=(this._callInSuper(J[K]))}J[K]=I[K]}}},_mergeModuleBase:function(I,K){var J;for(J in K){if(y(K,J)){if(J!=="__super__"){I[J]=K[J]}}}},_merge:function(K,I){var J={};this._setSuper(J,K);this._mergeModuleBase(J,K);this._mergeModuleExtended(J,I);return J},extend:function(O,K,M){var J,N,R,L,P,I,Q;Q=this;J=m[O];N=O;R=function(){};if(typeof K==="string"){N=K;R=M}else{R=K}if(typeof J===p){return}P=R(D);L=J.creator(D);m[N]=new e(N,function(S){I=Q._merge(L,P);I.__action__=S;return I});return m[N]},setInstance:function(K,J,I){var L=m[K];if(!L){throw new Error("The module "+K+" is not registered!")}L.instances[J]=I;return L},setVars:function(I){if(typeof h!==p){h=d(h,I)}else{h=I}},getVars:function(){return d({},h)},_multiModuleStart:function(M,R,J,L){var K,O,Q,I,N,P;if(r(R)){K=R.slice(0)}if(r(J)){O=J.slice(0)}if(r(L)){Q=L.slice(0)}for(I=0,N=M.length;I<N;I++){P=M[I];R=K&&K[I]||l();J=O&&O[I]||J;L=Q&&Q[I]||L;G(this,P,R,J,L)}},_singleModuleStart:function(J,I,L,K){if(typeof I!=="string"){L=I;K=L;I=l()}G(this,J,I,L,K)},start:function(K,I,M,L){var J=r(K);if(J){this._multiModuleStart(K.slice(0),I,M,L)}else{this._singleModuleStart(K,I,M,L)}},isModuleStarted:function(K,I){var J=false;if(typeof I===p){J=(typeof m[K]!==p&&n(m[K].instances)>0)}else{J=(typeof m[K]!==p&&typeof m[K].instances[I]!==p)}return J},startAll:function(){var I,J;for(I in m){if(y(m,I)){J=m[I];if(typeof J!==p){this.start(I,l())}}}},_multiModuleStop:function(K){var J,L=K.instances,I;for(J in L){if(y(L,J)){I=L[J];if(typeof K!==p&&typeof I!==p){I.destroy()}}}},_singleModuleStop:function(L,K,I){var J=L.instances[I];if(typeof L!==p&&typeof J!==p){J.destroy()}},stop:function(J,I){var K;K=m[J];if(typeof K===p){return false}if(typeof I!==p){this._singleModuleStop(K,J,I)}else{this._multiModuleStop(K)}return true},_stopOneByOne:function(K,J){var I;for(I in K){if(y(K,I)){this.stop(J,I)}}},stopAll:function(){var I;for(I in m){if(y(m,I)&&typeof m[I]!==p){this._stopOneByOne(m[I].instances,I)}}},_delete:function(I){if(typeof m[I]!==p){delete m[I]}},remove:function(I){var J=m[I];if(typeof J===p){return null}if(typeof J!==p){try{return J}finally{this._delete(I)}}return null}};e=function(J,I){if(typeof I===p){console.log("test")}this.creator=I;this.instances={};this.sModuleId=J};e.prototype={start:function(I){return H.prototype.start(this.sModuleId,undefined,I)},extend:function(I,J){return H.prototype.extend(this.sModuleId,I,J)},stop:function(){H.prototype.stop(this.sModuleId)}};function f(){return F}function E(I){F=I}s=function(){};s.version=c;s.bus=D;s.errorHandler=f;s.setErrorHandler=E;s.module=new H();s.setUnblockUI=u;s.setDebug=a;s.getDebug=function(){return A};s.extend=function(J,I){if(typeof this[J]===p){this[J]=I}else{this[J]=d(this[J],I)}};s.noConflict=function(J,I,K){if(typeof this[J]!==p){I[K]=this[J];return true}return false};x.Hydra=s;if(B){module.exports=s}else{if(typeof define!=="undefined"){define(function(){return s})}}}.call(this));