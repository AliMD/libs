OpenLayers.Format.WMTSCapabilities=OpenLayers.Class(OpenLayers.Format.XML.VersionedOGC,{defaultVersion:"1.0.0",yx:{"urn:ogc:def:crs:EPSG::4326":!0},createLayer:function(e,t){var i,n={layer:!0,matrixSet:!0};for(var r in n)if(!(r in t))throw Error("Missing property '"+r+"' in layer configuration.");var s=e.contents,o=s.tileMatrixSets[t.matrixSet];s.layers;for(var a,l=0,h=s.layers.length;h>l;++l)if(s.layers[l].identifier===t.layer){a=s.layers[l];break}if(a&&o){for(var c,l=0,h=a.styles.length;h>l&&(c=a.styles[l],!c.isDefault);++l);i=new OpenLayers.Layer.WMTS(OpenLayers.Util.applyDefaults(t,{url:"REST"===t.requestEncoding&&a.resourceUrl?a.resourceUrl.tile.template:e.operationsMetadata.GetTile.dcp.http.get[0].url,name:a.title,style:c.identifier,matrixIds:o.matrixIds,tileFullExtent:o.bounds}))}return i},CLASS_NAME:"OpenLayers.Format.WMTSCapabilities"});