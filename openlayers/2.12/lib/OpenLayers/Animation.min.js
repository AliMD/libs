OpenLayers.Animation=function(e){function t(e,t,i){t=t>0?t:Number.POSITIVE_INFINITY;var n=++o,a=+new Date;return s[n]=function(){s[n]&&t>=+new Date-a?(e(),s[n]&&r(s[n],i)):delete s[n]},r(s[n],i),n}function i(e){delete s[e]}var n=!!(e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame),r=function(){var t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,16)};return function(i,n){t.apply(e,[i,n])}}(),o=0,s={};return{isNative:n,requestFrame:r,start:t,stop:i}}(window);