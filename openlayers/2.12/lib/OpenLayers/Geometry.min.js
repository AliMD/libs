OpenLayers.Geometry=OpenLayers.Class({id:null,parent:null,bounds:null,initialize:function(){this.id=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_")},destroy:function(){this.id=null,this.bounds=null},clone:function(){return new OpenLayers.Geometry},setBounds:function(e){e&&(this.bounds=e.clone())},clearBounds:function(){this.bounds=null,this.parent&&this.parent.clearBounds()},extendBounds:function(e){var t=this.getBounds();t?this.bounds.extend(e):this.setBounds(e)},getBounds:function(){return null==this.bounds&&this.calculateBounds(),this.bounds},calculateBounds:function(){},distanceTo:function(){},getVertices:function(){},atPoint:function(e,t,i){var n=!1,r=this.getBounds();if(null!=r&&null!=e){var s=null!=t?t:0,o=null!=i?i:0,a=new OpenLayers.Bounds(this.bounds.left-s,this.bounds.bottom-o,this.bounds.right+s,this.bounds.top+o);n=a.containsLonLat(e)}return n},getLength:function(){return 0},getArea:function(){return 0},getCentroid:function(){return null},toString:function(){var e;return e=OpenLayers.Format&&OpenLayers.Format.WKT?OpenLayers.Format.WKT.prototype.write(new OpenLayers.Feature.Vector(this)):Object.prototype.toString.call(this)},CLASS_NAME:"OpenLayers.Geometry"}),OpenLayers.Geometry.fromWKT=function(e){var t;if(OpenLayers.Format&&OpenLayers.Format.WKT){var i=OpenLayers.Geometry.fromWKT.format;i||(i=new OpenLayers.Format.WKT,OpenLayers.Geometry.fromWKT.format=i);var n=i.read(e);if(n instanceof OpenLayers.Feature.Vector)t=n.geometry;else if(OpenLayers.Util.isArray(n)){for(var r=n.length,s=Array(r),o=0;r>o;++o)s[o]=n[o].geometry;t=new OpenLayers.Geometry.Collection(s)}}return t},OpenLayers.Geometry.segmentsIntersect=function(e,t,i){var n=i&&i.point,r=i&&i.tolerance,s=!1,o=e.x1-t.x1,a=e.y1-t.y1,l=e.x2-e.x1,h=e.y2-e.y1,c=t.y2-t.y1,u=t.x2-t.x1,d=c*l-u*h,p=u*a-c*o,f=l*a-h*o;if(0==d)0==p&&0==f&&(s=!0);else{var m=p/d,g=f/d;if(m>=0&&1>=m&&g>=0&&1>=g)if(n){var y=e.x1+m*l,v=e.y1+m*h;s=new OpenLayers.Geometry.Point(y,v)}else s=!0}if(r){var b;if(s){if(n){var L,y,v,x=[e,t];e:for(var C=0;2>C;++C){L=x[C];for(var w=1;3>w;++w)if(y=L["x"+w],v=L["y"+w],b=Math.sqrt(Math.pow(y-s.x,2)+Math.pow(v-s.y,2)),r>b){s.x=y,s.y=v;break e}}}}else{var S,O,y,v,_,E,x=[e,t];e:for(var C=0;2>C;++C){S=x[C],O=x[(C+1)%2];for(var w=1;3>w;++w)if(_={x:S["x"+w],y:S["y"+w]},E=OpenLayers.Geometry.distanceToSegment(_,O),r>E.distance){s=n?new OpenLayers.Geometry.Point(_.x,_.y):!0;break e}}}}return s},OpenLayers.Geometry.distanceToSegment=function(e,t){var i,n,r=e.x,s=e.y,o=t.x1,a=t.y1,l=t.x2,h=t.y2,c=l-o,u=h-a,d=(c*(r-o)+u*(s-a))/(Math.pow(c,2)+Math.pow(u,2));return 0>=d?(i=o,n=a):d>=1?(i=l,n=h):(i=o+d*c,n=a+d*u),{distance:Math.sqrt(Math.pow(i-r,2)+Math.pow(n-s,2)),x:i,y:n}};