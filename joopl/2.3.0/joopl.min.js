"use strict";var $namespace=null,$def=null,$interfacedef=null,$implements=null,$global={},$enumdef=null;(function(n){var i="2.3.0",t={isSystemReservedName:function(n){switch(n.toLowerCase()){case"$ctor":case"$bctor":case"$global":case"$def":case"$interfacedef":case"$new":case"$namespace":case"$extends":case"$implements":case"$_":case"joopl":case"typeKind":case"$metadata":return!0;default:return!1}},createPropertyFromDescriptor:function(n,t,i,r){r&&(i.get&&(i.get=i.get.bind(r)),i.set&&(i.set=i.set.bind(r))),Object.defineProperty(r?r:n.prototype,t,i)},createProperty:function(t,i,r,u,f){f==n&&(f=!1),t.prototype.hasOwnProperty(i)||(r&&u?Object.defineProperty(t.prototype,i,{get:r,set:u,configurable:!f,enumerable:!0}):r?Object.defineProperty(t.prototype,i,{get:r,configurable:!f,enumerable:!0}):u&&Object.defineProperty(t.prototype,i,{set:u,configurable:!f,enumerable:!0}))},createEvent:function(n,t){if(n.hasOwnProperty(t))throw Error("The source object has already defined an event called '"+t+"'");var i=new $global.joopl.EventManager({source:n});Object.defineProperty(n,t,{get:function(){return i[t]},set:function(n){i[t]=n},configurable:!1,enumerable:!0}),i.register(t)},buildObject:function(t,i,r){return typeof t.$base=="function"?(t.$base=new t.$base(i,!1),t.$_=t.$base.$_):t.$_={},r&&t.$ctor.call(t,i),t.$base!=null&&t.$base!=n&&t.$base.$base!=null&&t.$base.$base!=n&&(t.$_.$base=t.$base.$base),t.$_.$derived=t,t},buildInheritance:function(n,t){var u,r,i;if(t!=null){for(u in t.prototype.$_)n.prototype.$_[u]||(n.prototype.$_[u]=t.prototype.$_[u]);r=null;for(i in t.prototype)r=Object.getOwnPropertyDescriptor(t.prototype,i),r?typeof r.value=="function"?n.prototype[i]=t.prototype[i]:this.createPropertyFromDescriptor(n,i,r):typeof t.prototype[i]=="function"&&(n.prototype[i]=t.prototype[i])}return t?t.prototype:null},hasValue:function(t){return t!==n&&t!=null},isFunction:function(n){return typeof n=="function"}};Object.freeze(t),$namespace={register:function(n,t){for(var f=typeof n=="string"?n.split("."):null,i=$global,r=null,u=0;u<f.length;u++)r=f[u],i[r]||(i[r]={},Object.defineProperty(i[r],"isNamespace",{value:!0,configurable:!1,enumerable:!0})),i=i[r];typeof t=="function"&&$namespace.using(n,t,!0)},alias:function(n,t){$global[t]=n},using:function(t,i,r){var l,f,e,h;if(t===n)throw new $global.joopl.ArgumentException({argName:"namespace path",reason:"No namespace path has been provided"});if(typeof t=="string"){if(t.length==0)throw new $global.joopl.ArgumentException({argName:"namespace path",reason:"No namespace path has been provided"});t=[t]}if(t.length==0)throw new $global.joopl.ArgumentException({argName:"namespace path",reason:"No namespace path has been provided"});var c=null,o=$global,u=0,s=[];for(l in t){for(c=t[l].split("."),u=0;u<c.length;u++)if(o=o[c[u]],!o)throw new $global.joopl.ArgumentException({argName:"namespace path",reason:"The namespace path '"+t[l]+"' is not valid because the namespace '"+c[u]+"' is not declared"});s.push(o),o=$global}f={},e=null;for(u in s)for(h in s[u])if(f[h])throw Error("A type called '"+h+"' in current context from another namespace already exists. Create an alias or use a full namespace paths");else e=s[u][h],(e.prototype!==n&&!e.prototype.joopl!==n||e.joopl!==n)&&(f[h]=e);return Object.preventExtensions(f),i!==n&&typeof i=="function"?(r?i.bind(s[u])():i.length==0?i.bind(f)():i.bind($global)(f),null):f}},Object.freeze($namespace),$implements=function(i,r){for(var u in r.prototype)if(t.isFunction(r.prototype[u])&&(!t.isFunction(i.prototype[u])||i.prototype[u]===n||i.prototype[u].length!==r.prototype[u].length))return{success:!1,memberName:u};return{success:!0,memberName:null}},Object.freeze($implements),$interfacedef=function(n){var r=function(){},u,f;if(r.prototype.joopl=i,Object.defineProperty(r.prototype,"typeKind",{value:MemberKind.Interface,enumerable:!0}),typeof n.$extends!="Array")t.buildInheritance(r,n.$extends);else for(u=0;u<n.$extends.length;u++)t.buildInheritance(r,n.$extends[u]);if(n.$members)for(f in n.$members)r.prototype[f]=n.$members[f];return r},Object.freeze($interfacedef),$def=function(i){var r=null,u,f,h,e,c,s,o;if(r=i.$inmutable===!0&&Object.freeze?function(i,r){t.buildObject(this,i,r===n),Object.freeze(this)}:i.$dynamic===!1&&Object.preventExtensions?function(i,r){t.buildObject(this,i,r===n),Object.preventExtensions(this)}:function(i,r){t.buildObject(this,i,r===n)},i.$extends?(t.buildInheritance(r,i.$extends),r.prototype.$base=i.$extends):r.prototype=new $global.joopl.Object,r.prototype.$ctor=i.$constructor?i.$constructor:function(){},i.$members){u=null;for(f in i.$members)if(u=Object.getOwnPropertyDescriptor(i.$members,f),typeof u.value=="function")r.prototype[f]=i.$members[f];else if(f=="$events"&&typeof u.value=="object")for(h in u.value)t.createEvent(r.prototype,u.value[h]);else(u.hasOwnProperty("value")||u.hasOwnProperty("get")||u.hasOwnProperty("set"))&&t.createPropertyFromDescriptor(r,f,u)}if(i.$implements)if(e=null,typeof i.$implements!="Array"){if(e=$interface.implementz(r,i.$implements),!interfaceResultTuple.success)throw new $global.joopl.NotImplementedException({memberName:e.memberName});}else for(c in i.$implements)if(e=$interface.implementz(r,i.$implements[c]),!e.success)throw new $global.joopl.NotImplementedException({memberName:e.memberName});if($global.joopl.Type instanceof Function){if(s=!1,Array.isArray(i.$attributes)){for(o in i.$attributes)if(!i.$attributes[o]&&!(i.$attributes[o].isTypeOf instanceof Function)&&!i.$attributes[o].isTypeOf($global.joopl.Attribute))throw new $global.joopl.ArgumentException({argName:"$attributes",reason:"A non-attribute type given as attribute"});s=i.$attributes.length>0}s?Object.defineProperty(r,"type",{configurable:!1,enumerable:!0,value:new $global.joopl.Type({attributes:i.$attributes})}):Object.defineProperty(r,"type",{configurable:!1,enumerable:!0,value:new $global.joopl.Type({attributes:[]})})}return r},Object.freeze($def),$namespace.register("joopl",function(){var n=this,r;this.Object=function(){},this.Object.prototype={get joopl(){return i},get typeKind(){return"class"},isTypeOf:function(n){var t=this,i=!1;if(this instanceof n)i=!0;else while(!i&&t.$base)(i=t.$base instanceof n)||(t=t.$base);return i}},this.Type=$def({$constructor:function(n){this.$_.attributes=n.attributes},$members:{get attributes(){return this.$_.attributes},getAttribute:function(n){for(var i=!1,t=0;!i&&t<this.attributes.length;)this.attributes[t]instanceof n?i=!0:t++;return i?this.attributes[t]:null},hasAttribute:function(n){return this.getAttribute(n)!=null}}}),this.Attribute=$def({$members:{}}),r=$def({$constructor:function(n){this.$_.value=n.value},$members:{get value(){return this.$_.value},or:function(n){var i=this.value|n,t=new Number(i);return t.enum=new r({value:i}),Object.freeze(t),t},and:function(n){var i=this.value&n,t=new Number(i);return t.enum=new r({value:i}),Object.freeze(t),t},hasFlag:function(n){return(this.value&n)===Number(n)}}}),this.Enum=new($def({$members:{parseName:function(t,i){if(t.valueNames.indexOf(i)>-1)return t[i];throw new n.ArgumentException({argName:"valueName",reason:"Given value name could not be found as value of the given enumeration type"});}}})),$enumdef=function(t){var i,e,u,f;if(typeof t!="object")throw new n.ArgumentException({argName:"enumDef",reason:"No definition for the enumeration given"});i=function(){},i.prototype=new n.Object,e=[];for(u in t){if(typeof t[u]!="number")throw new n.ArgumentException({argName:"enumDef",reason:"An enumeration definition must contain numeric properties only"});f=new Number(t[u]),f.enum=new r({value:f}),Object.defineProperty(i,u,{value:f,configurable:!1,enumerable:!0}),e.push(u)}return Object.defineProperty(i,"valueNames",{value:e,configurable:!1,enumerable:!1}),Object.freeze(i),i},Object.freeze($enumdef),this.EventManager=$def({$constructor:function(n){this.$_.source=n.source},$members:{get source(){return this.$_.source},raiseHandlers:function(n,t,i,r){var u=null,f=null,e,o;for(e in t){u=t[e],f=typeof u;switch(f){case"function":u.bind(r?r:n)(i?i:null);break;case"object":o=u.handler,o.bind(u.context?u.context:r?r:n)(i?i.args:null)}}},register:function(n){var t=[],i=this,r=this.source;Object.defineProperty(this,n,{get:function(){return function(n,r){return i.raiseHandlers(this,t,n,r)}},set:function(n){var i=t.indexOf(n);i==-1?t.push(n):t.splice(i,1)},configurable:!1,enumerable:!1})}}}),this.Exception=$def({$constructor:function(n){this.$_.message=n.message,this.$_.innerException=n.innerException},$members:{get message(){return this.$_.message},get innerException(){return this.$_.innerException},toString:function(){return this.message}}}),this.ArgumentException=$def({$extends:this.Exception,$constructor:function(n){this.$_.argName=n.argName;var t="The given argument '"+n.argName+"' is not valid";n.reason&&(t+=" (Reason: "+n.reason+")"),this.$base.$ctor({message:t})},$members:{get argName(){return this.$_.argName}}}),this.NotImplementedException=$def({$extends:this.Exception,$constructor:function(n){this.$base.$ctor({message:!t.hasValue(n)||!t.hasValue(n.memberName)?"A method or property is not implemented":"Method or property '"+n.memberName+"' is not implemented"}),this.$_.memberName=n.memberName},$members:{get memberName(){return this.$_.memberName}}})})})(undefined)