(function(e){e.extend(e.ui.gmap.prototype,{getCurrentPosition:function(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){e(t,"OK")},function(t){e(null,t)},t):e(null,"NOT_SUPPORTED")},watchPosition:function(e,t){navigator.geolocation?this.set("watch",navigator.geolocation.watchPosition(function(t){e(t,"OK")},function(t){e(null,t)},t)):e(null,"NOT_SUPPORTED")},clearWatch:function(){navigator.geolocation&&navigator.geolocation.clearWatch(this.get("watch"))},autocomplete:function(t,n){var i=this;e(this._unwrap(t)).autocomplete({source:function(t,n){i.search({address:t.term},function(t,i){"OK"===i?n(e.map(t,function(e){return{label:e.formatted_address,value:e.formatted_address,position:e.geometry.location}})):"OVER_QUERY_LIMIT"===i&&alert("Google said it's too much!")})},minLength:3,select:function(e,t){i._call(n,t)},open:function(){e(this).removeClass("ui-corner-all").addClass("ui-corner-top")},close:function(){e(this).removeClass("ui-corner-top").addClass("ui-corner-all")}})},placesSearch:function(e,t){this.get("services > PlacesService",new google.maps.places.PlacesService(this.get("map"))).search(e,t)},clearDirections:function(){var e=this.get("services > DirectionsRenderer");e&&(e.setMap(null),e.setPanel(null))},pagination:function(t){var n=e("<div id='pagination' class='pagination shadow gradient rounded clearfix'><div class='lt btn back-btn'></div><div class='lt display'></div><div class='rt btn fwd-btn'></div></div>"),i=this,r=0,t=t||"title";i.set("p_nav",function(e,o){e&&(r+=o,n.find(".display").text(i.get("markers")[r][t]),i.get("map").panTo(i.get("markers")[r].getPosition()))}),i.get("p_nav")(!0,0),n.find(".back-btn").click(function(){i.get("p_nav")(r>0,-1,this)}),n.find(".fwd-btn").click(function(){i.get("p_nav")(i.get("markers").length-1>r,1,this)}),i.addControl(n,google.maps.ControlPosition.TOP_LEFT)}})})(jQuery);