define("ace/mode/coffee",["require","exports","module","ace/tokenizer","ace/mode/coffee_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/mode/text","ace/worker/worker_client","pilot/oop"],function(e,t){function i(){this.$tokenizer=new n((new r).getRules()),this.$outdent=new o}var n=e("ace/tokenizer").Tokenizer,r=e("ace/mode/coffee_highlight_rules").CoffeeHighlightRules,o=e("ace/mode/matching_brace_outdent").MatchingBraceOutdent,s=e("ace/range").Range,a=e("ace/mode/text").Mode,c=e("ace/worker/worker_client").WorkerClient,l=e("pilot/oop");l.inherits(i,a),function(){var e=/(?:[({[=:]|[-=]>|\b(?:else|switch|try|catch(?:\s*[$A-Za-z_\x7f-\uffff][$\w\x7f-\uffff]*)?|finally))\s*$/,t=/^(\s*)#/,i=/^\s*###(?!#)/,n=/^\s*/;this.getNextLineIndent=function(t,i,n){var r=this.$getIndent(i),o=this.$tokenizer.getLineTokens(i,t).tokens;return(!o.length||"comment"!==o[o.length-1].type)&&"start"===t&&e.test(i)&&(r+=n),r},this.toggleCommentLines=function(e,r,o,a){console.log("toggle");for(var c=new s(0,0,0,0),l=o;a>=l;++l){var h=r.getLine(l);i.test(h)||(h=t.test(h)?h.replace(t,"$1"):h.replace(n,"$&#"),c.end.row=c.start.row=l,c.end.column=h.length+1,r.replace(c,h))}},this.checkOutdent=function(e,t,i){return this.$outdent.checkOutdent(t,i)},this.autoOutdent=function(e,t,i){this.$outdent.autoOutdent(t,i)},this.createWorker=function(e){var t=e.getDocument(),i=new c(["ace","pilot"],"worker-coffee.js","ace/mode/coffee_worker","Worker");i.call("setValue",[t.getValue()]),t.on("change",function(e){e.range={start:e.data.range.start,end:e.data.range.end},i.emit("change",e)}),i.on("error",function(t){e.setAnnotations([t.data])}),i.on("ok",function(){e.clearAnnotations()})}}.call(i.prototype),t.Mode=i}),define("ace/mode/coffee_highlight_rules",["require","exports","module","pilot/oop","ace/mode/text_highlight_rules"],function(e,t){function i(){var e="[$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*",t="(?![$\\w]|\\s*:)",i={token:"string",merge:!0,regex:".+"};this.$rules={start:[{token:"identifier",regex:"(?:@|(?:\\.|::)\\s*)"+e},{token:"keyword",regex:"(?:t(?:h(?:is|row|en)|ry|ypeof)|s(?:uper|witch)|return|b(?:reak|y)|c(?:ontinue|atch|lass)|i(?:n(?:stanceof)?|s(?:nt)?|f)|e(?:lse|xtends)|f(?:or (?:own)?|inally|unction)|wh(?:ile|en)|n(?:ew|ot?)|d(?:e(?:lete|bugger)|o)|loop|o(?:ff?|[rn])|un(?:less|til)|and|yes)"+t},{token:"constant.language",regex:"(?:true|false|null|undefined)"+t},{token:"invalid.illegal",regex:"(?:c(?:ase|onst)|default|function|v(?:ar|oid)|with|e(?:num|xport)|i(?:mplements|nterface)|let|p(?:ackage|r(?:ivate|otected)|ublic)|static|yield|__(?:hasProp|extends|slice|bind|indexOf))"+t},{token:"language.support.class",regex:"(?:Array|Boolean|Date|Function|Number|Object|R(?:e(?:gExp|ferenceError)|angeError)|S(?:tring|yntaxError)|E(?:rror|valError)|TypeError|URIError)"+t},{token:"language.support.function",regex:"(?:Math|JSON|is(?:NaN|Finite)|parse(?:Int|Float)|encodeURI(?:Component)?|decodeURI(?:Component)?)"+t},{token:"identifier",regex:e},{token:"constant.numeric",regex:"(?:0x[\\da-fA-F]+|(?:\\d+(?:\\.\\d+)?|\\.\\d+)(?:[eE][+-]?\\d+)?)"},{token:"string",merge:!0,regex:"'''",next:"qdoc"},{token:"string",merge:!0,regex:'"""',next:"qqdoc"},{token:"string",merge:!0,regex:"'",next:"qstring"},{token:"string",merge:!0,regex:'"',next:"qqstring"},{token:"string",merge:!0,regex:"`",next:"js"},{token:"string.regex",merge:!0,regex:"///",next:"heregex"},{token:"string.regex",regex:"/(?!\\s)[^[/\\n\\\\]*(?: (?:\\\\.|\\[[^\\]\\n\\\\]*(?:\\\\.[^\\]\\n\\\\]*)*\\])[^[/\\n\\\\]*)*/[imgy]{0,4}(?!\\w)"},{token:"comment",merge:!0,regex:"###(?!#)",next:"comment"},{token:"comment",regex:"#.*"},{token:"lparen",regex:"[({[]"},{token:"rparen",regex:"[\\]})]"},{token:"keyword.operator",regex:"\\S+"},{token:"text",regex:"\\s+"}],qdoc:[{token:"string",regex:".*?'''",next:"start"},i],qqdoc:[{token:"string",regex:'.*?"""',next:"start"},i],qstring:[{token:"string",regex:"[^\\\\']*(?:\\\\.[^\\\\']*)*'",next:"start"},i],qqstring:[{token:"string",regex:'[^\\\\"]*(?:\\\\.[^\\\\"]*)*"',next:"start"},i],js:[{token:"string",merge:!0,regex:"[^\\\\`]*(?:\\\\.[^\\\\`]*)*`",next:"start"},i],heregex:[{token:"string.regex",regex:".*?///[imgy]{0,4}",next:"start"},{token:"comment.regex",regex:"\\s+(?:#.*)?"},{token:"string.regex",merge:!0,regex:"\\S+"}],comment:[{token:"comment",regex:".*?###",next:"start"},{token:"comment",merge:!0,regex:".+"}]}}e("pilot/oop").inherits(i,e("ace/mode/text_highlight_rules").TextHighlightRules),t.CoffeeHighlightRules=i}),define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t){var i=e("ace/range").Range,n=function(){};(function(){this.checkOutdent=function(e,t){return/^\s+$/.test(e)?/^\s*\}/.test(t):!1},this.autoOutdent=function(e,t){var n=e.getLine(t),r=n.match(/^(\s*\})/);if(!r)return 0;var o=r[1].length,s=e.findMatchingBracket({row:t,column:o});if(!s||s.row==t)return 0;var a=this.$getIndent(e.getLine(s.row));e.replace(new i(t,0,t,o-1),a)},this.$getIndent=function(e){var t=e.match(/^(\s+)/);return t?t[1]:""}}).call(n.prototype),t.MatchingBraceOutdent=n}),define("ace/worker/worker_client",["require","exports","module","pilot/oop","pilot/event_emitter"],function(e,t){var i=e("pilot/oop"),n=e("pilot/event_emitter").EventEmitter,r=function(t,i,n,r){if(this.callbacks=[],e.packaged){var o=this.$guessBasePath();this.$worker=new Worker(o+i)}else for(var s=this.$normalizePath(e.nameToUrl("ace/worker/worker",null,"_")),a=(this.$worker=new Worker(s),{}),c=0;t.length>c;c++){var l=t[c],h=this.$normalizePath(e.nameToUrl(l,null,"_").replace(/.js$/,""));a[l]=h}this.$worker.postMessage({init:!0,tlns:a,module:n,classname:r}),this.callbackId=1,this.callbacks={};var u=this;this.$worker.onerror=function(e){throw window.console&&console.log&&console.log(e),e},this.$worker.onmessage=function(e){var t=e.data;switch(t.type){case"log":window.console&&console.log&&console.log(t.data);break;case"event":u._dispatchEvent(t.name,{data:t.data});break;case"call":var i=u.callbacks[t.id];i&&(i(t.data),delete u.callbacks[t.id])}}};(function(){i.implement(this,n),this.$normalizePath=function(e){return e.match(/^\w+:/)||(e=location.protocol+"//"+location.host+location.pathname+"/"+e),e},this.$guessBasePath=function(){if(e.aceBaseUrl)return e.aceBaseUrl;for(var t=document.getElementsByTagName("script"),i=0;t.length>i;i++){var n=t[i],r=n.getAttribute("data-ace-base");if(r)return r.replace(/\/*$/,"/");var o=n.src||n.getAttribute("src");if(o){var s=o.match(/^(?:(.*\/)ace\.js|(.*\/)ace-uncompressed\.js)(?:\?|$)/);if(s)return s[1]||s[2]}}return""},this.terminate=function(){this._dispatchEvent("terminate",{}),this.$worker.terminate()},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,i){if(i){var n=this.callbackId++;this.callbacks[n]=i,t.push(n)}this.send(e,t)},this.emit=function(e,t){this.$worker.postMessage({event:e,data:t})}}).call(r.prototype),t.WorkerClient=r});