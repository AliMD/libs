(function(e){function t(t){void 0==window.DOMParser&&window.ActiveXObject&&(DOMParser=function(){},DOMParser.prototype.parseFromString=function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t});try{var n=(new DOMParser).parseFromString(t,"text/xml");if(!e.isXMLDoc(n))throw"Unable to parse XML";var i=e("parsererror",n);if(1==i.length)throw"Error: "+e(n).text()}catch(r){var o=void 0==r.name?r:r.name+": "+r.message;return e(document).trigger("xmlParseError",[o]),void 0}return n}function n(e,t,n){(e.context?jQuery(e.context):jQuery.event).trigger(t,n)}function i(t,n){var r=!1;return"string"==typeof n?e.isFunction(t.test)?t.test(n):t==n:(e.each(t,function(o){return void 0===n[o]?r=!1:(r=!0,"object"==typeof n[o]?i(t[o],n[o]):r=e.isFunction(t[o].test)?t[o].test(n[o]):t[o]==n[o])}),r)}function r(t,n){if(e.isFunction(t))return t(n);if(e.isFunction(t.url.test)){if(!t.url.test(n.url))return null}else{var r=t.url.indexOf("*");if(t.url!==n.url&&-1===r||!RegExp(t.url.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace("*",".+")).test(n.url))return null}return t.data&&n.data&&!i(t.data,n.data)?null:t&&t.type&&t.type.toLowerCase()!=n.type.toLowerCase()?null:t}function o(t,n){var i=e.extend({},e.mockjaxSettings,t);i.log&&e.isFunction(i.log)&&i.log("MOCK "+n.type.toUpperCase()+": "+n.url,e.extend({},n))}function a(n,i,r){var o=function(o){return function(){return function(){this.status=n.status,this.statusText=n.statusText,this.readyState=4,e.isFunction(n.response)&&n.response(r),"json"==i.dataType&&"object"==typeof n.responseText?this.responseText=JSON.stringify(n.responseText):"xml"==i.dataType?this.responseXML="string"==typeof n.responseXML?t(n.responseXML):n.responseXML:this.responseText=n.responseText,("number"==typeof n.status||"string"==typeof n.status)&&(this.status=n.status),"string"==typeof n.statusText&&(this.statusText=n.statusText),e.isFunction(this.onreadystatechange)?(n.isTimeout&&(this.status=-1),this.onreadystatechange(n.isTimeout?"timeout":void 0)):n.isTimeout&&(this.status=-1)}.apply(o)}}(this);n.proxy?g({global:!1,url:n.proxy,type:n.proxyType,data:n.data,dataType:"script"===i.dataType?"text/plain":i.dataType,complete:function(e){n.responseXML=e.responseXML,n.responseText=e.responseText,n.status=e.status,n.statusText=e.statusText,this.responseTimer=setTimeout(o,n.responseTime||0)}}):i.async===!1?o():this.responseTimer=setTimeout(o,n.responseTime||50)}function s(t,n,i,r){return t=e.extend({},e.mockjaxSettings,t),t.headers===void 0&&(t.headers={}),t.contentType&&(t.headers["content-type"]=t.contentType),{status:t.status,statusText:t.statusText,readyState:1,open:function(){},send:function(){r.fired=!0,a.call(this,t,n,i)},abort:function(){clearTimeout(this.responseTimer)},setRequestHeader:function(e,n){t.headers[e]=n},getResponseHeader:function(e){return t.headers&&t.headers[e]?t.headers[e]:"last-modified"==e.toLowerCase()?t.lastModified||""+new Date:"etag"==e.toLowerCase()?t.etag||"":"content-type"==e.toLowerCase()?t.contentType||"text/plain":void 0},getAllResponseHeaders:function(){var n="";return e.each(t.headers,function(e,t){n+=e+": "+t+"\n"}),n}}}function l(e,t,n){if(c(e),e.dataType="json",e.data&&v.test(e.data)||v.test(e.url)){d(e,t);var i=/^(\w+:)?\/\/([^\/?#]+)/,r=i.exec(e.url),o=r&&(r[1]&&r[1]!==location.protocol||r[2]!==location.host);if(e.dataType="script","GET"===e.type.toUpperCase()&&o){var a=u(e,t,n);return a?a:!0}}return null}function c(e){"GET"===e.type.toUpperCase()?v.test(e.url)||(e.url+=(/\?/.test(e.url)?"&":"?")+(e.jsonp||"callback")+"=?"):e.data&&v.test(e.data)||(e.data=(e.data?e.data+"&":"")+(e.jsonp||"callback")+"=?")}function u(t,n,i){var r=(i&&i.context||t,null);return n.response&&e.isFunction(n.response)?n.response(i):"object"==typeof n.responseText?e.globalEval("("+JSON.stringify(n.responseText)+")"):e.globalEval("("+n.responseText+")"),h(t,n),p(t,n),jQuery.Deferred&&(r=new jQuery.Deferred,"object"==typeof n.responseText?r.resolve(n.responseText):r.resolve(jQuery.parseJSON(n.responseText))),r}function d(e,t){jsonp=e.jsonpCallback||"jsonp"+b++,e.data&&(e.data=(e.data+"").replace(v,"="+jsonp+"$1")),e.url=e.url.replace(v,"="+jsonp+"$1"),window[jsonp]=window[jsonp]||function(n){data=n,h(e,t),p(e,t),window[jsonp]=void 0;try{delete window[jsonp]}catch(i){}head&&head.removeChild(script)}}function h(e,t){e.success&&e.success.call(callbackContext,t.response?""+t.response:t.responseText||"",status,{}),e.global&&n(e,"ajaxSuccess",[{},e])}function p(e){e.complete&&e.complete.call(callbackContext,{},status),e.global&&n("ajaxComplete",[{},e]),e.global&&!--jQuery.active&&jQuery.event.trigger("ajaxStop")}function f(t,n){var i,a,c;"object"==typeof t?(n=t,t=void 0):n.url=t,a=jQuery.extend(!0,{},jQuery.ajaxSettings,n);for(var u=0;m.length>u;u++)if(m[u]&&(c=r(m[u],a)))return o(c,a),"jsonp"===a.dataType&&(i=l(a,c,n))?i:(c.cache=a.cache,c.timeout=a.timeout,c.global=a.global,function(t,n,r,o){i=g.call(e,e.extend(!0,{},r,{xhr:function(){return s(t,n,r,o)}}))}(c,a,n,m[u]),i);return g.apply(e,[n])}var g=e.ajax,m=[],v=/=\?(&|$)/,b=(new Date).getTime();e.extend({ajax:f}),e.mockjaxSettings={log:function(e){window.console&&window.console.log&&window.console.log(e)},status:200,statusText:"OK",responseTime:500,isTimeout:!1,contentType:"text/plain",response:"",responseText:"",responseXML:"",proxy:"",proxyType:"GET",lastModified:null,etag:"",headers:{etag:"IJF@H#@923uf8023hFO@I#H#","content-type":"text/plain"}},e.mockjax=function(e){var t=m.length;return m[t]=e,t},e.mockjaxClear=function(e){1==arguments.length?m[e]=null:m=[]},e.mockjax.handler=function(e){return 1==arguments.length?m[e]:void 0}})(jQuery);