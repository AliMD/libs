(function(t,i){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"4.1.3",settings:{activeClass:"open",opened:function(){},closed:function(){}},init:function(i,e,n){return this.scope=i||this.scope,Foundation.inherit(this,"throttle scrollLeft"),"object"==typeof e&&t.extend(!0,this.settings,e),"string"!=typeof e?(this.settings.init||this.events(),this.settings.init):this[e].call(this,n)},events:function(){var e=this;t(this.scope).on("click.fndtn.dropdown","[data-dropdown]",function(i){i.preventDefault(),e.toggle(t(this))}).on("opened.fndtn.dropdown","[data-dropdown-content]",this.settings.opened).on("closed.fndtn.dropdown","[data-dropdown-content]",this.settings.closed),t("body").on("click.fndtn.dropdown",function(i){var n=t(i.target).closest("[data-dropdown-content]");if(!t(i.target).data("dropdown"))return n.length>0&&(t(i.target).is("[data-dropdown-content]")||t.contains(n.first()[0],i.target))?(i.stopPropagation(),undefined):(e.close.call(e,t("[data-dropdown-content]")),undefined)}),t(i).on("resize.fndtn.dropdown",e.throttle(function(){e.resize.call(e)},50)).trigger("resize"),this.settings.init=!0},close:function(i){var e=this;i.each(function(){t(this).hasClass(e.settings.activeClass)&&(t(this).css(Foundation.rtl?"right":"left","-99999px").removeClass(e.settings.activeClass),t(this).trigger("closed"))})},open:function(t,i){this.css(t.addClass(this.settings.activeClass),i),t.trigger("opened")},toggle:function(i){var e=t("#"+i.data("dropdown"));this.close.call(this,t("[data-dropdown-content]").not(e)),e.hasClass(this.settings.activeClass)?this.close.call(this,e):this.open.call(this,e,i)},resize:function(){var i=t("[data-dropdown-content].open"),e=t("[data-dropdown='"+i.attr("id")+"']");i.length&&e.length&&this.css(i,e)},css:function(e,n){if(/body/i.test(e.offsetParent()[0].nodeName)){var s=n.offset();s.top-=e.offsetParent().offset().top,s.left-=e.offsetParent().offset().left}else var s=n.position();if(this.small())e.css({position:"absolute",width:"95%",left:"2.5%","max-width":"none",top:s.top+this.outerHeight(n)});else{if(!Foundation.rtl&&t(i).width()>this.outerWidth(e)+n.offset().left)var o=s.left;else{e.hasClass("right")||e.addClass("right");var o=s.left-(this.outerWidth(e)-this.outerWidth(n))}e.attr("style","").css({position:"absolute",top:s.top+this.outerHeight(n),left:o})}return e},small:function(){return 768>t(i).width()||t("html").hasClass("lt-ie9")},off:function(){t(this.scope).off(".fndtn.dropdown"),t("html, body").off(".fndtn.dropdown"),t(i).off(".fndtn.dropdown"),t("[data-dropdown-content]").off(".fndtn.dropdown"),this.settings.init=!1}}})(Foundation.zj,this,this.document);