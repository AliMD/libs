(function(e,t){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"4.1.0",settings:{activeClass:"open"},init:function(t,n,i){return this.scope=t||this.scope,Foundation.inherit(this,"throttle scrollLeft"),"object"==typeof n&&e.extend(!0,this.settings,n),"string"!=typeof n?(this.settings.init||this.events(),this.settings.init):this[n].call(this,i)},events:function(){var n=this;e(this.scope).on("click.fndtn.dropdown","[data-dropdown]",function(t){t.preventDefault(),n.toggle(e(this))}),e("body").on("click.fndtn.dropdown",function(t){var i=e(t.target).closest("[data-dropdown-content]");if(!e(t.target).data("dropdown"))return i.length>0&&(e(t.target).is("[data-dropdown-content]")||e.contains(i.first()[0],t.target))?(t.stopPropagation(),undefined):(e("[data-dropdown-content]").css(Foundation.rtl?"right":"left","-99999px").removeClass(n.settings.activeClass),undefined)}),e(t).on("resize.fndtn.dropdown",n.throttle(function(){n.resize.call(n)},50)).trigger("resize"),this.settings.init=!0},toggle:function(t){var n=e("#"+t.data("dropdown"));e("[data-dropdown-content]").not(n).css(Foundation.rtl?"right":"left","-99999px").removeClass(this.settings.activeClass),n.hasClass(this.settings.activeClass)?n.css(Foundation.rtl?"right":"left","-99999px").removeClass(this.settings.activeClass):this.css(n.addClass(this.settings.activeClass),t)},resize:function(){var t=e("[data-dropdown-content].open"),n=e("[data-dropdown='"+t.attr("id")+"']");t.length&&n.length&&this.css(t,n)},css:function(n,i){var r=i.position();if(r.top+=i.offsetParent().offset().top,r.left+=i.offsetParent().offset().left,this.small())n.css({position:"absolute",width:"95%",left:"2.5%","max-width":"none",top:r.top+this.outerHeight(i)});else{if(!Foundation.rtl&&e(t).width()>this.outerWidth(n)+i.offset().left)var o=r.left;else{n.hasClass("right")||n.addClass("right");var o=r.left-(this.outerWidth(n)-this.outerWidth(i))}n.attr("style","").css({position:"absolute",top:r.top+this.outerHeight(i),left:o})}return n},small:function(){return 768>e(t).width()||e("html").hasClass("lt-ie9")},off:function(){e(this.scope).off(".fndtn.dropdown"),e("html, body").off(".fndtn.dropdown"),e(t).off(".fndtn.dropdown"),e("[data-dropdown-content]").off(".fndtn.dropdown"),this.settings.init=!1}}})(Foundation.zj,this,this.document);